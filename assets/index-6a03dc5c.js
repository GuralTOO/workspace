var rs=Object.defineProperty;var is=(e,i,s)=>i in e?rs(e,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[i]=s;var Cn=(e,i,s)=>(is(e,typeof i!="symbol"?i+"":i,s),s),ar=(e,i,s)=>{if(!i.has(e))throw TypeError("Cannot "+s)};var ft=(e,i,s)=>(ar(e,i,"read from private field"),s?s.call(e):i.get(e)),Bt=(e,i,s)=>{if(i.has(e))throw TypeError("Cannot add the same private member more than once");i instanceof WeakSet?i.add(e):i.set(e,s)},rn=(e,i,s,o)=>(ar(e,i,"write to private field"),o?o.call(e,s):i.set(e,s),s),er=(e,i,s,o)=>({set _(a){rn(e,i,a,s)},get _(){return ft(e,i,o)}}),Gt=(e,i,s)=>(ar(e,i,"access private method"),s);function _mergeNamespaces(e,i){for(var s=0;s<i.length;s++){const o=i[s];if(typeof o!="string"&&!Array.isArray(o)){for(const a in o)if(a!=="default"&&!(a in e)){const c=Object.getOwnPropertyDescriptor(o,a);c&&Object.defineProperty(e,a,c.get?c:{enumerable:!0,get:()=>o[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function s(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=s(a);fetch(a.href,c)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var i=e.default;if(typeof i=="function"){var s=function o(){if(this instanceof o){var a=[null];a.push.apply(a,arguments);var c=Function.bind.apply(i,a);return new c}return i.apply(this,arguments)};s.prototype=i.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(o){var a=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(s,o,a.get?a:{enumerable:!0,get:function(){return e[o]}})}),s}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$2=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$1=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(e){return e===null||typeof e!="object"?null:(e=z$1&&e[z$1]||e["@@iterator"],typeof e=="function"?e:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(e,i,s){this.props=e,this.context=i,this.refs=D$1,this.updater=s||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(e,i){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,i,"setState")};E$1.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(e,i,s){this.props=e,this.context=i,this.refs=D$1,this.updater=s||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(e,i,s){var o,a={},c=null,d=null;if(i!=null)for(o in i.ref!==void 0&&(d=i.ref),i.key!==void 0&&(c=""+i.key),i)J.call(i,o)&&!L$1.hasOwnProperty(o)&&(a[o]=i[o]);var h=arguments.length-2;if(h===1)a.children=s;else if(1<h){for(var g=Array(h),_=0;_<h;_++)g[_]=arguments[_+2];a.children=g}if(e&&e.defaultProps)for(o in h=e.defaultProps,h)a[o]===void 0&&(a[o]=h[o]);return{$$typeof:l$1,type:e,key:c,ref:d,props:a,_owner:K$1.current}}function N$1(e,i){return{$$typeof:l$1,type:e.type,key:i,ref:e.ref,props:e.props,_owner:e._owner}}function O$1(e){return typeof e=="object"&&e!==null&&e.$$typeof===l$1}function escape$1(e){var i={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return i[s]})}var P$1=/\/+/g;function Q$1(e,i){return typeof e=="object"&&e!==null&&e.key!=null?escape$1(""+e.key):i.toString(36)}function R$1(e,i,s,o,a){var c=typeof e;(c==="undefined"||c==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(c){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case l$1:case n$1:d=!0}}if(d)return d=e,a=a(d),e=o===""?"."+Q$1(d,0):o,I$1(a)?(s="",e!=null&&(s=e.replace(P$1,"$&/")+"/"),R$1(a,i,s,"",function(_){return _})):a!=null&&(O$1(a)&&(a=N$1(a,s+(!a.key||d&&d.key===a.key?"":(""+a.key).replace(P$1,"$&/")+"/")+e)),i.push(a)),1;if(d=0,o=o===""?".":o+":",I$1(e))for(var h=0;h<e.length;h++){c=e[h];var g=o+Q$1(c,h);d+=R$1(c,i,s,g,a)}else if(g=A$1(e),typeof g=="function")for(e=g.call(e),h=0;!(c=e.next()).done;)c=c.value,g=o+Q$1(c,h++),d+=R$1(c,i,s,g,a);else if(c==="object")throw i=String(e),Error("Objects are not valid as a React child (found: "+(i==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":i)+"). If you meant to render a collection of children, use an array instead.");return d}function S$1(e,i,s){if(e==null)return e;var o=[],a=0;return R$1(e,o,"","",function(c){return i.call(s,c,a++)}),o}function T$1(e){if(e._status===-1){var i=e._result;i=i(),i.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=i)}if(e._status===1)return e._result.default;throw e._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};react_production_min.Children={map:S$1,forEach:function(e,i,s){S$1(e,function(){i.apply(this,arguments)},s)},count:function(e){var i=0;return S$1(e,function(){i++}),i},toArray:function(e){return S$1(e,function(i){return i})||[]},only:function(e){if(!O$1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};react_production_min.Component=E$1;react_production_min.Fragment=p$2;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.cloneElement=function(e,i,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=C$1({},e.props),a=e.key,c=e.ref,d=e._owner;if(i!=null){if(i.ref!==void 0&&(c=i.ref,d=K$1.current),i.key!==void 0&&(a=""+i.key),e.type&&e.type.defaultProps)var h=e.type.defaultProps;for(g in i)J.call(i,g)&&!L$1.hasOwnProperty(g)&&(o[g]=i[g]===void 0&&h!==void 0?h[g]:i[g])}var g=arguments.length-2;if(g===1)o.children=s;else if(1<g){h=Array(g);for(var _=0;_<g;_++)h[_]=arguments[_+2];o.children=h}return{$$typeof:l$1,type:e.type,key:a,ref:c,props:o,_owner:d}};react_production_min.createContext=function(e){return e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:t,_context:e},e.Consumer=e};react_production_min.createElement=M$1;react_production_min.createFactory=function(e){var i=M$1.bind(null,e);return i.type=e,i};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(e){return{$$typeof:v$1,render:e}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(e){return{$$typeof:y,_payload:{_status:-1,_result:e},_init:T$1}};react_production_min.memo=function(e,i){return{$$typeof:x,type:e,compare:i===void 0?null:i}};react_production_min.startTransition=function(e){var i=V$1.transition;V$1.transition={};try{e()}finally{V$1.transition=i}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(e,i){return U$1.current.useCallback(e,i)};react_production_min.useContext=function(e){return U$1.current.useContext(e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(e){return U$1.current.useDeferredValue(e)};react_production_min.useEffect=function(e,i){return U$1.current.useEffect(e,i)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(e,i,s){return U$1.current.useImperativeHandle(e,i,s)};react_production_min.useInsertionEffect=function(e,i){return U$1.current.useInsertionEffect(e,i)};react_production_min.useLayoutEffect=function(e,i){return U$1.current.useLayoutEffect(e,i)};react_production_min.useMemo=function(e,i){return U$1.current.useMemo(e,i)};react_production_min.useReducer=function(e,i,s){return U$1.current.useReducer(e,i,s)};react_production_min.useRef=function(e){return U$1.current.useRef(e)};react_production_min.useState=function(e){return U$1.current.useState(e)};react_production_min.useSyncExternalStore=function(e,i,s){return U$1.current.useSyncExternalStore(e,i,s)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q(e,i,s){var o,a={},c=null,d=null;s!==void 0&&(c=""+s),i.key!==void 0&&(c=""+i.key),i.ref!==void 0&&(d=i.ref);for(o in i)m$1.call(i,o)&&!p$1.hasOwnProperty(o)&&(a[o]=i[o]);if(e&&e.defaultProps)for(o in i=e.defaultProps,i)a[o]===void 0&&(a[o]=i[o]);return{$$typeof:k,type:e,key:c,ref:d,props:a,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function i(Lt,jt){var Xt=Lt.length;Lt.push(jt);e:for(;0<Xt;){var Kt=Xt-1>>>1,tn=Lt[Kt];if(0<a(tn,jt))Lt[Kt]=jt,Lt[Xt]=tn,Xt=Kt;else break e}}function s(Lt){return Lt.length===0?null:Lt[0]}function o(Lt){if(Lt.length===0)return null;var jt=Lt[0],Xt=Lt.pop();if(Xt!==jt){Lt[0]=Xt;e:for(var Kt=0,tn=Lt.length,an=tn>>>1;Kt<an;){var Ot=2*(Kt+1)-1,ht=Lt[Ot],mt=Ot+1,xt=Lt[mt];if(0>a(ht,Xt))mt<tn&&0>a(xt,ht)?(Lt[Kt]=xt,Lt[mt]=Xt,Kt=mt):(Lt[Kt]=ht,Lt[Ot]=Xt,Kt=Ot);else if(mt<tn&&0>a(xt,Xt))Lt[Kt]=xt,Lt[mt]=Xt,Kt=mt;else break e}}return jt}function a(Lt,jt){var Xt=Lt.sortIndex-jt.sortIndex;return Xt!==0?Xt:Lt.id-jt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();e.unstable_now=function(){return d.now()-h}}var g=[],_=[],b=1,$=null,st=3,lt=!1,nt=!1,tt=!1,dt=typeof setTimeout=="function"?setTimeout:null,et=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function rt(Lt){for(var jt=s(_);jt!==null;){if(jt.callback===null)o(_);else if(jt.startTime<=Lt)o(_),jt.sortIndex=jt.expirationTime,i(g,jt);else break;jt=s(_)}}function ut(Lt){if(tt=!1,rt(Lt),!nt)if(s(g)!==null)nt=!0,Wt(_t);else{var jt=s(_);jt!==null&&Yt(ut,jt.startTime-Lt)}}function _t(Lt,jt){nt=!1,tt&&(tt=!1,et(j),j=-1),lt=!0;var Xt=st;try{for(rt(jt),$=s(g);$!==null&&(!($.expirationTime>jt)||Lt&&!at());){var Kt=$.callback;if(typeof Kt=="function"){$.callback=null,st=$.priorityLevel;var tn=Kt($.expirationTime<=jt);jt=e.unstable_now(),typeof tn=="function"?$.callback=tn:$===s(g)&&o(g),rt(jt)}else o(g);$=s(g)}if($!==null)var an=!0;else{var Ot=s(_);Ot!==null&&Yt(ut,Ot.startTime-jt),an=!1}return an}finally{$=null,st=Xt,lt=!1}}var At=!1,gt=null,j=-1,ot=5,pt=-1;function at(){return!(e.unstable_now()-pt<ot)}function vt(){if(gt!==null){var Lt=e.unstable_now();pt=Lt;var jt=!0;try{jt=gt(!0,Lt)}finally{jt?kt():(At=!1,gt=null)}}else At=!1}var kt;if(typeof it=="function")kt=function(){it(vt)};else if(typeof MessageChannel<"u"){var bt=new MessageChannel,Mt=bt.port2;bt.port1.onmessage=vt,kt=function(){Mt.postMessage(null)}}else kt=function(){dt(vt,0)};function Wt(Lt){gt=Lt,At||(At=!0,kt())}function Yt(Lt,jt){j=dt(function(){Lt(e.unstable_now())},jt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Lt){Lt.callback=null},e.unstable_continueExecution=function(){nt||lt||(nt=!0,Wt(_t))},e.unstable_forceFrameRate=function(Lt){0>Lt||125<Lt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ot=0<Lt?Math.floor(1e3/Lt):5},e.unstable_getCurrentPriorityLevel=function(){return st},e.unstable_getFirstCallbackNode=function(){return s(g)},e.unstable_next=function(Lt){switch(st){case 1:case 2:case 3:var jt=3;break;default:jt=st}var Xt=st;st=jt;try{return Lt()}finally{st=Xt}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Lt,jt){switch(Lt){case 1:case 2:case 3:case 4:case 5:break;default:Lt=3}var Xt=st;st=Lt;try{return jt()}finally{st=Xt}},e.unstable_scheduleCallback=function(Lt,jt,Xt){var Kt=e.unstable_now();switch(typeof Xt=="object"&&Xt!==null?(Xt=Xt.delay,Xt=typeof Xt=="number"&&0<Xt?Kt+Xt:Kt):Xt=Kt,Lt){case 1:var tn=-1;break;case 2:tn=250;break;case 5:tn=1073741823;break;case 4:tn=1e4;break;default:tn=5e3}return tn=Xt+tn,Lt={id:b++,callback:jt,priorityLevel:Lt,startTime:Xt,expirationTime:tn,sortIndex:-1},Xt>Kt?(Lt.sortIndex=Xt,i(_,Lt),s(g)===null&&Lt===s(_)&&(tt?(et(j),j=-1):tt=!0,Yt(ut,Xt-Kt))):(Lt.sortIndex=tn,i(g,Lt),nt||lt||(nt=!0,Wt(_t))),Lt},e.unstable_shouldYield=at,e.unstable_wrapCallback=function(Lt){var jt=st;return function(){var Xt=st;st=jt;try{return Lt.apply(this,arguments)}finally{st=Xt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p(e){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(e,i){ha(e,i),ha(e+"Capture",i)}function ha(e,i){for(ea[e]=i,e=0;e<i.length;e++)da.add(i[e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(e){return ja.call(ma,e)?!0:ja.call(la,e)?!1:ka.test(e)?ma[e]=!0:(la[e]=!0,!1)}function pa(e,i,s,o){if(s!==null&&s.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return o?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qa(e,i,s,o){if(i===null||typeof i>"u"||pa(e,i,s,o))return!0;if(o)return!1;if(s!==null)switch(s.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function v(e,i,s,o,a,c,d){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=o,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=i,this.sanitizeURL=c,this.removeEmptyString=d}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){z[e]=new v(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var i=e[0];z[i]=new v(i,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){z[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){z[e]=new v(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){z[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){z[e]=new v(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){z[e]=new v(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){z[e]=new v(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){z[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var i=e.replace(ra,sa);z[i]=new v(i,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var i=e.replace(ra,sa);z[i]=new v(i,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var i=e.replace(ra,sa);z[i]=new v(i,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){z[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)});z.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){z[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)});function ta(e,i,s,o){var a=z.hasOwnProperty(i)?z[i]:null;(a!==null?a.type!==0:o||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(qa(i,s,a,o)&&(s=null),o||a===null?oa(i)&&(s===null?e.removeAttribute(i):e.setAttribute(i,""+s)):a.mustUseProperty?e[a.propertyName]=s===null?a.type===3?!1:"":s:(i=a.attributeName,o=a.attributeNamespace,s===null?e.removeAttribute(i):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,o?e.setAttributeNS(o,i,s):e.setAttribute(i,s))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(e){return e===null||typeof e!="object"?null:(e=Ja&&e[Ja]||e["@@iterator"],typeof e=="function"?e:null)}var A=Object.assign,La;function Ma(e){if(La===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);La=i&&i[1]||""}return`
`+La+e}var Na=!1;function Oa(e,i){if(!e||Na)return"";Na=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(_){var o=_}Reflect.construct(e,[],i)}else{try{i.call()}catch(_){o=_}e.call(i.prototype)}else{try{throw Error()}catch(_){o=_}e()}}catch(_){if(_&&o&&typeof _.stack=="string"){for(var a=_.stack.split(`
`),c=o.stack.split(`
`),d=a.length-1,h=c.length-1;1<=d&&0<=h&&a[d]!==c[h];)h--;for(;1<=d&&0<=h;d--,h--)if(a[d]!==c[h]){if(d!==1||h!==1)do if(d--,h--,0>h||a[d]!==c[h]){var g=`
`+a[d].replace(" at new "," at ");return e.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",e.displayName)),g}while(1<=d&&0<=h);break}}}finally{Na=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?Ma(e):""}function Pa(e){switch(e.tag){case 5:return Ma(e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return e=Oa(e.type,!1),e;case 11:return e=Oa(e.type.render,!1),e;case 1:return e=Oa(e.type,!0),e;default:return""}}function Qa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ca:return(e.displayName||"Context")+".Consumer";case Ba:return(e._context.displayName||"Context")+".Provider";case Da:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ga:return i=e.displayName||null,i!==null?i:Qa(e.type)||"Memo";case Ha:i=e._payload,e=e._init;try{return Qa(e(i))}catch{}}return null}function Ra(e){var i=e.type;switch(e.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=i.render,e=e.displayName||e.name||"",i.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(i);case 8:return i===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Sa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ta(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ua(e){var i=Ta(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),o=""+e[i];if(!e.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,c=s.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return a.call(this)},set:function(d){o=""+d,c.call(this,d)}}),Object.defineProperty(e,i,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(d){o=""+d},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Va(e){e._valueTracker||(e._valueTracker=Ua(e))}function Wa(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var s=i.getValue(),o="";return e&&(o=Ta(e)?e.checked?"true":"false":e.value),e=o,e!==s?(i.setValue(e),!0):!1}function Xa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ya(e,i){var s=i.checked;return A({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Za(e,i){var s=i.defaultValue==null?"":i.defaultValue,o=i.checked!=null?i.checked:i.defaultChecked;s=Sa(i.value!=null?i.value:s),e._wrapperState={initialChecked:o,initialValue:s,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function ab(e,i){i=i.checked,i!=null&&ta(e,"checked",i,!1)}function bb(e,i){ab(e,i);var s=Sa(i.value),o=i.type;if(s!=null)o==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}i.hasOwnProperty("value")?cb(e,i.type,s):i.hasOwnProperty("defaultValue")&&cb(e,i.type,Sa(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(e.defaultChecked=!!i.defaultChecked)}function db(e,i,s){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var o=i.type;if(!(o!=="submit"&&o!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+e._wrapperState.initialValue,s||i===e.value||(e.value=i),e.defaultValue=i}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function cb(e,i,s){(i!=="number"||Xa(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var eb=Array.isArray;function fb(e,i,s,o){if(e=e.options,i){i={};for(var a=0;a<s.length;a++)i["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=i.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Sa(s),i=null,a=0;a<e.length;a++){if(e[a].value===s){e[a].selected=!0,o&&(e[a].defaultSelected=!0);return}i!==null||e[a].disabled||(i=e[a])}i!==null&&(i.selected=!0)}}function gb(e,i){if(i.dangerouslySetInnerHTML!=null)throw Error(p(91));return A({},i,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hb(e,i){var s=i.value;if(s==null){if(s=i.children,i=i.defaultValue,s!=null){if(i!=null)throw Error(p(92));if(eb(s)){if(1<s.length)throw Error(p(93));s=s[0]}i=s}i==null&&(i=""),s=i}e._wrapperState={initialValue:Sa(s)}}function ib(e,i){var s=Sa(i.value),o=Sa(i.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),i.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),o!=null&&(e.defaultValue=""+o)}function jb(e){var i=e.textContent;i===e._wrapperState.initialValue&&i!==""&&i!==null&&(e.value=i)}function kb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(e,i){return e==null||e==="http://www.w3.org/1999/xhtml"?kb(i):e==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mb,nb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,s,o,a){MSApp.execUnsafeLocalFunction(function(){return e(i,s,o,a)})}:e}(function(e,i){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=i;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=mb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;i.firstChild;)e.appendChild(i.firstChild)}});function ob(e,i){if(i){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=i;return}}e.textContent=i}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(e){qb.forEach(function(i){i=i+e.charAt(0).toUpperCase()+e.substring(1),pb[i]=pb[e]})});function rb(e,i,s){return i==null||typeof i=="boolean"||i===""?"":s||typeof i!="number"||i===0||pb.hasOwnProperty(e)&&pb[e]?(""+i).trim():i+"px"}function sb(e,i){e=e.style;for(var s in i)if(i.hasOwnProperty(s)){var o=s.indexOf("--")===0,a=rb(s,i[s],o);s==="float"&&(s="cssFloat"),o?e.setProperty(s,a):e[s]=a}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(e,i){if(i){if(tb[e]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(p(137,e));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(p(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(p(61))}if(i.style!=null&&typeof i.style!="object")throw Error(p(62))}}function vb(e,i){if(e.indexOf("-")===-1)return typeof i.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yb=null,zb=null,Ab=null;function Bb(e){if(e=Cb(e)){if(typeof yb!="function")throw Error(p(280));var i=e.stateNode;i&&(i=Db(i),yb(e.stateNode,e.type,i))}}function Eb(e){zb?Ab?Ab.push(e):Ab=[e]:zb=e}function Fb(){if(zb){var e=zb,i=Ab;if(Ab=zb=null,Bb(e),i)for(e=0;e<i.length;e++)Bb(i[e])}}function Gb(e,i){return e(i)}function Hb(){}var Ib=!1;function Jb(e,i,s){if(Ib)return e(i,s);Ib=!0;try{return Gb(e,i,s)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(e,i){var s=e.stateNode;if(s===null)return null;var o=Db(s);if(o===null)return null;s=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(p(231,i,typeof s));return s}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(e,i,s,o,a,c,d,h,g){var _=Array.prototype.slice.call(arguments,3);try{i.apply(s,_)}catch(b){this.onError(b)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(e){Ob=!0,Pb=e}};function Tb(e,i,s,o,a,c,d,h,g){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(e,i,s,o,a,c,d,h,g){if(Tb.apply(this,arguments),Ob){if(Ob){var _=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=_)}}function Vb(e){var i=e,s=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,i.flags&4098&&(s=i.return),e=i.return;while(e)}return i.tag===3?s:null}function Wb(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function Xb(e){if(Vb(e)!==e)throw Error(p(188))}function Yb(e){var i=e.alternate;if(!i){if(i=Vb(e),i===null)throw Error(p(188));return i!==e?null:e}for(var s=e,o=i;;){var a=s.return;if(a===null)break;var c=a.alternate;if(c===null){if(o=a.return,o!==null){s=o;continue}break}if(a.child===c.child){for(c=a.child;c;){if(c===s)return Xb(a),e;if(c===o)return Xb(a),i;c=c.sibling}throw Error(p(188))}if(s.return!==o.return)s=a,o=c;else{for(var d=!1,h=a.child;h;){if(h===s){d=!0,s=a,o=c;break}if(h===o){d=!0,o=a,s=c;break}h=h.sibling}if(!d){for(h=c.child;h;){if(h===s){d=!0,s=c,o=a;break}if(h===o){d=!0,o=c,s=a;break}h=h.sibling}if(!d)throw Error(p(189))}}if(s.alternate!==o)throw Error(p(190))}if(s.tag!==3)throw Error(p(188));return s.stateNode.current===s?e:i}function Zb(e){return e=Yb(e),e!==null?$b(e):null}function $b(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var i=$b(e);if(i!==null)return i;e=e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,e,void 0,(e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(e){return e>>>=0,e===0?32:31-(pc(e)/qc|0)|0}var rc=64,sc=4194304;function tc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uc(e,i){var s=e.pendingLanes;if(s===0)return 0;var o=0,a=e.suspendedLanes,c=e.pingedLanes,d=s&268435455;if(d!==0){var h=d&~a;h!==0?o=tc(h):(c&=d,c!==0&&(o=tc(c)))}else d=s&~a,d!==0?o=tc(d):c!==0&&(o=tc(c));if(o===0)return 0;if(i!==0&&i!==o&&!(i&a)&&(a=o&-o,c=i&-i,a>=c||a===16&&(c&4194240)!==0))return i;if(o&4&&(o|=s&16),i=e.entangledLanes,i!==0)for(e=e.entanglements,i&=o;0<i;)s=31-oc(i),a=1<<s,o|=e[s],i&=~a;return o}function vc(e,i){switch(e){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(e,i){for(var s=e.suspendedLanes,o=e.pingedLanes,a=e.expirationTimes,c=e.pendingLanes;0<c;){var d=31-oc(c),h=1<<d,g=a[d];g===-1?(!(h&s)||h&o)&&(a[d]=vc(h,i)):g<=i&&(e.expiredLanes|=h),c&=~h}}function xc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yc(){var e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),e}function zc(e){for(var i=[],s=0;31>s;s++)i.push(e);return i}function Ac(e,i,s){e.pendingLanes|=i,i!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,i=31-oc(i),e[i]=s}function Bc(e,i){var s=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-oc(s),c=1<<a;i[a]=0,o[a]=-1,e[a]=-1,s&=~c}}function Cc(e,i){var s=e.entangledLanes|=i;for(e=e.entanglements;s;){var o=31-oc(s),a=1<<o;a&i|e[o]&i&&(e[o]|=i),s&=~a}}var C=0;function Dc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(e,i){switch(e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(i.pointerId)}}function Tc(e,i,s,o,a,c){return e===null||e.nativeEvent!==c?(e={blockedOn:i,domEventName:s,eventSystemFlags:o,nativeEvent:c,targetContainers:[a]},i!==null&&(i=Cb(i),i!==null&&Fc(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,a!==null&&i.indexOf(a)===-1&&i.push(a),e)}function Uc(e,i,s,o,a){switch(i){case"focusin":return Lc=Tc(Lc,e,i,s,o,a),!0;case"dragenter":return Mc=Tc(Mc,e,i,s,o,a),!0;case"mouseover":return Nc=Tc(Nc,e,i,s,o,a),!0;case"pointerover":var c=a.pointerId;return Oc.set(c,Tc(Oc.get(c)||null,e,i,s,o,a)),!0;case"gotpointercapture":return c=a.pointerId,Pc.set(c,Tc(Pc.get(c)||null,e,i,s,o,a)),!0}return!1}function Vc(e){var i=Wc(e.target);if(i!==null){var s=Vb(i);if(s!==null){if(i=s.tag,i===13){if(i=Wb(s),i!==null){e.blockedOn=i,Ic(e.priority,function(){Gc(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var s=Yc(e.domEventName,e.eventSystemFlags,i[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);wb=o,s.target.dispatchEvent(o),wb=null}else return i=Cb(s),i!==null&&Fc(i),e.blockedOn=s,!1;i.shift()}return!0}function Zc(e,i,s){Xc(e)&&s.delete(i)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(e,i){e.blockedOn===i&&(e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(e){function i(a){return ad(a,e)}if(0<Kc.length){ad(Kc[0],e);for(var s=1;s<Kc.length;s++){var o=Kc[s];o.blockedOn===e&&(o.blockedOn=null)}}for(Lc!==null&&ad(Lc,e),Mc!==null&&ad(Mc,e),Nc!==null&&ad(Nc,e),Oc.forEach(i),Pc.forEach(i),s=0;s<Qc.length;s++)o=Qc[s],o.blockedOn===e&&(o.blockedOn=null);for(;0<Qc.length&&(s=Qc[0],s.blockedOn===null);)Vc(s),s.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(e,i,s,o){var a=C,c=cd.transition;cd.transition=null;try{C=1,fd(e,i,s,o)}finally{C=a,cd.transition=c}}function gd(e,i,s,o){var a=C,c=cd.transition;cd.transition=null;try{C=4,fd(e,i,s,o)}finally{C=a,cd.transition=c}}function fd(e,i,s,o){if(dd){var a=Yc(e,i,s,o);if(a===null)hd(e,i,o,id,s),Sc(e,o);else if(Uc(a,e,i,s,o))o.stopPropagation();else if(Sc(e,o),i&4&&-1<Rc.indexOf(e)){for(;a!==null;){var c=Cb(a);if(c!==null&&Ec(c),c=Yc(e,i,s,o),c===null&&hd(e,i,o,id,s),c===a)break;a=c}a!==null&&o.stopPropagation()}else hd(e,i,o,null,s)}}var id=null;function Yc(e,i,s,o){if(id=null,e=xb(o),e=Wc(e),e!==null)if(i=Vb(e),i===null)e=null;else if(s=i.tag,s===13){if(e=Wb(i),e!==null)return e;e=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null);return id=e,null}function jd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var e,i=ld,s=i.length,o,a="value"in kd?kd.value:kd.textContent,c=a.length;for(e=0;e<s&&i[e]===a[e];e++);var d=s-e;for(o=1;o<=d&&i[s-o]===a[c-o];o++);return md=a.slice(e,1<o?1-o:void 0)}function od(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function pd(){return!0}function qd(){return!1}function rd(e){function i(s,o,a,c,d){this._reactName=s,this._targetInst=a,this.type=o,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var h in e)e.hasOwnProperty(h)&&(s=e[h],this[h]=s?s(c):c[h]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),i}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yd&&(yd&&e.type==="mousemove"?(wd=e.screenX-yd.screenX,xd=e.screenY-yd.screenY):xd=wd=0,yd=e),wd)},movementY:function(e){return"movementY"in e?e.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Od[e])?!!i[e]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(e){if(e.key){var i=Md[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=od(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(e){return e.type==="keypress"?od(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?od(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge(e,i){switch(e){case"keyup":return $d.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ie=!1;function je(e,i){switch(e){case"compositionend":return he(i);case"keypress":return i.which!==32?null:(fe=!0,ee);case"textInput":return e=i.data,e===ee&&fe?null:e;default:return null}}function ke(e,i){if(ie)return e==="compositionend"||!ae&&ge(e,i)?(e=nd(),md=ld=kd=null,ie=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return de&&i.locale!=="ko"?null:i.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!le[e.type]:i==="textarea"}function ne(e,i,s,o){Eb(o),i=oe(i,"onChange"),0<i.length&&(s=new td("onChange","change",null,s,o),e.push({event:s,listeners:i}))}var pe=null,qe=null;function re(e){se(e,0)}function te(e){var i=ue(e);if(Wa(i))return e}function ve(e,i){if(e==="change")return i}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(e){if(e.propertyName==="value"&&te(qe)){var i=[];ne(i,qe,e,xb(e)),Jb(re,i)}}function Ce(e,i,s){e==="focusin"?(Ae(),pe=i,qe=s,pe.attachEvent("onpropertychange",Be)):e==="focusout"&&Ae()}function De(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return te(qe)}function Ee(e,i){if(e==="click")return te(i)}function Fe(e,i){if(e==="input"||e==="change")return te(i)}function Ge(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(e,i){if(He(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var s=Object.keys(e),o=Object.keys(i);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var a=s[o];if(!ja.call(i,a)||!He(e[a],i[a]))return!1}return!0}function Je(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ke(e,i){var s=Je(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=i&&o>=i)return{node:s,offset:i-e};e=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Je(s)}}function Le(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Le(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Me(){for(var e=window,i=Xa();i instanceof e.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)e=i.contentWindow;else break;i=Xa(e.document)}return i}function Ne(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}function Oe(e){var i=Me(),s=e.focusedElem,o=e.selectionRange;if(i!==s&&s&&s.ownerDocument&&Le(s.ownerDocument.documentElement,s)){if(o!==null&&Ne(s)){if(i=o.start,e=o.end,e===void 0&&(e=i),"selectionStart"in s)s.selectionStart=i,s.selectionEnd=Math.min(e,s.value.length);else if(e=(i=s.ownerDocument||document)&&i.defaultView||window,e.getSelection){e=e.getSelection();var a=s.textContent.length,c=Math.min(o.start,a);o=o.end===void 0?c:Math.min(o.end,a),!e.extend&&c>o&&(a=o,o=c,c=a),a=Ke(s,c);var d=Ke(s,o);a&&d&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(i=i.createRange(),i.setStart(a.node,a.offset),e.removeAllRanges(),c>o?(e.addRange(i),e.extend(d.node,d.offset)):(i.setEnd(d.node,d.offset),e.addRange(i)))}}for(i=[],e=s;e=e.parentNode;)e.nodeType===1&&i.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<i.length;s++)e=i[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(e,i,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Te||Qe==null||Qe!==Xa(o)||(o=Qe,"selectionStart"in o&&Ne(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Se&&Ie(Se,o)||(Se=o,o=oe(Re,"onSelect"),0<o.length&&(i=new td("onSelect","select",null,i,s),e.push({event:i,listeners:o}),i.target=Qe)))}function Ve(e,i){var s={};return s[e.toLowerCase()]=i.toLowerCase(),s["Webkit"+e]="webkit"+i,s["Moz"+e]="moz"+i,s}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(e){if(Xe[e])return Xe[e];if(!We[e])return e;var i=We[e],s;for(s in i)if(i.hasOwnProperty(s)&&s in Ye)return Xe[e]=i[s];return e}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(e,i){df.set(e,i),fa(i,[e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(e,i,s){var o=e.type||"unknown-event";e.currentTarget=s,Ub(o,i,void 0,e),e.currentTarget=null}function se(e,i){i=(i&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],a=o.event;o=o.listeners;e:{var c=void 0;if(i)for(var d=o.length-1;0<=d;d--){var h=o[d],g=h.instance,_=h.currentTarget;if(h=h.listener,g!==c&&a.isPropagationStopped())break e;nf(a,h,_),c=g}else for(d=0;d<o.length;d++){if(h=o[d],g=h.instance,_=h.currentTarget,h=h.listener,g!==c&&a.isPropagationStopped())break e;nf(a,h,_),c=g}}}if(Qb)throw e=Rb,Qb=!1,Rb=null,e}function D(e,i){var s=i[of];s===void 0&&(s=i[of]=new Set);var o=e+"__bubble";s.has(o)||(pf(i,e,2,!1),s.add(o))}function qf(e,i,s){var o=0;i&&(o|=4),pf(s,e,o,i)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(e){if(!e[rf]){e[rf]=!0,da.forEach(function(s){s!=="selectionchange"&&(mf.has(s)||qf(s,!1,e),qf(s,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[rf]||(i[rf]=!0,qf("selectionchange",!1,i))}}function pf(e,i,s,o){switch(jd(i)){case 1:var a=ed;break;case 4:a=gd;break;default:a=fd}s=a.bind(null,i,s,e),a=void 0,!Lb||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(a=!0),o?a!==void 0?e.addEventListener(i,s,{capture:!0,passive:a}):e.addEventListener(i,s,!0):a!==void 0?e.addEventListener(i,s,{passive:a}):e.addEventListener(i,s,!1)}function hd(e,i,s,o,a){var c=o;if(!(i&1)&&!(i&2)&&o!==null)e:for(;;){if(o===null)return;var d=o.tag;if(d===3||d===4){var h=o.stateNode.containerInfo;if(h===a||h.nodeType===8&&h.parentNode===a)break;if(d===4)for(d=o.return;d!==null;){var g=d.tag;if((g===3||g===4)&&(g=d.stateNode.containerInfo,g===a||g.nodeType===8&&g.parentNode===a))return;d=d.return}for(;h!==null;){if(d=Wc(h),d===null)return;if(g=d.tag,g===5||g===6){o=c=d;continue e}h=h.parentNode}}o=o.return}Jb(function(){var _=c,b=xb(s),$=[];e:{var st=df.get(e);if(st!==void 0){var lt=td,nt=e;switch(e){case"keypress":if(od(s)===0)break e;case"keydown":case"keyup":lt=Rd;break;case"focusin":nt="focus",lt=Fd;break;case"focusout":nt="blur",lt=Fd;break;case"beforeblur":case"afterblur":lt=Fd;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":lt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":lt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":lt=Vd;break;case $e:case af:case bf:lt=Hd;break;case cf:lt=Xd;break;case"scroll":lt=vd;break;case"wheel":lt=Zd;break;case"copy":case"cut":case"paste":lt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":lt=Td}var tt=(i&4)!==0,dt=!tt&&e==="scroll",et=tt?st!==null?st+"Capture":null:st;tt=[];for(var it=_,rt;it!==null;){rt=it;var ut=rt.stateNode;if(rt.tag===5&&ut!==null&&(rt=ut,et!==null&&(ut=Kb(it,et),ut!=null&&tt.push(tf(it,ut,rt)))),dt)break;it=it.return}0<tt.length&&(st=new lt(st,nt,null,s,b),$.push({event:st,listeners:tt}))}}if(!(i&7)){e:{if(st=e==="mouseover"||e==="pointerover",lt=e==="mouseout"||e==="pointerout",st&&s!==wb&&(nt=s.relatedTarget||s.fromElement)&&(Wc(nt)||nt[uf]))break e;if((lt||st)&&(st=b.window===b?b:(st=b.ownerDocument)?st.defaultView||st.parentWindow:window,lt?(nt=s.relatedTarget||s.toElement,lt=_,nt=nt?Wc(nt):null,nt!==null&&(dt=Vb(nt),nt!==dt||nt.tag!==5&&nt.tag!==6)&&(nt=null)):(lt=null,nt=_),lt!==nt)){if(tt=Bd,ut="onMouseLeave",et="onMouseEnter",it="mouse",(e==="pointerout"||e==="pointerover")&&(tt=Td,ut="onPointerLeave",et="onPointerEnter",it="pointer"),dt=lt==null?st:ue(lt),rt=nt==null?st:ue(nt),st=new tt(ut,it+"leave",lt,s,b),st.target=dt,st.relatedTarget=rt,ut=null,Wc(b)===_&&(tt=new tt(et,it+"enter",nt,s,b),tt.target=rt,tt.relatedTarget=dt,ut=tt),dt=ut,lt&&nt)t:{for(tt=lt,et=nt,it=0,rt=tt;rt;rt=vf(rt))it++;for(rt=0,ut=et;ut;ut=vf(ut))rt++;for(;0<it-rt;)tt=vf(tt),it--;for(;0<rt-it;)et=vf(et),rt--;for(;it--;){if(tt===et||et!==null&&tt===et.alternate)break t;tt=vf(tt),et=vf(et)}tt=null}else tt=null;lt!==null&&wf($,st,lt,tt,!1),nt!==null&&dt!==null&&wf($,dt,nt,tt,!0)}}e:{if(st=_?ue(_):window,lt=st.nodeName&&st.nodeName.toLowerCase(),lt==="select"||lt==="input"&&st.type==="file")var _t=ve;else if(me(st))if(we)_t=Fe;else{_t=De;var At=Ce}else(lt=st.nodeName)&&lt.toLowerCase()==="input"&&(st.type==="checkbox"||st.type==="radio")&&(_t=Ee);if(_t&&(_t=_t(e,_))){ne($,_t,s,b);break e}At&&At(e,st,_),e==="focusout"&&(At=st._wrapperState)&&At.controlled&&st.type==="number"&&cb(st,"number",st.value)}switch(At=_?ue(_):window,e){case"focusin":(me(At)||At.contentEditable==="true")&&(Qe=At,Re=_,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue($,s,b);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue($,s,b)}var gt;if(ae)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else ie?ge(e,s)&&(j="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(j="onCompositionStart");j&&(de&&s.locale!=="ko"&&(ie||j!=="onCompositionStart"?j==="onCompositionEnd"&&ie&&(gt=nd()):(kd=b,ld="value"in kd?kd.value:kd.textContent,ie=!0)),At=oe(_,j),0<At.length&&(j=new Ld(j,e,null,s,b),$.push({event:j,listeners:At}),gt?j.data=gt:(gt=he(s),gt!==null&&(j.data=gt)))),(gt=ce?je(e,s):ke(e,s))&&(_=oe(_,"onBeforeInput"),0<_.length&&(b=new Ld("onBeforeInput","beforeinput",null,s,b),$.push({event:b,listeners:_}),b.data=gt))}se($,i)})}function tf(e,i,s){return{instance:e,listener:i,currentTarget:s}}function oe(e,i){for(var s=i+"Capture",o=[];e!==null;){var a=e,c=a.stateNode;a.tag===5&&c!==null&&(a=c,c=Kb(e,s),c!=null&&o.unshift(tf(e,c,a)),c=Kb(e,i),c!=null&&o.push(tf(e,c,a))),e=e.return}return o}function vf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wf(e,i,s,o,a){for(var c=i._reactName,d=[];s!==null&&s!==o;){var h=s,g=h.alternate,_=h.stateNode;if(g!==null&&g===o)break;h.tag===5&&_!==null&&(h=_,a?(g=Kb(s,c),g!=null&&d.unshift(tf(s,g,h))):a||(g=Kb(s,c),g!=null&&d.push(tf(s,g,h)))),s=s.return}d.length!==0&&e.push({event:i,listeners:d})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(e){return(typeof e=="string"?e:""+e).replace(xf,`
`).replace(yf,"")}function Af(e,i,s){if(i=zf(i),zf(e)!==i&&s)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(e){return Hf.resolve(null).then(e).catch(If)}:Ff;function If(e){setTimeout(function(){throw e})}function Kf(e,i){var s=i,o=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(o===0){e.removeChild(a),bd(i);return}o--}else s!=="$"&&s!=="$?"&&s!=="$!"||o++;s=a}while(s);bd(i)}function Lf(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return e}function Mf(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return e;i--}else s==="/$"&&i++}e=e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(e){var i=e[Of];if(i)return i;for(var s=e.parentNode;s;){if(i=s[uf]||s[Of]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(e=Mf(e);e!==null;){if(s=e[Of])return s;e=Mf(e)}return i}e=s,s=e.parentNode}return null}function Cb(e){return e=e[Of]||e[uf],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ue(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(p(33))}function Db(e){return e[Pf]||null}var Sf=[],Tf=-1;function Uf(e){return{current:e}}function E(e){0>Tf||(e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(e,i){Tf++,Sf[Tf]=e.current,e.current=i}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(e,i){var s=e.type.contextTypes;if(!s)return Vf;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===i)return o.__reactInternalMemoizedMaskedChildContext;var a={},c;for(c in s)a[c]=i[c];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),a}function Zf(e){return e=e.childContextTypes,e!=null}function $f(){E(Wf),E(H)}function ag(e,i,s){if(H.current!==Vf)throw Error(p(168));G(H,i),G(Wf,s)}function bg(e,i,s){var o=e.stateNode;if(i=i.childContextTypes,typeof o.getChildContext!="function")return s;o=o.getChildContext();for(var a in o)if(!(a in i))throw Error(p(108,Ra(e)||"Unknown",a));return A({},s,o)}function cg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,e),G(Wf,Wf.current),!0}function dg(e,i,s){var o=e.stateNode;if(!o)throw Error(p(169));s?(e=bg(e,i,Xf),o.__reactInternalMemoizedMergedChildContext=e,E(Wf),E(H),G(H,e)):E(Wf),G(Wf,s)}var eg=null,fg=!1,gg=!1;function hg(e){eg===null?eg=[e]:eg.push(e)}function ig(e){fg=!0,hg(e)}function jg(){if(!gg&&eg!==null){gg=!0;var e=0,i=C;try{var s=eg;for(C=1;e<s.length;e++){var o=s[e];do o=o(!0);while(o!==null)}eg=null,fg=!1}catch(a){throw eg!==null&&(eg=eg.slice(e+1)),ac(fc,jg),a}finally{C=i,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(e,i){kg[lg++]=ng,kg[lg++]=mg,mg=e,ng=i}function ug(e,i,s){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=e;var o=rg;e=sg;var a=32-oc(o)-1;o&=~(1<<a),s+=1;var c=32-oc(i)+a;if(30<c){var d=a-a%5;c=(o&(1<<d)-1).toString(32),o>>=d,a-=d,rg=1<<32-oc(i)+a|s<<a|o,sg=c+e}else rg=1<<c|s<<a|o,sg=e}function vg(e){e.return!==null&&(tg(e,1),ug(e,1,0))}function wg(e){for(;e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(e,i){var s=Bg(5,null,null,0);s.elementType="DELETED",s.stateNode=i,s.return=e,i=e.deletions,i===null?(e.deletions=[s],e.flags|=16):i.push(s)}function Cg(e,i){switch(e.tag){case 5:var s=e.type;return i=i.nodeType!==1||s.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(e.stateNode=i,xg=e,yg=Lf(i.firstChild),!0):!1;case 6:return i=e.pendingProps===""||i.nodeType!==3?null:i,i!==null?(e.stateNode=i,xg=e,yg=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(s=qg!==null?{id:rg,overflow:sg}:null,e.memoizedState={dehydrated:i,treeContext:s,retryLane:1073741824},s=Bg(18,null,null,0),s.stateNode=i,s.return=e,e.child=s,xg=e,yg=null,!0):!1;default:return!1}}function Dg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Eg(e){if(I){var i=yg;if(i){var s=i;if(!Cg(e,i)){if(Dg(e))throw Error(p(418));i=Lf(s.nextSibling);var o=xg;i&&Cg(e,i)?Ag(o,s):(e.flags=e.flags&-4097|2,I=!1,xg=e)}}else{if(Dg(e))throw Error(p(418));e.flags=e.flags&-4097|2,I=!1,xg=e}}}function Fg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xg=e}function Gg(e){if(e!==xg)return!1;if(!I)return Fg(e),I=!0,!1;var i;if((i=e.tag!==3)&&!(i=e.tag!==5)&&(i=e.type,i=i!=="head"&&i!=="body"&&!Ef(e.type,e.memoizedProps)),i&&(i=yg)){if(Dg(e))throw Hg(),Error(p(418));for(;i;)Ag(e,i),i=Lf(i.nextSibling)}if(Fg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p(317));e:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(i===0){yg=Lf(e.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++}e=e.nextSibling}yg=null}}else yg=xg?Lf(e.stateNode.nextSibling):null;return!0}function Hg(){for(var e=yg;e;)e=Lf(e.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(e){zg===null?zg=[e]:zg.push(e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(e,i){if(e&&e.defaultProps){i=A({},i),e=e.defaultProps;for(var s in e)i[s]===void 0&&(i[s]=e[s]);return i}return i}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(e){var i=Mg.current;E(Mg),e._currentValue=i}function Sg(e,i,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===s)break;e=e.return}}function Tg(e,i){Ng=e,Pg=Og=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&i&&(Ug=!0),e.firstContext=null)}function Vg(e){var i=e._currentValue;if(Pg!==e)if(e={context:e,memoizedValue:i,next:null},Og===null){if(Ng===null)throw Error(p(308));Og=e,Ng.dependencies={lanes:0,firstContext:e}}else Og=Og.next=e;return i}var Wg=null;function Xg(e){Wg===null?Wg=[e]:Wg.push(e)}function Yg(e,i,s,o){var a=i.interleaved;return a===null?(s.next=s,Xg(i)):(s.next=a.next,a.next=s),i.interleaved=s,Zg(e,o)}function Zg(e,i){e.lanes|=i;var s=e.alternate;for(s!==null&&(s.lanes|=i),s=e,e=e.return;e!==null;)e.childLanes|=i,s=e.alternate,s!==null&&(s.childLanes|=i),s=e,e=e.return;return s.tag===3?s.stateNode:null}var $g=!1;function ah(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ch(e,i){return{eventTime:e,lane:i,tag:0,payload:null,callback:null,next:null}}function dh(e,i,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,K&2){var a=o.pending;return a===null?i.next=i:(i.next=a.next,a.next=i),o.pending=i,Zg(e,s)}return a=o.interleaved,a===null?(i.next=i,Xg(o)):(i.next=a.next,a.next=i),o.interleaved=i,Zg(e,s)}function eh(e,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194240)!==0)){var o=i.lanes;o&=e.pendingLanes,s|=o,i.lanes=s,Cc(e,s)}}function fh(e,i){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var a=null,c=null;if(s=s.firstBaseUpdate,s!==null){do{var d={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};c===null?a=c=d:c=c.next=d,s=s.next}while(s!==null);c===null?a=c=i:c=c.next=i}else a=c=i;s={baseState:o.baseState,firstBaseUpdate:a,lastBaseUpdate:c,shared:o.shared,effects:o.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=i:e.next=i,s.lastBaseUpdate=i}function gh(e,i,s,o){var a=e.updateQueue;$g=!1;var c=a.firstBaseUpdate,d=a.lastBaseUpdate,h=a.shared.pending;if(h!==null){a.shared.pending=null;var g=h,_=g.next;g.next=null,d===null?c=_:d.next=_,d=g;var b=e.alternate;b!==null&&(b=b.updateQueue,h=b.lastBaseUpdate,h!==d&&(h===null?b.firstBaseUpdate=_:h.next=_,b.lastBaseUpdate=g))}if(c!==null){var $=a.baseState;d=0,b=_=g=null,h=c;do{var st=h.lane,lt=h.eventTime;if((o&st)===st){b!==null&&(b=b.next={eventTime:lt,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var nt=e,tt=h;switch(st=i,lt=s,tt.tag){case 1:if(nt=tt.payload,typeof nt=="function"){$=nt.call(lt,$,st);break e}$=nt;break e;case 3:nt.flags=nt.flags&-65537|128;case 0:if(nt=tt.payload,st=typeof nt=="function"?nt.call(lt,$,st):nt,st==null)break e;$=A({},$,st);break e;case 2:$g=!0}}h.callback!==null&&h.lane!==0&&(e.flags|=64,st=a.effects,st===null?a.effects=[h]:st.push(h))}else lt={eventTime:lt,lane:st,tag:h.tag,payload:h.payload,callback:h.callback,next:null},b===null?(_=b=lt,g=$):b=b.next=lt,d|=st;if(h=h.next,h===null){if(h=a.shared.pending,h===null)break;st=h,h=st.next,st.next=null,a.lastBaseUpdate=st,a.shared.pending=null}}while(1);if(b===null&&(g=$),a.baseState=g,a.firstBaseUpdate=_,a.lastBaseUpdate=b,i=a.shared.interleaved,i!==null){a=i;do d|=a.lane,a=a.next;while(a!==i)}else c===null&&(a.shared.lanes=0);hh|=d,e.lanes=d,e.memoizedState=$}}function ih(e,i,s){if(e=i.effects,i.effects=null,e!==null)for(i=0;i<e.length;i++){var o=e[i],a=o.callback;if(a!==null){if(o.callback=null,o=s,typeof a!="function")throw Error(p(191,a));a.call(o)}}}var jh=new aa.Component().refs;function kh(e,i,s,o){i=e.memoizedState,s=s(o,i),s=s==null?i:A({},i,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var nh={isMounted:function(e){return(e=e._reactInternals)?Vb(e)===e:!1},enqueueSetState:function(e,i,s){e=e._reactInternals;var o=L(),a=lh(e),c=ch(o,a);c.payload=i,s!=null&&(c.callback=s),i=dh(e,c,a),i!==null&&(mh(i,e,a,o),eh(i,e,a))},enqueueReplaceState:function(e,i,s){e=e._reactInternals;var o=L(),a=lh(e),c=ch(o,a);c.tag=1,c.payload=i,s!=null&&(c.callback=s),i=dh(e,c,a),i!==null&&(mh(i,e,a,o),eh(i,e,a))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var s=L(),o=lh(e),a=ch(s,o);a.tag=2,i!=null&&(a.callback=i),i=dh(e,a,o),i!==null&&(mh(i,e,o,s),eh(i,e,o))}};function oh(e,i,s,o,a,c,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,c,d):i.prototype&&i.prototype.isPureReactComponent?!Ie(s,o)||!Ie(a,c):!0}function ph(e,i,s){var o=!1,a=Vf,c=i.contextType;return typeof c=="object"&&c!==null?c=Vg(c):(a=Zf(i)?Xf:H.current,o=i.contextTypes,c=(o=o!=null)?Yf(e,a):Vf),i=new i(s,c),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=nh,e.stateNode=i,i._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=c),i}function qh(e,i,s,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,o),i.state!==e&&nh.enqueueReplaceState(i,i.state,null)}function rh(e,i,s,o){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs=jh,ah(e);var c=i.contextType;typeof c=="object"&&c!==null?a.context=Vg(c):(c=Zf(i)?Xf:H.current,a.context=Yf(e,c)),a.state=e.memoizedState,c=i.getDerivedStateFromProps,typeof c=="function"&&(kh(e,i,c,s),a.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(i=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),i!==a.state&&nh.enqueueReplaceState(a,a.state,null),gh(e,s,a,o),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function sh(e,i,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(p(309));var o=s.stateNode}if(!o)throw Error(p(147,e));var a=o,c=""+e;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===c?i.ref:(i=function(d){var h=a.refs;h===jh&&(h=a.refs={}),d===null?delete h[c]:h[c]=d},i._stringRef=c,i)}if(typeof e!="string")throw Error(p(284));if(!s._owner)throw Error(p(290,e))}return e}function th(e,i){throw e=Object.prototype.toString.call(i),Error(p(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e))}function uh(e){var i=e._init;return i(e._payload)}function vh(e){function i(et,it){if(e){var rt=et.deletions;rt===null?(et.deletions=[it],et.flags|=16):rt.push(it)}}function s(et,it){if(!e)return null;for(;it!==null;)i(et,it),it=it.sibling;return null}function o(et,it){for(et=new Map;it!==null;)it.key!==null?et.set(it.key,it):et.set(it.index,it),it=it.sibling;return et}function a(et,it){return et=wh(et,it),et.index=0,et.sibling=null,et}function c(et,it,rt){return et.index=rt,e?(rt=et.alternate,rt!==null?(rt=rt.index,rt<it?(et.flags|=2,it):rt):(et.flags|=2,it)):(et.flags|=1048576,it)}function d(et){return e&&et.alternate===null&&(et.flags|=2),et}function h(et,it,rt,ut){return it===null||it.tag!==6?(it=xh(rt,et.mode,ut),it.return=et,it):(it=a(it,rt),it.return=et,it)}function g(et,it,rt,ut){var _t=rt.type;return _t===ya?b(et,it,rt.props.children,ut,rt.key):it!==null&&(it.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===Ha&&uh(_t)===it.type)?(ut=a(it,rt.props),ut.ref=sh(et,it,rt),ut.return=et,ut):(ut=yh(rt.type,rt.key,rt.props,null,et.mode,ut),ut.ref=sh(et,it,rt),ut.return=et,ut)}function _(et,it,rt,ut){return it===null||it.tag!==4||it.stateNode.containerInfo!==rt.containerInfo||it.stateNode.implementation!==rt.implementation?(it=zh(rt,et.mode,ut),it.return=et,it):(it=a(it,rt.children||[]),it.return=et,it)}function b(et,it,rt,ut,_t){return it===null||it.tag!==7?(it=Ah(rt,et.mode,ut,_t),it.return=et,it):(it=a(it,rt),it.return=et,it)}function $(et,it,rt){if(typeof it=="string"&&it!==""||typeof it=="number")return it=xh(""+it,et.mode,rt),it.return=et,it;if(typeof it=="object"&&it!==null){switch(it.$$typeof){case va:return rt=yh(it.type,it.key,it.props,null,et.mode,rt),rt.ref=sh(et,null,it),rt.return=et,rt;case wa:return it=zh(it,et.mode,rt),it.return=et,it;case Ha:var ut=it._init;return $(et,ut(it._payload),rt)}if(eb(it)||Ka(it))return it=Ah(it,et.mode,rt,null),it.return=et,it;th(et,it)}return null}function st(et,it,rt,ut){var _t=it!==null?it.key:null;if(typeof rt=="string"&&rt!==""||typeof rt=="number")return _t!==null?null:h(et,it,""+rt,ut);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case va:return rt.key===_t?g(et,it,rt,ut):null;case wa:return rt.key===_t?_(et,it,rt,ut):null;case Ha:return _t=rt._init,st(et,it,_t(rt._payload),ut)}if(eb(rt)||Ka(rt))return _t!==null?null:b(et,it,rt,ut,null);th(et,rt)}return null}function lt(et,it,rt,ut,_t){if(typeof ut=="string"&&ut!==""||typeof ut=="number")return et=et.get(rt)||null,h(it,et,""+ut,_t);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case va:return et=et.get(ut.key===null?rt:ut.key)||null,g(it,et,ut,_t);case wa:return et=et.get(ut.key===null?rt:ut.key)||null,_(it,et,ut,_t);case Ha:var At=ut._init;return lt(et,it,rt,At(ut._payload),_t)}if(eb(ut)||Ka(ut))return et=et.get(rt)||null,b(it,et,ut,_t,null);th(it,ut)}return null}function nt(et,it,rt,ut){for(var _t=null,At=null,gt=it,j=it=0,ot=null;gt!==null&&j<rt.length;j++){gt.index>j?(ot=gt,gt=null):ot=gt.sibling;var pt=st(et,gt,rt[j],ut);if(pt===null){gt===null&&(gt=ot);break}e&&gt&&pt.alternate===null&&i(et,gt),it=c(pt,it,j),At===null?_t=pt:At.sibling=pt,At=pt,gt=ot}if(j===rt.length)return s(et,gt),I&&tg(et,j),_t;if(gt===null){for(;j<rt.length;j++)gt=$(et,rt[j],ut),gt!==null&&(it=c(gt,it,j),At===null?_t=gt:At.sibling=gt,At=gt);return I&&tg(et,j),_t}for(gt=o(et,gt);j<rt.length;j++)ot=lt(gt,et,j,rt[j],ut),ot!==null&&(e&&ot.alternate!==null&&gt.delete(ot.key===null?j:ot.key),it=c(ot,it,j),At===null?_t=ot:At.sibling=ot,At=ot);return e&&gt.forEach(function(at){return i(et,at)}),I&&tg(et,j),_t}function tt(et,it,rt,ut){var _t=Ka(rt);if(typeof _t!="function")throw Error(p(150));if(rt=_t.call(rt),rt==null)throw Error(p(151));for(var At=_t=null,gt=it,j=it=0,ot=null,pt=rt.next();gt!==null&&!pt.done;j++,pt=rt.next()){gt.index>j?(ot=gt,gt=null):ot=gt.sibling;var at=st(et,gt,pt.value,ut);if(at===null){gt===null&&(gt=ot);break}e&&gt&&at.alternate===null&&i(et,gt),it=c(at,it,j),At===null?_t=at:At.sibling=at,At=at,gt=ot}if(pt.done)return s(et,gt),I&&tg(et,j),_t;if(gt===null){for(;!pt.done;j++,pt=rt.next())pt=$(et,pt.value,ut),pt!==null&&(it=c(pt,it,j),At===null?_t=pt:At.sibling=pt,At=pt);return I&&tg(et,j),_t}for(gt=o(et,gt);!pt.done;j++,pt=rt.next())pt=lt(gt,et,j,pt.value,ut),pt!==null&&(e&&pt.alternate!==null&&gt.delete(pt.key===null?j:pt.key),it=c(pt,it,j),At===null?_t=pt:At.sibling=pt,At=pt);return e&&gt.forEach(function(vt){return i(et,vt)}),I&&tg(et,j),_t}function dt(et,it,rt,ut){if(typeof rt=="object"&&rt!==null&&rt.type===ya&&rt.key===null&&(rt=rt.props.children),typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case va:e:{for(var _t=rt.key,At=it;At!==null;){if(At.key===_t){if(_t=rt.type,_t===ya){if(At.tag===7){s(et,At.sibling),it=a(At,rt.props.children),it.return=et,et=it;break e}}else if(At.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===Ha&&uh(_t)===At.type){s(et,At.sibling),it=a(At,rt.props),it.ref=sh(et,At,rt),it.return=et,et=it;break e}s(et,At);break}else i(et,At);At=At.sibling}rt.type===ya?(it=Ah(rt.props.children,et.mode,ut,rt.key),it.return=et,et=it):(ut=yh(rt.type,rt.key,rt.props,null,et.mode,ut),ut.ref=sh(et,it,rt),ut.return=et,et=ut)}return d(et);case wa:e:{for(At=rt.key;it!==null;){if(it.key===At)if(it.tag===4&&it.stateNode.containerInfo===rt.containerInfo&&it.stateNode.implementation===rt.implementation){s(et,it.sibling),it=a(it,rt.children||[]),it.return=et,et=it;break e}else{s(et,it);break}else i(et,it);it=it.sibling}it=zh(rt,et.mode,ut),it.return=et,et=it}return d(et);case Ha:return At=rt._init,dt(et,it,At(rt._payload),ut)}if(eb(rt))return nt(et,it,rt,ut);if(Ka(rt))return tt(et,it,rt,ut);th(et,rt)}return typeof rt=="string"&&rt!==""||typeof rt=="number"?(rt=""+rt,it!==null&&it.tag===6?(s(et,it.sibling),it=a(it,rt),it.return=et,et=it):(s(et,it),it=xh(rt,et.mode,ut),it.return=et,et=it),d(et)):s(et,it)}return dt}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(e){if(e===Dh)throw Error(p(174));return e}function Ih(e,i){switch(G(Gh,i),G(Fh,e),G(Eh,Dh),e=i.nodeType,e){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:lb(null,"");break;default:e=e===8?i.parentNode:i,i=e.namespaceURI||null,e=e.tagName,i=lb(i,e)}E(Eh),G(Eh,i)}function Jh(){E(Eh),E(Fh),E(Gh)}function Kh(e){Hh(Gh.current);var i=Hh(Eh.current),s=lb(i,e.type);i!==s&&(G(Fh,e),G(Eh,s))}function Lh(e){Fh.current===e&&(E(Eh),E(Fh))}var M=Uf(0);function Mh(e){for(var i=e;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Nh=[];function Oh(){for(var e=0;e<Nh.length;e++)Nh[e]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N=null,O=null,P=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q(){throw Error(p(321))}function Wh(e,i){if(i===null)return!1;for(var s=0;s<i.length&&s<e.length;s++)if(!He(e[s],i[s]))return!1;return!0}function Xh(e,i,s,o,a,c){if(Rh=c,N=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Ph.current=e===null||e.memoizedState===null?Yh:Zh,e=s(o,a),Th){c=0;do{if(Th=!1,Uh=0,25<=c)throw Error(p(301));c+=1,P=O=null,i.updateQueue=null,Ph.current=$h,e=s(o,a)}while(Th)}if(Ph.current=ai,i=O!==null&&O.next!==null,Rh=0,P=O=N=null,Sh=!1,i)throw Error(p(300));return e}function bi(){var e=Uh!==0;return Uh=0,e}function ci(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P===null?N.memoizedState=P=e:P=P.next=e,P}function di(){if(O===null){var e=N.alternate;e=e!==null?e.memoizedState:null}else e=O.next;var i=P===null?N.memoizedState:P.next;if(i!==null)P=i,O=e;else{if(e===null)throw Error(p(310));O=e,e={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null},P===null?N.memoizedState=P=e:P=P.next=e}return P}function ei(e,i){return typeof i=="function"?i(e):i}function fi(e){var i=di(),s=i.queue;if(s===null)throw Error(p(311));s.lastRenderedReducer=e;var o=O,a=o.baseQueue,c=s.pending;if(c!==null){if(a!==null){var d=a.next;a.next=c.next,c.next=d}o.baseQueue=a=c,s.pending=null}if(a!==null){c=a.next,o=o.baseState;var h=d=null,g=null,_=c;do{var b=_.lane;if((Rh&b)===b)g!==null&&(g=g.next={lane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),o=_.hasEagerState?_.eagerState:e(o,_.action);else{var $={lane:b,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null};g===null?(h=g=$,d=o):g=g.next=$,N.lanes|=b,hh|=b}_=_.next}while(_!==null&&_!==c);g===null?d=o:g.next=h,He(o,i.memoizedState)||(Ug=!0),i.memoizedState=o,i.baseState=d,i.baseQueue=g,s.lastRenderedState=o}if(e=s.interleaved,e!==null){a=e;do c=a.lane,N.lanes|=c,hh|=c,a=a.next;while(a!==e)}else a===null&&(s.lanes=0);return[i.memoizedState,s.dispatch]}function gi(e){var i=di(),s=i.queue;if(s===null)throw Error(p(311));s.lastRenderedReducer=e;var o=s.dispatch,a=s.pending,c=i.memoizedState;if(a!==null){s.pending=null;var d=a=a.next;do c=e(c,d.action),d=d.next;while(d!==a);He(c,i.memoizedState)||(Ug=!0),i.memoizedState=c,i.baseQueue===null&&(i.baseState=c),s.lastRenderedState=c}return[c,o]}function hi(){}function ii(e,i){var s=N,o=di(),a=i(),c=!He(o.memoizedState,a);if(c&&(o.memoizedState=a,Ug=!0),o=o.queue,ji(ki.bind(null,s,o,e),[e]),o.getSnapshot!==i||c||P!==null&&P.memoizedState.tag&1){if(s.flags|=2048,li(9,mi.bind(null,s,o,a,i),void 0,null),R===null)throw Error(p(349));Rh&30||ni(s,i,a)}return a}function ni(e,i,s){e.flags|=16384,e={getSnapshot:i,value:s},i=N.updateQueue,i===null?(i={lastEffect:null,stores:null},N.updateQueue=i,i.stores=[e]):(s=i.stores,s===null?i.stores=[e]:s.push(e))}function mi(e,i,s,o){i.value=s,i.getSnapshot=o,oi(i)&&pi(e)}function ki(e,i,s){return s(function(){oi(i)&&pi(e)})}function oi(e){var i=e.getSnapshot;e=e.value;try{var s=i();return!He(e,s)}catch{return!0}}function pi(e){var i=Zg(e,1);i!==null&&mh(i,e,1,-1)}function qi(e){var i=ci();return typeof e=="function"&&(e=e()),i.memoizedState=i.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:e},i.queue=e,e=e.dispatch=ri.bind(null,N,e),[i.memoizedState,e]}function li(e,i,s,o){return e={tag:e,create:i,destroy:s,deps:o,next:null},i=N.updateQueue,i===null?(i={lastEffect:null,stores:null},N.updateQueue=i,i.lastEffect=e.next=e):(s=i.lastEffect,s===null?i.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,i.lastEffect=e)),e}function si(){return di().memoizedState}function ti(e,i,s,o){var a=ci();N.flags|=e,a.memoizedState=li(1|i,s,void 0,o===void 0?null:o)}function ui(e,i,s,o){var a=di();o=o===void 0?null:o;var c=void 0;if(O!==null){var d=O.memoizedState;if(c=d.destroy,o!==null&&Wh(o,d.deps)){a.memoizedState=li(i,s,c,o);return}}N.flags|=e,a.memoizedState=li(1|i,s,c,o)}function vi(e,i){return ti(8390656,8,e,i)}function ji(e,i){return ui(2048,8,e,i)}function wi(e,i){return ui(4,2,e,i)}function xi(e,i){return ui(4,4,e,i)}function yi(e,i){if(typeof i=="function")return e=e(),i(e),function(){i(null)};if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function zi(e,i,s){return s=s!=null?s.concat([e]):null,ui(4,4,yi.bind(null,i,e),s)}function Ai(){}function Bi(e,i){var s=di();i=i===void 0?null:i;var o=s.memoizedState;return o!==null&&i!==null&&Wh(i,o[1])?o[0]:(s.memoizedState=[e,i],e)}function Ci(e,i){var s=di();i=i===void 0?null:i;var o=s.memoizedState;return o!==null&&i!==null&&Wh(i,o[1])?o[0]:(e=e(),s.memoizedState=[e,i],e)}function Di(e,i,s){return Rh&21?(He(s,i)||(s=yc(),N.lanes|=s,hh|=s,e.baseState=!0),i):(e.baseState&&(e.baseState=!1,Ug=!0),e.memoizedState=s)}function Ei(e,i){var s=C;C=s!==0&&4>s?s:4,e(!0);var o=Qh.transition;Qh.transition={};try{e(!1),i()}finally{C=s,Qh.transition=o}}function Fi(){return di().memoizedState}function Gi(e,i,s){var o=lh(e);if(s={lane:o,action:s,hasEagerState:!1,eagerState:null,next:null},Hi(e))Ii(i,s);else if(s=Yg(e,i,s,o),s!==null){var a=L();mh(s,e,o,a),Ji(s,i,o)}}function ri(e,i,s){var o=lh(e),a={lane:o,action:s,hasEagerState:!1,eagerState:null,next:null};if(Hi(e))Ii(i,a);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=i.lastRenderedReducer,c!==null))try{var d=i.lastRenderedState,h=c(d,s);if(a.hasEagerState=!0,a.eagerState=h,He(h,d)){var g=i.interleaved;g===null?(a.next=a,Xg(i)):(a.next=g.next,g.next=a),i.interleaved=a;return}}catch{}finally{}s=Yg(e,i,a,o),s!==null&&(a=L(),mh(s,e,o,a),Ji(s,i,o))}}function Hi(e){var i=e.alternate;return e===N||i!==null&&i===N}function Ii(e,i){Th=Sh=!0;var s=e.pending;s===null?i.next=i:(i.next=s.next,s.next=i),e.pending=i}function Ji(e,i,s){if(s&4194240){var o=i.lanes;o&=e.pendingLanes,s|=o,i.lanes=s,Cc(e,s)}}var ai={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(e,i){return ci().memoizedState=[e,i===void 0?null:i],e},useContext:Vg,useEffect:vi,useImperativeHandle:function(e,i,s){return s=s!=null?s.concat([e]):null,ti(4194308,4,yi.bind(null,i,e),s)},useLayoutEffect:function(e,i){return ti(4194308,4,e,i)},useInsertionEffect:function(e,i){return ti(4,2,e,i)},useMemo:function(e,i){var s=ci();return i=i===void 0?null:i,e=e(),s.memoizedState=[e,i],e},useReducer:function(e,i,s){var o=ci();return i=s!==void 0?s(i):i,o.memoizedState=o.baseState=i,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},o.queue=e,e=e.dispatch=Gi.bind(null,N,e),[o.memoizedState,e]},useRef:function(e){var i=ci();return e={current:e},i.memoizedState=e},useState:qi,useDebugValue:Ai,useDeferredValue:function(e){return ci().memoizedState=e},useTransition:function(){var e=qi(!1),i=e[0];return e=Ei.bind(null,e[1]),ci().memoizedState=e,[i,e]},useMutableSource:function(){},useSyncExternalStore:function(e,i,s){var o=N,a=ci();if(I){if(s===void 0)throw Error(p(407));s=s()}else{if(s=i(),R===null)throw Error(p(349));Rh&30||ni(o,i,s)}a.memoizedState=s;var c={value:s,getSnapshot:i};return a.queue=c,vi(ki.bind(null,o,c,e),[e]),o.flags|=2048,li(9,mi.bind(null,o,c,s,i),void 0,null),s},useId:function(){var e=ci(),i=R.identifierPrefix;if(I){var s=sg,o=rg;s=(o&~(1<<32-oc(o)-1)).toString(32)+s,i=":"+i+"R"+s,s=Uh++,0<s&&(i+="H"+s.toString(32)),i+=":"}else s=Vh++,i=":"+i+"r"+s.toString(32)+":";return e.memoizedState=i},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(e){var i=di();return Di(i,O.memoizedState,e)},useTransition:function(){var e=fi(ei)[0],i=di().memoizedState;return[e,i]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(e){var i=di();return O===null?i.memoizedState=e:Di(i,O.memoizedState,e)},useTransition:function(){var e=gi(ei)[0],i=di().memoizedState;return[e,i]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(e,i){try{var s="",o=i;do s+=Pa(o),o=o.return;while(o);var a=s}catch(c){a=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:i,stack:a,digest:null}}function Li(e,i,s){return{value:e,source:null,stack:s??null,digest:i??null}}function Mi(e,i){try{console.error(i.value)}catch(s){setTimeout(function(){throw s})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(e,i,s){s=ch(-1,s),s.tag=3,s.payload={element:null};var o=i.value;return s.callback=function(){Pi||(Pi=!0,Qi=o),Mi(e,i)},s}function Ri(e,i,s){s=ch(-1,s),s.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var a=i.value;s.payload=function(){return o(a)},s.callback=function(){Mi(e,i)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(s.callback=function(){Mi(e,i),typeof o!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var d=i.stack;this.componentDidCatch(i.value,{componentStack:d!==null?d:""})}),s}function Ti(e,i,s){var o=e.pingCache;if(o===null){o=e.pingCache=new Ni;var a=new Set;o.set(i,a)}else a=o.get(i),a===void 0&&(a=new Set,o.set(i,a));a.has(s)||(a.add(s),e=Ui.bind(null,e,i,s),i.then(e,e))}function Vi(e){do{var i;if((i=e.tag===13)&&(i=e.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return e;e=e.return}while(e!==null);return null}function Wi(e,i,s,o,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===i?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(i=ch(-1,1),i.tag=2,dh(s,i,1))),s.lanes|=1),e)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(e,i,s,o){i.child=e===null?Ch(i,null,s,o):Bh(i,e.child,s,o)}function Zi(e,i,s,o,a){s=s.render;var c=i.ref;return Tg(i,a),o=Xh(e,i,s,o,c,a),s=bi(),e!==null&&!Ug?(i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a,$i(e,i,a)):(I&&s&&vg(i),i.flags|=1,Yi(e,i,o,a),i.child)}function aj(e,i,s,o,a){if(e===null){var c=s.type;return typeof c=="function"&&!bj(c)&&c.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(i.tag=15,i.type=c,cj(e,i,c,o,a)):(e=yh(s.type,null,o,i,i.mode,a),e.ref=i.ref,e.return=i,i.child=e)}if(c=e.child,!(e.lanes&a)){var d=c.memoizedProps;if(s=s.compare,s=s!==null?s:Ie,s(d,o)&&e.ref===i.ref)return $i(e,i,a)}return i.flags|=1,e=wh(c,o),e.ref=i.ref,e.return=i,i.child=e}function cj(e,i,s,o,a){if(e!==null){var c=e.memoizedProps;if(Ie(c,o)&&e.ref===i.ref)if(Ug=!1,i.pendingProps=o=c,(e.lanes&a)!==0)e.flags&131072&&(Ug=!0);else return i.lanes=e.lanes,$i(e,i,a)}return dj(e,i,s,o,a)}function ej(e,i,s){var o=i.pendingProps,a=o.children,c=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(fj,gj),gj|=s;else{if(!(s&1073741824))return e=c!==null?c.baseLanes|s:s,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:e,cachePool:null,transitions:null},i.updateQueue=null,G(fj,gj),gj|=e,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=c!==null?c.baseLanes:s,G(fj,gj),gj|=o}else c!==null?(o=c.baseLanes|s,i.memoizedState=null):o=s,G(fj,gj),gj|=o;return Yi(e,i,a,s),i.child}function hj(e,i){var s=i.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(i.flags|=512,i.flags|=2097152)}function dj(e,i,s,o,a){var c=Zf(s)?Xf:H.current;return c=Yf(i,c),Tg(i,a),s=Xh(e,i,s,o,c,a),o=bi(),e!==null&&!Ug?(i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a,$i(e,i,a)):(I&&o&&vg(i),i.flags|=1,Yi(e,i,s,a),i.child)}function ij(e,i,s,o,a){if(Zf(s)){var c=!0;cg(i)}else c=!1;if(Tg(i,a),i.stateNode===null)jj(e,i),ph(i,s,o),rh(i,s,o,a),o=!0;else if(e===null){var d=i.stateNode,h=i.memoizedProps;d.props=h;var g=d.context,_=s.contextType;typeof _=="object"&&_!==null?_=Vg(_):(_=Zf(s)?Xf:H.current,_=Yf(i,_));var b=s.getDerivedStateFromProps,$=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function";$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(h!==o||g!==_)&&qh(i,d,o,_),$g=!1;var st=i.memoizedState;d.state=st,gh(i,o,d,a),g=i.memoizedState,h!==o||st!==g||Wf.current||$g?(typeof b=="function"&&(kh(i,s,b,o),g=i.memoizedState),(h=$g||oh(i,s,h,o,st,g,_))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=g),d.props=o,d.state=g,d.context=_,o=h):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,bh(e,i),h=i.memoizedProps,_=i.type===i.elementType?h:Lg(i.type,h),d.props=_,$=i.pendingProps,st=d.context,g=s.contextType,typeof g=="object"&&g!==null?g=Vg(g):(g=Zf(s)?Xf:H.current,g=Yf(i,g));var lt=s.getDerivedStateFromProps;(b=typeof lt=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(h!==$||st!==g)&&qh(i,d,o,g),$g=!1,st=i.memoizedState,d.state=st,gh(i,o,d,a);var nt=i.memoizedState;h!==$||st!==nt||Wf.current||$g?(typeof lt=="function"&&(kh(i,s,lt,o),nt=i.memoizedState),(_=$g||oh(i,s,_,o,st,nt,g)||!1)?(b||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,nt,g),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,nt,g)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||h===e.memoizedProps&&st===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&st===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=nt),d.props=o,d.state=nt,d.context=g,o=_):(typeof d.componentDidUpdate!="function"||h===e.memoizedProps&&st===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&st===e.memoizedState||(i.flags|=1024),o=!1)}return kj(e,i,s,o,c,a)}function kj(e,i,s,o,a,c){hj(e,i);var d=(i.flags&128)!==0;if(!o&&!d)return a&&dg(i,s,!1),$i(e,i,c);o=i.stateNode,Xi.current=i;var h=d&&typeof s.getDerivedStateFromError!="function"?null:o.render();return i.flags|=1,e!==null&&d?(i.child=Bh(i,e.child,null,c),i.child=Bh(i,null,h,c)):Yi(e,i,h,c),i.memoizedState=o.state,a&&dg(i,s,!0),i.child}function lj(e){var i=e.stateNode;i.pendingContext?ag(e,i.pendingContext,i.pendingContext!==i.context):i.context&&ag(e,i.context,!1),Ih(e,i.containerInfo)}function mj(e,i,s,o,a){return Ig(),Jg(a),i.flags|=256,Yi(e,i,s,o),i.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(e){return{baseLanes:e,cachePool:null,transitions:null}}function pj(e,i,s){var o=i.pendingProps,a=M.current,c=!1,d=(i.flags&128)!==0,h;if((h=d)||(h=e!==null&&e.memoizedState===null?!1:(a&2)!==0),h?(c=!0,i.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),G(M,a&1),e===null)return Eg(i),e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(i.mode&1?e.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(d=o.children,e=o.fallback,c?(o=i.mode,c=i.child,d={mode:"hidden",children:d},!(o&1)&&c!==null?(c.childLanes=0,c.pendingProps=d):c=qj(d,o,0,null),e=Ah(e,o,s,null),c.return=i,e.return=i,c.sibling=e,i.child=c,i.child.memoizedState=oj(s),i.memoizedState=nj,e):rj(i,d));if(a=e.memoizedState,a!==null&&(h=a.dehydrated,h!==null))return sj(e,i,d,o,h,a,s);if(c){c=o.fallback,d=i.mode,a=e.child,h=a.sibling;var g={mode:"hidden",children:o.children};return!(d&1)&&i.child!==a?(o=i.child,o.childLanes=0,o.pendingProps=g,i.deletions=null):(o=wh(a,g),o.subtreeFlags=a.subtreeFlags&14680064),h!==null?c=wh(h,c):(c=Ah(c,d,s,null),c.flags|=2),c.return=i,o.return=i,o.sibling=c,i.child=o,o=c,c=i.child,d=e.child.memoizedState,d=d===null?oj(s):{baseLanes:d.baseLanes|s,cachePool:null,transitions:d.transitions},c.memoizedState=d,c.childLanes=e.childLanes&~s,i.memoizedState=nj,o}return c=e.child,e=c.sibling,o=wh(c,{mode:"visible",children:o.children}),!(i.mode&1)&&(o.lanes=s),o.return=i,o.sibling=null,e!==null&&(s=i.deletions,s===null?(i.deletions=[e],i.flags|=16):s.push(e)),i.child=o,i.memoizedState=null,o}function rj(e,i){return i=qj({mode:"visible",children:i},e.mode,0,null),i.return=e,e.child=i}function tj(e,i,s,o){return o!==null&&Jg(o),Bh(i,e.child,null,s),e=rj(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function sj(e,i,s,o,a,c,d){if(s)return i.flags&256?(i.flags&=-257,o=Li(Error(p(422))),tj(e,i,d,o)):i.memoizedState!==null?(i.child=e.child,i.flags|=128,null):(c=o.fallback,a=i.mode,o=qj({mode:"visible",children:o.children},a,0,null),c=Ah(c,a,d,null),c.flags|=2,o.return=i,c.return=i,o.sibling=c,i.child=o,i.mode&1&&Bh(i,e.child,null,d),i.child.memoizedState=oj(d),i.memoizedState=nj,c);if(!(i.mode&1))return tj(e,i,d,null);if(a.data==="$!"){if(o=a.nextSibling&&a.nextSibling.dataset,o)var h=o.dgst;return o=h,c=Error(p(419)),o=Li(c,o,void 0),tj(e,i,d,o)}if(h=(d&e.childLanes)!==0,Ug||h){if(o=R,o!==null){switch(d&-d){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(o.suspendedLanes|d)?0:a,a!==0&&a!==c.retryLane&&(c.retryLane=a,Zg(e,a),mh(o,e,a,-1))}return uj(),o=Li(Error(p(421))),tj(e,i,d,o)}return a.data==="$?"?(i.flags|=128,i.child=e.child,i=vj.bind(null,e),a._reactRetry=i,null):(e=c.treeContext,yg=Lf(a.nextSibling),xg=i,I=!0,zg=null,e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=e.id,sg=e.overflow,qg=i),i=rj(i,o.children),i.flags|=4096,i)}function wj(e,i,s){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),Sg(e.return,i,s)}function xj(e,i,s,o,a){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:a}:(c.isBackwards=i,c.rendering=null,c.renderingStartTime=0,c.last=o,c.tail=s,c.tailMode=a)}function yj(e,i,s){var o=i.pendingProps,a=o.revealOrder,c=o.tail;if(Yi(e,i,o.children,s),o=M.current,o&2)o=o&1|2,i.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wj(e,s,i);else if(e.tag===19)wj(e,s,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break e;for(;e.sibling===null;){if(e.return===null||e.return===i)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(G(M,o),!(i.mode&1))i.memoizedState=null;else switch(a){case"forwards":for(s=i.child,a=null;s!==null;)e=s.alternate,e!==null&&Mh(e)===null&&(a=s),s=s.sibling;s=a,s===null?(a=i.child,i.child=null):(a=s.sibling,s.sibling=null),xj(i,!1,a,s,c);break;case"backwards":for(s=null,a=i.child,i.child=null;a!==null;){if(e=a.alternate,e!==null&&Mh(e)===null){i.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}xj(i,!0,s,null,c);break;case"together":xj(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function jj(e,i){!(i.mode&1)&&e!==null&&(e.alternate=null,i.alternate=null,i.flags|=2)}function $i(e,i,s){if(e!==null&&(i.dependencies=e.dependencies),hh|=i.lanes,!(s&i.childLanes))return null;if(e!==null&&i.child!==e.child)throw Error(p(153));if(i.child!==null){for(e=i.child,s=wh(e,e.pendingProps),i.child=s,s.return=i;e.sibling!==null;)e=e.sibling,s=s.sibling=wh(e,e.pendingProps),s.return=i;s.sibling=null}return i.child}function zj(e,i,s){switch(i.tag){case 3:lj(i),Ig();break;case 5:Kh(i);break;case 1:Zf(i.type)&&cg(i);break;case 4:Ih(i,i.stateNode.containerInfo);break;case 10:var o=i.type._context,a=i.memoizedProps.value;G(Mg,o._currentValue),o._currentValue=a;break;case 13:if(o=i.memoizedState,o!==null)return o.dehydrated!==null?(G(M,M.current&1),i.flags|=128,null):s&i.child.childLanes?pj(e,i,s):(G(M,M.current&1),e=$i(e,i,s),e!==null?e.sibling:null);G(M,M.current&1);break;case 19:if(o=(s&i.childLanes)!==0,e.flags&128){if(o)return yj(e,i,s);i.flags|=128}if(a=i.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),G(M,M.current),o)break;return null;case 22:case 23:return i.lanes=0,ej(e,i,s)}return $i(e,i,s)}var Aj,Bj,Cj,Dj;Aj=function(e,i){for(var s=i.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Bj=function(){};Cj=function(e,i,s,o){var a=e.memoizedProps;if(a!==o){e=i.stateNode,Hh(Eh.current);var c=null;switch(s){case"input":a=Ya(e,a),o=Ya(e,o),c=[];break;case"select":a=A({},a,{value:void 0}),o=A({},o,{value:void 0}),c=[];break;case"textarea":a=gb(e,a),o=gb(e,o),c=[];break;default:typeof a.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Bf)}ub(s,o);var d;s=null;for(_ in a)if(!o.hasOwnProperty(_)&&a.hasOwnProperty(_)&&a[_]!=null)if(_==="style"){var h=a[_];for(d in h)h.hasOwnProperty(d)&&(s||(s={}),s[d]="")}else _!=="dangerouslySetInnerHTML"&&_!=="children"&&_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(ea.hasOwnProperty(_)?c||(c=[]):(c=c||[]).push(_,null));for(_ in o){var g=o[_];if(h=a!=null?a[_]:void 0,o.hasOwnProperty(_)&&g!==h&&(g!=null||h!=null))if(_==="style")if(h){for(d in h)!h.hasOwnProperty(d)||g&&g.hasOwnProperty(d)||(s||(s={}),s[d]="");for(d in g)g.hasOwnProperty(d)&&h[d]!==g[d]&&(s||(s={}),s[d]=g[d])}else s||(c||(c=[]),c.push(_,s)),s=g;else _==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,h=h?h.__html:void 0,g!=null&&h!==g&&(c=c||[]).push(_,g)):_==="children"?typeof g!="string"&&typeof g!="number"||(c=c||[]).push(_,""+g):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&(ea.hasOwnProperty(_)?(g!=null&&_==="onScroll"&&D("scroll",e),c||h===g||(c=[])):(c=c||[]).push(_,g))}s&&(c=c||[]).push("style",s);var _=c;(i.updateQueue=_)&&(i.flags|=4)}};Dj=function(e,i,s,o){s!==o&&(i.flags|=4)};function Ej(e,i){if(!I)switch(e.tailMode){case"hidden":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function S(e){var i=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(i)for(var a=e.child;a!==null;)s|=a.lanes|a.childLanes,o|=a.subtreeFlags&14680064,o|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)s|=a.lanes|a.childLanes,o|=a.subtreeFlags,o|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=o,e.childLanes=s,i}function Fj(e,i,s){var o=i.pendingProps;switch(wg(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(i),null;case 1:return Zf(i.type)&&$f(),S(i),null;case 3:return o=i.stateNode,Jh(),E(Wf),E(H),Oh(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Gg(i)?i.flags|=4:e===null||e.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(e,i),S(i),null;case 5:Lh(i);var a=Hh(Gh.current);if(s=i.type,e!==null&&i.stateNode!=null)Cj(e,i,s,o,a),e.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!o){if(i.stateNode===null)throw Error(p(166));return S(i),null}if(e=Hh(Eh.current),Gg(i)){o=i.stateNode,s=i.type;var c=i.memoizedProps;switch(o[Of]=i,o[Pf]=c,e=(i.mode&1)!==0,s){case"dialog":D("cancel",o),D("close",o);break;case"iframe":case"object":case"embed":D("load",o);break;case"video":case"audio":for(a=0;a<lf.length;a++)D(lf[a],o);break;case"source":D("error",o);break;case"img":case"image":case"link":D("error",o),D("load",o);break;case"details":D("toggle",o);break;case"input":Za(o,c),D("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!c.multiple},D("invalid",o);break;case"textarea":hb(o,c),D("invalid",o)}ub(s,c),a=null;for(var d in c)if(c.hasOwnProperty(d)){var h=c[d];d==="children"?typeof h=="string"?o.textContent!==h&&(c.suppressHydrationWarning!==!0&&Af(o.textContent,h,e),a=["children",h]):typeof h=="number"&&o.textContent!==""+h&&(c.suppressHydrationWarning!==!0&&Af(o.textContent,h,e),a=["children",""+h]):ea.hasOwnProperty(d)&&h!=null&&d==="onScroll"&&D("scroll",o)}switch(s){case"input":Va(o),db(o,c,!0);break;case"textarea":Va(o),jb(o);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(o.onclick=Bf)}o=a,i.updateQueue=o,o!==null&&(i.flags|=4)}else{d=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kb(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=d.createElement(s,{is:o.is}):(e=d.createElement(s),s==="select"&&(d=e,o.multiple?d.multiple=!0:o.size&&(d.size=o.size))):e=d.createElementNS(e,s),e[Of]=i,e[Pf]=o,Aj(e,i,!1,!1),i.stateNode=e;e:{switch(d=vb(s,o),s){case"dialog":D("cancel",e),D("close",e),a=o;break;case"iframe":case"object":case"embed":D("load",e),a=o;break;case"video":case"audio":for(a=0;a<lf.length;a++)D(lf[a],e);a=o;break;case"source":D("error",e),a=o;break;case"img":case"image":case"link":D("error",e),D("load",e),a=o;break;case"details":D("toggle",e),a=o;break;case"input":Za(e,o),a=Ya(e,o),D("invalid",e);break;case"option":a=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},a=A({},o,{value:void 0}),D("invalid",e);break;case"textarea":hb(e,o),a=gb(e,o),D("invalid",e);break;default:a=o}ub(s,a),h=a;for(c in h)if(h.hasOwnProperty(c)){var g=h[c];c==="style"?sb(e,g):c==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&nb(e,g)):c==="children"?typeof g=="string"?(s!=="textarea"||g!=="")&&ob(e,g):typeof g=="number"&&ob(e,""+g):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ea.hasOwnProperty(c)?g!=null&&c==="onScroll"&&D("scroll",e):g!=null&&ta(e,c,g,d))}switch(s){case"input":Va(e),db(e,o,!1);break;case"textarea":Va(e),jb(e);break;case"option":o.value!=null&&e.setAttribute("value",""+Sa(o.value));break;case"select":e.multiple=!!o.multiple,c=o.value,c!=null?fb(e,!!o.multiple,c,!1):o.defaultValue!=null&&fb(e,!!o.multiple,o.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Bf)}switch(s){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return S(i),null;case 6:if(e&&i.stateNode!=null)Dj(e,i,e.memoizedProps,o);else{if(typeof o!="string"&&i.stateNode===null)throw Error(p(166));if(s=Hh(Gh.current),Hh(Eh.current),Gg(i)){if(o=i.stateNode,s=i.memoizedProps,o[Of]=i,(c=o.nodeValue!==s)&&(e=xg,e!==null))switch(e.tag){case 3:Af(o.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Af(o.nodeValue,s,(e.mode&1)!==0)}c&&(i.flags|=4)}else o=(s.nodeType===9?s:s.ownerDocument).createTextNode(o),o[Of]=i,i.stateNode=o}return S(i),null;case 13:if(E(M),o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(I&&yg!==null&&i.mode&1&&!(i.flags&128))Hg(),Ig(),i.flags|=98560,c=!1;else if(c=Gg(i),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(p(318));if(c=i.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(p(317));c[Of]=i}else Ig(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;S(i),c=!1}else zg!==null&&(Gj(zg),zg=null),c=!0;if(!c)return i.flags&65536?i:null}return i.flags&128?(i.lanes=s,i):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(i.child.flags|=8192,i.mode&1&&(e===null||M.current&1?T===0&&(T=3):uj())),i.updateQueue!==null&&(i.flags|=4),S(i),null);case 4:return Jh(),Bj(e,i),e===null&&sf(i.stateNode.containerInfo),S(i),null;case 10:return Rg(i.type._context),S(i),null;case 17:return Zf(i.type)&&$f(),S(i),null;case 19:if(E(M),c=i.memoizedState,c===null)return S(i),null;if(o=(i.flags&128)!==0,d=c.rendering,d===null)if(o)Ej(c,!1);else{if(T!==0||e!==null&&e.flags&128)for(e=i.child;e!==null;){if(d=Mh(e),d!==null){for(i.flags|=128,Ej(c,!1),o=d.updateQueue,o!==null&&(i.updateQueue=o,i.flags|=4),i.subtreeFlags=0,o=s,s=i.child;s!==null;)c=s,e=o,c.flags&=14680066,d=c.alternate,d===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=d.childLanes,c.lanes=d.lanes,c.child=d.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=d.memoizedProps,c.memoizedState=d.memoizedState,c.updateQueue=d.updateQueue,c.type=d.type,e=d.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return G(M,M.current&1|2),i.child}e=e.sibling}c.tail!==null&&B()>Hj&&(i.flags|=128,o=!0,Ej(c,!1),i.lanes=4194304)}else{if(!o)if(e=Mh(d),e!==null){if(i.flags|=128,o=!0,s=e.updateQueue,s!==null&&(i.updateQueue=s,i.flags|=4),Ej(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!I)return S(i),null}else 2*B()-c.renderingStartTime>Hj&&s!==1073741824&&(i.flags|=128,o=!0,Ej(c,!1),i.lanes=4194304);c.isBackwards?(d.sibling=i.child,i.child=d):(s=c.last,s!==null?s.sibling=d:i.child=d,c.last=d)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=B(),i.sibling=null,s=M.current,G(M,o?s&1|2:s&1),i):(S(i),null);case 22:case 23:return Ij(),o=i.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(i.flags|=8192),o&&i.mode&1?gj&1073741824&&(S(i),i.subtreeFlags&6&&(i.flags|=8192)):S(i),null;case 24:return null;case 25:return null}throw Error(p(156,i.tag))}function Jj(e,i){switch(wg(i),i.tag){case 1:return Zf(i.type)&&$f(),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Jh(),E(Wf),E(H),Oh(),e=i.flags,e&65536&&!(e&128)?(i.flags=e&-65537|128,i):null;case 5:return Lh(i),null;case 13:if(E(M),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(p(340));Ig()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return E(M),null;case 4:return Jh(),null;case 10:return Rg(i.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Mj(e,i){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(o){W(e,i,o)}else s.current=null}function Nj(e,i,s){try{s()}catch(o){W(e,i,o)}}var Oj=!1;function Pj(e,i){if(Cf=dd,e=Me(),Ne(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var a=o.anchorOffset,c=o.focusNode;o=o.focusOffset;try{s.nodeType,c.nodeType}catch{s=null;break e}var d=0,h=-1,g=-1,_=0,b=0,$=e,st=null;t:for(;;){for(var lt;$!==s||a!==0&&$.nodeType!==3||(h=d+a),$!==c||o!==0&&$.nodeType!==3||(g=d+o),$.nodeType===3&&(d+=$.nodeValue.length),(lt=$.firstChild)!==null;)st=$,$=lt;for(;;){if($===e)break t;if(st===s&&++_===a&&(h=d),st===c&&++b===o&&(g=d),(lt=$.nextSibling)!==null)break;$=st,st=$.parentNode}$=lt}s=h===-1||g===-1?null:{start:h,end:g}}else s=null}s=s||{start:0,end:0}}else s=null;for(Df={focusedElem:e,selectionRange:s},dd=!1,V=i;V!==null;)if(i=V,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,V=e;else for(;V!==null;){i=V;try{var nt=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(nt!==null){var tt=nt.memoizedProps,dt=nt.memoizedState,et=i.stateNode,it=et.getSnapshotBeforeUpdate(i.elementType===i.type?tt:Lg(i.type,tt),dt);et.__reactInternalSnapshotBeforeUpdate=it}break;case 3:var rt=i.stateNode.containerInfo;rt.nodeType===1?rt.textContent="":rt.nodeType===9&&rt.documentElement&&rt.removeChild(rt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(ut){W(i,i.return,ut)}if(e=i.sibling,e!==null){e.return=i.return,V=e;break}V=i.return}return nt=Oj,Oj=!1,nt}function Qj(e,i,s){var o=i.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var a=o=o.next;do{if((a.tag&e)===e){var c=a.destroy;a.destroy=void 0,c!==void 0&&Nj(i,s,c)}a=a.next}while(a!==o)}}function Rj(e,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&e)===e){var o=s.create;s.destroy=o()}s=s.next}while(s!==i)}}function Sj(e){var i=e.ref;if(i!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof i=="function"?i(e):i.current=e}}function Tj(e){var i=e.alternate;i!==null&&(e.alternate=null,Tj(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&(delete i[Of],delete i[Pf],delete i[of],delete i[Qf],delete i[Rf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Uj(e){return e.tag===5||e.tag===3||e.tag===4}function Vj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Uj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wj(e,i,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?s.nodeType===8?s.parentNode.insertBefore(e,i):s.insertBefore(e,i):(s.nodeType===8?(i=s.parentNode,i.insertBefore(e,s)):(i=s,i.appendChild(e)),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Bf));else if(o!==4&&(e=e.child,e!==null))for(Wj(e,i,s),e=e.sibling;e!==null;)Wj(e,i,s),e=e.sibling}function Xj(e,i,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?s.insertBefore(e,i):s.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Xj(e,i,s),e=e.sibling;e!==null;)Xj(e,i,s),e=e.sibling}var X=null,Yj=!1;function Zj(e,i,s){for(s=s.child;s!==null;)ak(e,i,s),s=s.sibling}function ak(e,i,s){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,s)}catch{}switch(s.tag){case 5:U||Mj(s,i);case 6:var o=X,a=Yj;X=null,Zj(e,i,s),X=o,Yj=a,X!==null&&(Yj?(e=X,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):X.removeChild(s.stateNode));break;case 18:X!==null&&(Yj?(e=X,s=s.stateNode,e.nodeType===8?Kf(e.parentNode,s):e.nodeType===1&&Kf(e,s),bd(e)):Kf(X,s.stateNode));break;case 4:o=X,a=Yj,X=s.stateNode.containerInfo,Yj=!0,Zj(e,i,s),X=o,Yj=a;break;case 0:case 11:case 14:case 15:if(!U&&(o=s.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){a=o=o.next;do{var c=a,d=c.destroy;c=c.tag,d!==void 0&&(c&2||c&4)&&Nj(s,i,d),a=a.next}while(a!==o)}Zj(e,i,s);break;case 1:if(!U&&(Mj(s,i),o=s.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=s.memoizedProps,o.state=s.memoizedState,o.componentWillUnmount()}catch(h){W(s,i,h)}Zj(e,i,s);break;case 21:Zj(e,i,s);break;case 22:s.mode&1?(U=(o=U)||s.memoizedState!==null,Zj(e,i,s),U=o):Zj(e,i,s);break;default:Zj(e,i,s)}}function bk(e){var i=e.updateQueue;if(i!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Lj),i.forEach(function(o){var a=ck.bind(null,e,o);s.has(o)||(s.add(o),o.then(a,a))})}}function dk(e,i){var s=i.deletions;if(s!==null)for(var o=0;o<s.length;o++){var a=s[o];try{var c=e,d=i,h=d;e:for(;h!==null;){switch(h.tag){case 5:X=h.stateNode,Yj=!1;break e;case 3:X=h.stateNode.containerInfo,Yj=!0;break e;case 4:X=h.stateNode.containerInfo,Yj=!0;break e}h=h.return}if(X===null)throw Error(p(160));ak(c,d,a),X=null,Yj=!1;var g=a.alternate;g!==null&&(g.return=null),a.return=null}catch(_){W(a,i,_)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)ek(i,e),i=i.sibling}function ek(e,i){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dk(i,e),fk(e),o&4){try{Qj(3,e,e.return),Rj(3,e)}catch(tt){W(e,e.return,tt)}try{Qj(5,e,e.return)}catch(tt){W(e,e.return,tt)}}break;case 1:dk(i,e),fk(e),o&512&&s!==null&&Mj(s,s.return);break;case 5:if(dk(i,e),fk(e),o&512&&s!==null&&Mj(s,s.return),e.flags&32){var a=e.stateNode;try{ob(a,"")}catch(tt){W(e,e.return,tt)}}if(o&4&&(a=e.stateNode,a!=null)){var c=e.memoizedProps,d=s!==null?s.memoizedProps:c,h=e.type,g=e.updateQueue;if(e.updateQueue=null,g!==null)try{h==="input"&&c.type==="radio"&&c.name!=null&&ab(a,c),vb(h,d);var _=vb(h,c);for(d=0;d<g.length;d+=2){var b=g[d],$=g[d+1];b==="style"?sb(a,$):b==="dangerouslySetInnerHTML"?nb(a,$):b==="children"?ob(a,$):ta(a,b,$,_)}switch(h){case"input":bb(a,c);break;case"textarea":ib(a,c);break;case"select":var st=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!c.multiple;var lt=c.value;lt!=null?fb(a,!!c.multiple,lt,!1):st!==!!c.multiple&&(c.defaultValue!=null?fb(a,!!c.multiple,c.defaultValue,!0):fb(a,!!c.multiple,c.multiple?[]:"",!1))}a[Pf]=c}catch(tt){W(e,e.return,tt)}}break;case 6:if(dk(i,e),fk(e),o&4){if(e.stateNode===null)throw Error(p(162));a=e.stateNode,c=e.memoizedProps;try{a.nodeValue=c}catch(tt){W(e,e.return,tt)}}break;case 3:if(dk(i,e),fk(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{bd(i.containerInfo)}catch(tt){W(e,e.return,tt)}break;case 4:dk(i,e),fk(e);break;case 13:dk(i,e),fk(e),a=e.child,a.flags&8192&&(c=a.memoizedState!==null,a.stateNode.isHidden=c,!c||a.alternate!==null&&a.alternate.memoizedState!==null||(gk=B())),o&4&&bk(e);break;case 22:if(b=s!==null&&s.memoizedState!==null,e.mode&1?(U=(_=U)||b,dk(i,e),U=_):dk(i,e),fk(e),o&8192){if(_=e.memoizedState!==null,(e.stateNode.isHidden=_)&&!b&&e.mode&1)for(V=e,b=e.child;b!==null;){for($=V=b;V!==null;){switch(st=V,lt=st.child,st.tag){case 0:case 11:case 14:case 15:Qj(4,st,st.return);break;case 1:Mj(st,st.return);var nt=st.stateNode;if(typeof nt.componentWillUnmount=="function"){o=st,s=st.return;try{i=o,nt.props=i.memoizedProps,nt.state=i.memoizedState,nt.componentWillUnmount()}catch(tt){W(o,s,tt)}}break;case 5:Mj(st,st.return);break;case 22:if(st.memoizedState!==null){hk($);continue}}lt!==null?(lt.return=st,V=lt):hk($)}b=b.sibling}e:for(b=null,$=e;;){if($.tag===5){if(b===null){b=$;try{a=$.stateNode,_?(c=a.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(h=$.stateNode,g=$.memoizedProps.style,d=g!=null&&g.hasOwnProperty("display")?g.display:null,h.style.display=rb("display",d))}catch(tt){W(e,e.return,tt)}}}else if($.tag===6){if(b===null)try{$.stateNode.nodeValue=_?"":$.memoizedProps}catch(tt){W(e,e.return,tt)}}else if(($.tag!==22&&$.tag!==23||$.memoizedState===null||$===e)&&$.child!==null){$.child.return=$,$=$.child;continue}if($===e)break e;for(;$.sibling===null;){if($.return===null||$.return===e)break e;b===$&&(b=null),$=$.return}b===$&&(b=null),$.sibling.return=$.return,$=$.sibling}}break;case 19:dk(i,e),fk(e),o&4&&bk(e);break;case 21:break;default:dk(i,e),fk(e)}}function fk(e){var i=e.flags;if(i&2){try{e:{for(var s=e.return;s!==null;){if(Uj(s)){var o=s;break e}s=s.return}throw Error(p(160))}switch(o.tag){case 5:var a=o.stateNode;o.flags&32&&(ob(a,""),o.flags&=-33);var c=Vj(e);Xj(e,c,a);break;case 3:case 4:var d=o.stateNode.containerInfo,h=Vj(e);Wj(e,h,d);break;default:throw Error(p(161))}}catch(g){W(e,e.return,g)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function ik(e,i,s){V=e,jk(e)}function jk(e,i,s){for(var o=(e.mode&1)!==0;V!==null;){var a=V,c=a.child;if(a.tag===22&&o){var d=a.memoizedState!==null||Kj;if(!d){var h=a.alternate,g=h!==null&&h.memoizedState!==null||U;h=Kj;var _=U;if(Kj=d,(U=g)&&!_)for(V=a;V!==null;)d=V,g=d.child,d.tag===22&&d.memoizedState!==null?kk(a):g!==null?(g.return=d,V=g):kk(a);for(;c!==null;)V=c,jk(c),c=c.sibling;V=a,Kj=h,U=_}lk(e)}else a.subtreeFlags&8772&&c!==null?(c.return=a,V=c):lk(e)}}function lk(e){for(;V!==null;){var i=V;if(i.flags&8772){var s=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:U||Rj(5,i);break;case 1:var o=i.stateNode;if(i.flags&4&&!U)if(s===null)o.componentDidMount();else{var a=i.elementType===i.type?s.memoizedProps:Lg(i.type,s.memoizedProps);o.componentDidUpdate(a,s.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var c=i.updateQueue;c!==null&&ih(i,c,o);break;case 3:var d=i.updateQueue;if(d!==null){if(s=null,i.child!==null)switch(i.child.tag){case 5:s=i.child.stateNode;break;case 1:s=i.child.stateNode}ih(i,d,s)}break;case 5:var h=i.stateNode;if(s===null&&i.flags&4){s=h;var g=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":g.autoFocus&&s.focus();break;case"img":g.src&&(s.src=g.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var _=i.alternate;if(_!==null){var b=_.memoizedState;if(b!==null){var $=b.dehydrated;$!==null&&bd($)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U||i.flags&512&&Sj(i)}catch(st){W(i,i.return,st)}}if(i===e){V=null;break}if(s=i.sibling,s!==null){s.return=i.return,V=s;break}V=i.return}}function hk(e){for(;V!==null;){var i=V;if(i===e){V=null;break}var s=i.sibling;if(s!==null){s.return=i.return,V=s;break}V=i.return}}function kk(e){for(;V!==null;){var i=V;try{switch(i.tag){case 0:case 11:case 15:var s=i.return;try{Rj(4,i)}catch(g){W(i,s,g)}break;case 1:var o=i.stateNode;if(typeof o.componentDidMount=="function"){var a=i.return;try{o.componentDidMount()}catch(g){W(i,a,g)}}var c=i.return;try{Sj(i)}catch(g){W(i,c,g)}break;case 5:var d=i.return;try{Sj(i)}catch(g){W(i,d,g)}}}catch(g){W(i,i.return,g)}if(i===e){V=null;break}var h=i.sibling;if(h!==null){h.return=i.return,V=h;break}V=i.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R=null,Y=null,Z=0,gj=0,fj=Uf(0),T=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L(){return K&6?B():Bk!==-1?Bk:Bk=B()}function lh(e){return e.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(e=C,e!==0||(e=window.event,e=e===void 0?16:jd(e.type)),e):1}function mh(e,i,s,o){if(50<zk)throw zk=0,Ak=null,Error(p(185));Ac(e,s,o),(!(K&2)||e!==R)&&(e===R&&(!(K&2)&&(rk|=s),T===4&&Dk(e,Z)),Ek(e,o),s===1&&K===0&&!(i.mode&1)&&(Hj=B()+500,fg&&jg()))}function Ek(e,i){var s=e.callbackNode;wc(e,i);var o=uc(e,e===R?Z:0);if(o===0)s!==null&&bc(s),e.callbackNode=null,e.callbackPriority=0;else if(i=o&-o,e.callbackPriority!==i){if(s!=null&&bc(s),i===1)e.tag===0?ig(Fk.bind(null,e)):hg(Fk.bind(null,e)),Jf(function(){!(K&6)&&jg()}),s=null;else{switch(Dc(o)){case 1:s=fc;break;case 4:s=gc;break;case 16:s=hc;break;case 536870912:s=jc;break;default:s=hc}s=Gk(s,Hk.bind(null,e))}e.callbackPriority=i,e.callbackNode=s}}function Hk(e,i){if(Bk=-1,Ck=0,K&6)throw Error(p(327));var s=e.callbackNode;if(Ik()&&e.callbackNode!==s)return null;var o=uc(e,e===R?Z:0);if(o===0)return null;if(o&30||o&e.expiredLanes||i)i=Jk(e,o);else{i=o;var a=K;K|=2;var c=Kk();(R!==e||Z!==i)&&(vk=null,Hj=B()+500,Lk(e,i));do try{Mk();break}catch(h){Nk(e,h)}while(1);Qg(),nk.current=c,K=a,Y!==null?i=0:(R=null,Z=0,i=T)}if(i!==0){if(i===2&&(a=xc(e),a!==0&&(o=a,i=Ok(e,a))),i===1)throw s=qk,Lk(e,0),Dk(e,o),Ek(e,B()),s;if(i===6)Dk(e,o);else{if(a=e.current.alternate,!(o&30)&&!Pk(a)&&(i=Jk(e,o),i===2&&(c=xc(e),c!==0&&(o=c,i=Ok(e,c))),i===1))throw s=qk,Lk(e,0),Dk(e,o),Ek(e,B()),s;switch(e.finishedWork=a,e.finishedLanes=o,i){case 0:case 1:throw Error(p(345));case 2:Qk(e,uk,vk);break;case 3:if(Dk(e,o),(o&130023424)===o&&(i=gk+500-B(),10<i)){if(uc(e,0)!==0)break;if(a=e.suspendedLanes,(a&o)!==o){L(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Ff(Qk.bind(null,e,uk,vk),i);break}Qk(e,uk,vk);break;case 4:if(Dk(e,o),(o&4194240)===o)break;for(i=e.eventTimes,a=-1;0<o;){var d=31-oc(o);c=1<<d,d=i[d],d>a&&(a=d),o&=~c}if(o=a,o=B()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*mk(o/1960))-o,10<o){e.timeoutHandle=Ff(Qk.bind(null,e,uk,vk),o);break}Qk(e,uk,vk);break;case 5:Qk(e,uk,vk);break;default:throw Error(p(329))}}}return Ek(e,B()),e.callbackNode===s?Hk.bind(null,e):null}function Ok(e,i){var s=tk;return e.current.memoizedState.isDehydrated&&(Lk(e,i).flags|=256),e=Jk(e,i),e!==2&&(i=uk,uk=s,i!==null&&Gj(i)),e}function Gj(e){uk===null?uk=e:uk.push.apply(uk,e)}function Pk(e){for(var i=e;;){if(i.flags&16384){var s=i.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var o=0;o<s.length;o++){var a=s[o],c=a.getSnapshot;a=a.value;try{if(!He(c(),a))return!1}catch{return!1}}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Dk(e,i){for(i&=~sk,i&=~rk,e.suspendedLanes|=i,e.pingedLanes&=~i,e=e.expirationTimes;0<i;){var s=31-oc(i),o=1<<s;e[s]=-1,i&=~o}}function Fk(e){if(K&6)throw Error(p(327));Ik();var i=uc(e,0);if(!(i&1))return Ek(e,B()),null;var s=Jk(e,i);if(e.tag!==0&&s===2){var o=xc(e);o!==0&&(i=o,s=Ok(e,o))}if(s===1)throw s=qk,Lk(e,0),Dk(e,i),Ek(e,B()),s;if(s===6)throw Error(p(345));return e.finishedWork=e.current.alternate,e.finishedLanes=i,Qk(e,uk,vk),Ek(e,B()),null}function Rk(e,i){var s=K;K|=1;try{return e(i)}finally{K=s,K===0&&(Hj=B()+500,fg&&jg())}}function Sk(e){xk!==null&&xk.tag===0&&!(K&6)&&Ik();var i=K;K|=1;var s=pk.transition,o=C;try{if(pk.transition=null,C=1,e)return e()}finally{C=o,pk.transition=s,K=i,!(K&6)&&jg()}}function Ij(){gj=fj.current,E(fj)}function Lk(e,i){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Gf(s)),Y!==null)for(s=Y.return;s!==null;){var o=s;switch(wg(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&$f();break;case 3:Jh(),E(Wf),E(H),Oh();break;case 5:Lh(o);break;case 4:Jh();break;case 13:E(M);break;case 19:E(M);break;case 10:Rg(o.type._context);break;case 22:case 23:Ij()}s=s.return}if(R=e,Y=e=wh(e.current,null),Z=gj=i,T=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(i=0;i<Wg.length;i++)if(s=Wg[i],o=s.interleaved,o!==null){s.interleaved=null;var a=o.next,c=s.pending;if(c!==null){var d=c.next;c.next=a,o.next=d}s.pending=o}Wg=null}return e}function Nk(e,i){do{var s=Y;try{if(Qg(),Ph.current=ai,Sh){for(var o=N.memoizedState;o!==null;){var a=o.queue;a!==null&&(a.pending=null),o=o.next}Sh=!1}if(Rh=0,P=O=N=null,Th=!1,Uh=0,ok.current=null,s===null||s.return===null){T=1,qk=i,Y=null;break}e:{var c=e,d=s.return,h=s,g=i;if(i=Z,h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){var _=g,b=h,$=b.tag;if(!(b.mode&1)&&($===0||$===11||$===15)){var st=b.alternate;st?(b.updateQueue=st.updateQueue,b.memoizedState=st.memoizedState,b.lanes=st.lanes):(b.updateQueue=null,b.memoizedState=null)}var lt=Vi(d);if(lt!==null){lt.flags&=-257,Wi(lt,d,h,c,i),lt.mode&1&&Ti(c,_,i),i=lt,g=_;var nt=i.updateQueue;if(nt===null){var tt=new Set;tt.add(g),i.updateQueue=tt}else nt.add(g);break e}else{if(!(i&1)){Ti(c,_,i),uj();break e}g=Error(p(426))}}else if(I&&h.mode&1){var dt=Vi(d);if(dt!==null){!(dt.flags&65536)&&(dt.flags|=256),Wi(dt,d,h,c,i),Jg(Ki(g,h));break e}}c=g=Ki(g,h),T!==4&&(T=2),tk===null?tk=[c]:tk.push(c),c=d;do{switch(c.tag){case 3:c.flags|=65536,i&=-i,c.lanes|=i;var et=Oi(c,g,i);fh(c,et);break e;case 1:h=g;var it=c.type,rt=c.stateNode;if(!(c.flags&128)&&(typeof it.getDerivedStateFromError=="function"||rt!==null&&typeof rt.componentDidCatch=="function"&&(Si===null||!Si.has(rt)))){c.flags|=65536,i&=-i,c.lanes|=i;var ut=Ri(c,h,i);fh(c,ut);break e}}c=c.return}while(c!==null)}Tk(s)}catch(_t){i=_t,Y===s&&s!==null&&(Y=s=s.return);continue}break}while(1)}function Kk(){var e=nk.current;return nk.current=ai,e===null?ai:e}function uj(){(T===0||T===3||T===2)&&(T=4),R===null||!(hh&268435455)&&!(rk&268435455)||Dk(R,Z)}function Jk(e,i){var s=K;K|=2;var o=Kk();(R!==e||Z!==i)&&(vk=null,Lk(e,i));do try{Uk();break}catch(a){Nk(e,a)}while(1);if(Qg(),K=s,nk.current=o,Y!==null)throw Error(p(261));return R=null,Z=0,T}function Uk(){for(;Y!==null;)Vk(Y)}function Mk(){for(;Y!==null&&!cc();)Vk(Y)}function Vk(e){var i=Wk(e.alternate,e,gj);e.memoizedProps=e.pendingProps,i===null?Tk(e):Y=i,ok.current=null}function Tk(e){var i=e;do{var s=i.alternate;if(e=i.return,i.flags&32768){if(s=Jj(s,i),s!==null){s.flags&=32767,Y=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{T=6,Y=null;return}}else if(s=Fj(s,i,gj),s!==null){Y=s;return}if(i=i.sibling,i!==null){Y=i;return}Y=i=e}while(i!==null);T===0&&(T=5)}function Qk(e,i,s){var o=C,a=pk.transition;try{pk.transition=null,C=1,Xk(e,i,s,o)}finally{pk.transition=a,C=o}return null}function Xk(e,i,s,o){do Ik();while(xk!==null);if(K&6)throw Error(p(327));s=e.finishedWork;var a=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(p(177));e.callbackNode=null,e.callbackPriority=0;var c=s.lanes|s.childLanes;if(Bc(e,c),e===R&&(Y=R=null,Z=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),c=(s.flags&15990)!==0,s.subtreeFlags&15990||c){c=pk.transition,pk.transition=null;var d=C;C=1;var h=K;K|=4,ok.current=null,Pj(e,s),ek(s,e),Oe(Df),dd=!!Cf,Df=Cf=null,e.current=s,ik(s),dc(),K=h,C=d,pk.transition=c}else e.current=s;if(wk&&(wk=!1,xk=e,yk=a),c=e.pendingLanes,c===0&&(Si=null),mc(s.stateNode),Ek(e,B()),i!==null)for(o=e.onRecoverableError,s=0;s<i.length;s++)a=i[s],o(a.value,{componentStack:a.stack,digest:a.digest});if(Pi)throw Pi=!1,e=Qi,Qi=null,e;return yk&1&&e.tag!==0&&Ik(),c=e.pendingLanes,c&1?e===Ak?zk++:(zk=0,Ak=e):zk=0,jg(),null}function Ik(){if(xk!==null){var e=Dc(yk),i=pk.transition,s=C;try{if(pk.transition=null,C=16>e?16:e,xk===null)var o=!1;else{if(e=xk,xk=null,yk=0,K&6)throw Error(p(331));var a=K;for(K|=4,V=e.current;V!==null;){var c=V,d=c.child;if(V.flags&16){var h=c.deletions;if(h!==null){for(var g=0;g<h.length;g++){var _=h[g];for(V=_;V!==null;){var b=V;switch(b.tag){case 0:case 11:case 15:Qj(8,b,c)}var $=b.child;if($!==null)$.return=b,V=$;else for(;V!==null;){b=V;var st=b.sibling,lt=b.return;if(Tj(b),b===_){V=null;break}if(st!==null){st.return=lt,V=st;break}V=lt}}}var nt=c.alternate;if(nt!==null){var tt=nt.child;if(tt!==null){nt.child=null;do{var dt=tt.sibling;tt.sibling=null,tt=dt}while(tt!==null)}}V=c}}if(c.subtreeFlags&2064&&d!==null)d.return=c,V=d;else e:for(;V!==null;){if(c=V,c.flags&2048)switch(c.tag){case 0:case 11:case 15:Qj(9,c,c.return)}var et=c.sibling;if(et!==null){et.return=c.return,V=et;break e}V=c.return}}var it=e.current;for(V=it;V!==null;){d=V;var rt=d.child;if(d.subtreeFlags&2064&&rt!==null)rt.return=d,V=rt;else e:for(d=it;V!==null;){if(h=V,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:Rj(9,h)}}catch(_t){W(h,h.return,_t)}if(h===d){V=null;break e}var ut=h.sibling;if(ut!==null){ut.return=h.return,V=ut;break e}V=h.return}}if(K=a,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,e)}catch{}o=!0}return o}finally{C=s,pk.transition=i}}return!1}function Yk(e,i,s){i=Ki(s,i),i=Oi(e,i,1),e=dh(e,i,1),i=L(),e!==null&&(Ac(e,1,i),Ek(e,i))}function W(e,i,s){if(e.tag===3)Yk(e,e,s);else for(;i!==null;){if(i.tag===3){Yk(i,e,s);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Si===null||!Si.has(o))){e=Ki(s,e),e=Ri(i,e,1),i=dh(i,e,1),e=L(),i!==null&&(Ac(i,1,e),Ek(i,e));break}}i=i.return}}function Ui(e,i,s){var o=e.pingCache;o!==null&&o.delete(i),i=L(),e.pingedLanes|=e.suspendedLanes&s,R===e&&(Z&s)===s&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-gk?Lk(e,0):sk|=s),Ek(e,i)}function Zk(e,i){i===0&&(e.mode&1?(i=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):i=1);var s=L();e=Zg(e,i),e!==null&&(Ac(e,i,s),Ek(e,s))}function vj(e){var i=e.memoizedState,s=0;i!==null&&(s=i.retryLane),Zk(e,s)}function ck(e,i){var s=0;switch(e.tag){case 13:var o=e.stateNode,a=e.memoizedState;a!==null&&(s=a.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(p(314))}o!==null&&o.delete(i),Zk(e,s)}var Wk;Wk=function(e,i,s){if(e!==null)if(e.memoizedProps!==i.pendingProps||Wf.current)Ug=!0;else{if(!(e.lanes&s)&&!(i.flags&128))return Ug=!1,zj(e,i,s);Ug=!!(e.flags&131072)}else Ug=!1,I&&i.flags&1048576&&ug(i,ng,i.index);switch(i.lanes=0,i.tag){case 2:var o=i.type;jj(e,i),e=i.pendingProps;var a=Yf(i,H.current);Tg(i,s),a=Xh(null,i,o,e,a,s);var c=bi();return i.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Zf(o)?(c=!0,cg(i)):c=!1,i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,ah(i),a.updater=nh,i.stateNode=a,a._reactInternals=i,rh(i,o,e,s),i=kj(null,i,o,!0,c,s)):(i.tag=0,I&&c&&vg(i),Yi(null,i,a,s),i=i.child),i;case 16:o=i.elementType;e:{switch(jj(e,i),e=i.pendingProps,a=o._init,o=a(o._payload),i.type=o,a=i.tag=$k(o),e=Lg(o,e),a){case 0:i=dj(null,i,o,e,s);break e;case 1:i=ij(null,i,o,e,s);break e;case 11:i=Zi(null,i,o,e,s);break e;case 14:i=aj(null,i,o,Lg(o.type,e),s);break e}throw Error(p(306,o,""))}return i;case 0:return o=i.type,a=i.pendingProps,a=i.elementType===o?a:Lg(o,a),dj(e,i,o,a,s);case 1:return o=i.type,a=i.pendingProps,a=i.elementType===o?a:Lg(o,a),ij(e,i,o,a,s);case 3:e:{if(lj(i),e===null)throw Error(p(387));o=i.pendingProps,c=i.memoizedState,a=c.element,bh(e,i),gh(i,o,null,s);var d=i.memoizedState;if(o=d.element,c.isDehydrated)if(c={element:o,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},i.updateQueue.baseState=c,i.memoizedState=c,i.flags&256){a=Ki(Error(p(423)),i),i=mj(e,i,o,s,a);break e}else if(o!==a){a=Ki(Error(p(424)),i),i=mj(e,i,o,s,a);break e}else for(yg=Lf(i.stateNode.containerInfo.firstChild),xg=i,I=!0,zg=null,s=Ch(i,null,o,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ig(),o===a){i=$i(e,i,s);break e}Yi(e,i,o,s)}i=i.child}return i;case 5:return Kh(i),e===null&&Eg(i),o=i.type,a=i.pendingProps,c=e!==null?e.memoizedProps:null,d=a.children,Ef(o,a)?d=null:c!==null&&Ef(o,c)&&(i.flags|=32),hj(e,i),Yi(e,i,d,s),i.child;case 6:return e===null&&Eg(i),null;case 13:return pj(e,i,s);case 4:return Ih(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=Bh(i,null,o,s):Yi(e,i,o,s),i.child;case 11:return o=i.type,a=i.pendingProps,a=i.elementType===o?a:Lg(o,a),Zi(e,i,o,a,s);case 7:return Yi(e,i,i.pendingProps,s),i.child;case 8:return Yi(e,i,i.pendingProps.children,s),i.child;case 12:return Yi(e,i,i.pendingProps.children,s),i.child;case 10:e:{if(o=i.type._context,a=i.pendingProps,c=i.memoizedProps,d=a.value,G(Mg,o._currentValue),o._currentValue=d,c!==null)if(He(c.value,d)){if(c.children===a.children&&!Wf.current){i=$i(e,i,s);break e}}else for(c=i.child,c!==null&&(c.return=i);c!==null;){var h=c.dependencies;if(h!==null){d=c.child;for(var g=h.firstContext;g!==null;){if(g.context===o){if(c.tag===1){g=ch(-1,s&-s),g.tag=2;var _=c.updateQueue;if(_!==null){_=_.shared;var b=_.pending;b===null?g.next=g:(g.next=b.next,b.next=g),_.pending=g}}c.lanes|=s,g=c.alternate,g!==null&&(g.lanes|=s),Sg(c.return,s,i),h.lanes|=s;break}g=g.next}}else if(c.tag===10)d=c.type===i.type?null:c.child;else if(c.tag===18){if(d=c.return,d===null)throw Error(p(341));d.lanes|=s,h=d.alternate,h!==null&&(h.lanes|=s),Sg(d,s,i),d=c.sibling}else d=c.child;if(d!==null)d.return=c;else for(d=c;d!==null;){if(d===i){d=null;break}if(c=d.sibling,c!==null){c.return=d.return,d=c;break}d=d.return}c=d}Yi(e,i,a.children,s),i=i.child}return i;case 9:return a=i.type,o=i.pendingProps.children,Tg(i,s),a=Vg(a),o=o(a),i.flags|=1,Yi(e,i,o,s),i.child;case 14:return o=i.type,a=Lg(o,i.pendingProps),a=Lg(o.type,a),aj(e,i,o,a,s);case 15:return cj(e,i,i.type,i.pendingProps,s);case 17:return o=i.type,a=i.pendingProps,a=i.elementType===o?a:Lg(o,a),jj(e,i),i.tag=1,Zf(o)?(e=!0,cg(i)):e=!1,Tg(i,s),ph(i,o,a),rh(i,o,a,s),kj(null,i,o,!0,e,s);case 19:return yj(e,i,s);case 22:return ej(e,i,s)}throw Error(p(156,i.tag))};function Gk(e,i){return ac(e,i)}function al(e,i,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(e,i,s,o){return new al(e,i,s,o)}function bj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $k(e){if(typeof e=="function")return bj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Da)return 11;if(e===Ga)return 14}return 2}function wh(e,i){var s=e.alternate;return s===null?(s=Bg(e.tag,i,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=i,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,i=e.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function yh(e,i,s,o,a,c){var d=2;if(o=e,typeof e=="function")bj(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case ya:return Ah(s.children,a,c,i);case za:d=8,a|=8;break;case Aa:return e=Bg(12,s,i,a|2),e.elementType=Aa,e.lanes=c,e;case Ea:return e=Bg(13,s,i,a),e.elementType=Ea,e.lanes=c,e;case Fa:return e=Bg(19,s,i,a),e.elementType=Fa,e.lanes=c,e;case Ia:return qj(s,a,c,i);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ba:d=10;break e;case Ca:d=9;break e;case Da:d=11;break e;case Ga:d=14;break e;case Ha:d=16,o=null;break e}throw Error(p(130,e==null?e:typeof e,""))}return i=Bg(d,s,i,a),i.elementType=e,i.type=o,i.lanes=c,i}function Ah(e,i,s,o){return e=Bg(7,e,o,i),e.lanes=s,e}function qj(e,i,s,o){return e=Bg(22,e,o,i),e.elementType=Ia,e.lanes=s,e.stateNode={isHidden:!1},e}function xh(e,i,s){return e=Bg(6,e,null,i),e.lanes=s,e}function zh(e,i,s){return i=Bg(4,e.children!==null?e.children:[],e.key,i),i.lanes=s,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function bl(e,i,s,o,a){this.tag=i,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=o,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function cl(e,i,s,o,a,c,d,h,g){return e=new bl(e,i,s,h,g),i===1?(i=1,c===!0&&(i|=8)):i=0,c=Bg(3,null,null,i),e.current=c,c.stateNode=e,c.memoizedState={element:o,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(c),e}function dl(e,i,s){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:o==null?null:""+o,children:e,containerInfo:i,implementation:s}}function el(e){if(!e)return Vf;e=e._reactInternals;e:{if(Vb(e)!==e||e.tag!==1)throw Error(p(170));var i=e;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Zf(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(p(171))}if(e.tag===1){var s=e.type;if(Zf(s))return bg(e,s,i)}return i}function fl(e,i,s,o,a,c,d,h,g){return e=cl(s,o,!0,e,a,c,d,h,g),e.context=el(null),s=e.current,o=L(),a=lh(s),c=ch(o,a),c.callback=i??null,dh(s,c,a),e.current.lanes=a,Ac(e,a,o),Ek(e,o),e}function gl(e,i,s,o){var a=i.current,c=L(),d=lh(a);return s=el(s),i.context===null?i.context=s:i.pendingContext=s,i=ch(c,d),i.payload={element:e},o=o===void 0?null:o,o!==null&&(i.callback=o),e=dh(a,i,d),e!==null&&(mh(e,a,d,c),eh(e,a,d)),d}function hl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function il(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<i?s:i}}function jl(e,i){il(e,i),(e=e.alternate)&&il(e,i)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(e){console.error(e)};function ml(e){this._internalRoot=e}nl.prototype.render=ml.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(p(409));gl(e,i,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Sk(function(){gl(null,e,null,null)}),i[uf]=null}};function nl(e){this._internalRoot=e}nl.prototype.unstable_scheduleHydration=function(e){if(e){var i=Hc();e={blockedOn:null,target:e,priority:i};for(var s=0;s<Qc.length&&i!==0&&i<Qc[s].priority;s++);Qc.splice(s,0,e),s===0&&Vc(e)}};function ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function pl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(e,i,s,o,a){if(a){if(typeof o=="function"){var c=o;o=function(){var _=hl(d);c.call(_)}}var d=fl(i,o,e,0,null,!1,!1,"",ql);return e._reactRootContainer=d,e[uf]=d.current,sf(e.nodeType===8?e.parentNode:e),Sk(),d}for(;a=e.lastChild;)e.removeChild(a);if(typeof o=="function"){var h=o;o=function(){var _=hl(g);h.call(_)}}var g=cl(e,0,!1,null,null,!1,!1,"",ql);return e._reactRootContainer=g,e[uf]=g.current,sf(e.nodeType===8?e.parentNode:e),Sk(function(){gl(i,g,s,o)}),g}function sl(e,i,s,o,a){var c=s._reactRootContainer;if(c){var d=c;if(typeof a=="function"){var h=a;a=function(){var g=hl(d);h.call(g)}}gl(i,d,e,a)}else d=rl(s,i,e,a,o);return hl(d)}Ec=function(e){switch(e.tag){case 3:var i=e.stateNode;if(i.current.memoizedState.isDehydrated){var s=tc(i.pendingLanes);s!==0&&(Cc(i,s|1),Ek(i,B()),!(K&6)&&(Hj=B()+500,jg()))}break;case 13:Sk(function(){var o=Zg(e,1);if(o!==null){var a=L();mh(o,e,1,a)}}),jl(e,1)}};Fc=function(e){if(e.tag===13){var i=Zg(e,134217728);if(i!==null){var s=L();mh(i,e,134217728,s)}jl(e,134217728)}};Gc=function(e){if(e.tag===13){var i=lh(e),s=Zg(e,i);if(s!==null){var o=L();mh(s,e,i,o)}jl(e,i)}};Hc=function(){return C};Ic=function(e,i){var s=C;try{return C=e,i()}finally{C=s}};yb=function(e,i,s){switch(i){case"input":if(bb(e,s),i=s.name,s.type==="radio"&&i!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<s.length;i++){var o=s[i];if(o!==e&&o.form===e.form){var a=Db(o);if(!a)throw Error(p(90));Wa(o),bb(o,a)}}}break;case"textarea":ib(e,s);break;case"select":i=s.value,i!=null&&fb(e,!!s.multiple,i,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zb(e),e===null?null:e.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(e,i){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(i))throw Error(p(200));return dl(e,i,null,s)};reactDom_production_min.createRoot=function(e,i){if(!ol(e))throw Error(p(299));var s=!1,o="",a=ll;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onRecoverableError!==void 0&&(a=i.onRecoverableError)),i=cl(e,1,!1,null,null,s,!1,o,a),e[uf]=i.current,sf(e.nodeType===8?e.parentNode:e),new ml(i)};reactDom_production_min.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(p(188)):(e=Object.keys(e).join(","),Error(p(268,e)));return e=Zb(i),e=e===null?null:e.stateNode,e};reactDom_production_min.flushSync=function(e){return Sk(e)};reactDom_production_min.hydrate=function(e,i,s){if(!pl(i))throw Error(p(200));return sl(null,e,i,!0,s)};reactDom_production_min.hydrateRoot=function(e,i,s){if(!ol(e))throw Error(p(405));var o=s!=null&&s.hydratedSources||null,a=!1,c="",d=ll;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),i=fl(i,null,e,1,s??null,a,!1,c,d),e[uf]=i.current,sf(e),o)for(e=0;e<o.length;e++)s=o[e],a=s._getVersion,a=a(s._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[s,a]:i.mutableSourceEagerHydrationData.push(s,a);return new nl(i)};reactDom_production_min.render=function(e,i,s){if(!pl(i))throw Error(p(200));return sl(null,e,i,!1,s)};reactDom_production_min.unmountComponentAtNode=function(e){if(!pl(e))throw Error(p(40));return e._reactRootContainer?(Sk(function(){sl(null,null,e,!1,function(){e._reactRootContainer=null,e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(e,i,s,o){if(!pl(s))throw Error(p(200));if(e==null||e._reactInternals===void 0)throw Error(p(38));return sl(e,i,s,!1,o)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(e){console.error(e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m=reactDomExports;client.createRoot=m.createRoot,client.hydrateRoot=m.hydrateRoot;/**
 * @remix-run/router v1.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},_extends$3.apply(this,arguments)}var Action;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createHashHistory(e){e===void 0&&(e={});function i(a,c){let{pathname:d="/",search:h="",hash:g=""}=parsePath(a.location.hash.substr(1));return createLocation("",{pathname:d,search:h,hash:g},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function s(a,c){let d=a.document.querySelector("base"),h="";if(d&&d.getAttribute("href")){let g=a.location.href,_=g.indexOf("#");h=_===-1?g:g.slice(0,_)}return h+"#"+(typeof c=="string"?c:createPath(c))}function o(a,c){warning(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(c)+")")}return getUrlBasedHistory(i,s,o,e)}function invariant(e,i){if(e===!1||e===null||typeof e>"u")throw new Error(i)}function warning(e,i){if(!e){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(e,i){return{usr:e.state,key:e.key,idx:i}}function createLocation(e,i,s,o){return s===void 0&&(s=null),_extends$3({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof i=="string"?parsePath(i):i,{state:s,key:i&&i.key||o||createKey()})}function createPath(e){let{pathname:i="/",search:s="",hash:o=""}=e;return s&&s!=="?"&&(i+=s.charAt(0)==="?"?s:"?"+s),o&&o!=="#"&&(i+=o.charAt(0)==="#"?o:"#"+o),i}function parsePath(e){let i={};if(e){let s=e.indexOf("#");s>=0&&(i.hash=e.substr(s),e=e.substr(0,s));let o=e.indexOf("?");o>=0&&(i.search=e.substr(o),e=e.substr(0,o)),e&&(i.pathname=e)}return i}function getUrlBasedHistory(e,i,s,o){o===void 0&&(o={});let{window:a=document.defaultView,v5Compat:c=!1}=o,d=a.history,h=Action.Pop,g=null,_=b();_==null&&(_=0,d.replaceState(_extends$3({},d.state,{idx:_}),""));function b(){return(d.state||{idx:null}).idx}function $(){h=Action.Pop;let dt=b(),et=dt==null?null:dt-_;_=dt,g&&g({action:h,location:tt.location,delta:et})}function st(dt,et){h=Action.Push;let it=createLocation(tt.location,dt,et);s&&s(it,dt),_=b()+1;let rt=getHistoryState(it,_),ut=tt.createHref(it);try{d.pushState(rt,"",ut)}catch(_t){if(_t instanceof DOMException&&_t.name==="DataCloneError")throw _t;a.location.assign(ut)}c&&g&&g({action:h,location:tt.location,delta:1})}function lt(dt,et){h=Action.Replace;let it=createLocation(tt.location,dt,et);s&&s(it,dt),_=b();let rt=getHistoryState(it,_),ut=tt.createHref(it);d.replaceState(rt,"",ut),c&&g&&g({action:h,location:tt.location,delta:0})}function nt(dt){let et=a.location.origin!=="null"?a.location.origin:a.location.href,it=typeof dt=="string"?dt:createPath(dt);return invariant(et,"No window.location.(origin|href) available to create URL for href: "+it),new URL(it,et)}let tt={get action(){return h},get location(){return e(a,d)},listen(dt){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(PopStateEventType,$),g=dt,()=>{a.removeEventListener(PopStateEventType,$),g=null}},createHref(dt){return i(a,dt)},createURL:nt,encodeLocation(dt){let et=nt(dt);return{pathname:et.pathname,search:et.search,hash:et.hash}},push:st,replace:lt,go(dt){return d.go(dt)}};return tt}var ResultType;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ResultType||(ResultType={}));function matchRoutes(e,i,s){s===void 0&&(s="/");let o=typeof i=="string"?parsePath(i):i,a=stripBasename(o.pathname||"/",s);if(a==null)return null;let c=flattenRoutes(e);rankRouteBranches(c);let d=null;for(let h=0;d==null&&h<c.length;++h)d=matchRouteBranch(c[h],safelyDecodeURI(a));return d}function flattenRoutes(e,i,s,o){i===void 0&&(i=[]),s===void 0&&(s=[]),o===void 0&&(o="");let a=(c,d,h)=>{let g={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};g.relativePath.startsWith("/")&&(invariant(g.relativePath.startsWith(o),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(o.length));let _=joinPaths([o,g.relativePath]),b=s.concat(g);c.children&&c.children.length>0&&(invariant(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+_+'".')),flattenRoutes(c.children,i,b,_)),!(c.path==null&&!c.index)&&i.push({path:_,score:computeScore(_,c.index),routesMeta:b})};return e.forEach((c,d)=>{var h;if(c.path===""||!((h=c.path)!=null&&h.includes("?")))a(c,d);else for(let g of explodeOptionalSegments(c.path))a(c,d,g)}),i}function explodeOptionalSegments(e){let i=e.split("/");if(i.length===0)return[];let[s,...o]=i,a=s.endsWith("?"),c=s.replace(/\?$/,"");if(o.length===0)return a?[c,""]:[c];let d=explodeOptionalSegments(o.join("/")),h=[];return h.push(...d.map(g=>g===""?c:[c,g].join("/"))),a&&h.push(...d),h.map(g=>e.startsWith("/")&&g===""?"/":g)}function rankRouteBranches(e){e.sort((i,s)=>i.score!==s.score?s.score-i.score:compareIndexes(i.routesMeta.map(o=>o.childrenIndex),s.routesMeta.map(o=>o.childrenIndex)))}const paramRe=/^:\w+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=e=>e==="*";function computeScore(e,i){let s=e.split("/"),o=s.length;return s.some(isSplat)&&(o+=splatPenalty),i&&(o+=indexRouteValue),s.filter(a=>!isSplat(a)).reduce((a,c)=>a+(paramRe.test(c)?dynamicSegmentValue:c===""?emptySegmentValue:staticSegmentValue),o)}function compareIndexes(e,i){return e.length===i.length&&e.slice(0,-1).every((o,a)=>o===i[a])?e[e.length-1]-i[i.length-1]:0}function matchRouteBranch(e,i){let{routesMeta:s}=e,o={},a="/",c=[];for(let d=0;d<s.length;++d){let h=s[d],g=d===s.length-1,_=a==="/"?i:i.slice(a.length)||"/",b=matchPath({path:h.relativePath,caseSensitive:h.caseSensitive,end:g},_);if(!b)return null;Object.assign(o,b.params);let $=h.route;c.push({params:o,pathname:joinPaths([a,b.pathname]),pathnameBase:normalizePathname(joinPaths([a,b.pathnameBase])),route:$}),b.pathnameBase!=="/"&&(a=joinPaths([a,b.pathnameBase]))}return c}function matchPath(e,i){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,o]=compilePath(e.path,e.caseSensitive,e.end),a=i.match(s);if(!a)return null;let c=a[0],d=c.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:o.reduce((_,b,$)=>{if(b==="*"){let st=h[$]||"";d=c.slice(0,c.length-st.length).replace(/(.)\/+$/,"$1")}return _[b]=safelyDecodeURIComponent(h[$]||"",b),_},{}),pathname:c,pathnameBase:d,pattern:e}}function compilePath(e,i,s){i===void 0&&(i=!1),s===void 0&&(s=!0),warning(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let o=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(d,h)=>(o.push(h),"/([^\\/]+)"));return e.endsWith("*")?(o.push("*"),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,i?void 0:"i"),o]}function safelyDecodeURI(e){try{return decodeURI(e)}catch(i){return warning(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+i+").")),e}}function safelyDecodeURIComponent(e,i){try{return decodeURIComponent(e)}catch(s){return warning(!1,'The value for the URL param "'+i+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+s+").")),e}}function stripBasename(e,i){if(i==="/")return e;if(!e.toLowerCase().startsWith(i.toLowerCase()))return null;let s=i.endsWith("/")?i.length-1:i.length,o=e.charAt(s);return o&&o!=="/"?null:e.slice(s)||"/"}function resolvePath(e,i){i===void 0&&(i="/");let{pathname:s,search:o="",hash:a=""}=typeof e=="string"?parsePath(e):e;return{pathname:s?s.startsWith("/")?s:resolvePathname(s,i):i,search:normalizeSearch(o),hash:normalizeHash(a)}}function resolvePathname(e,i){let s=i.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function getInvalidPathError(e,i,s,o){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+i+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(e){return e.filter((i,s)=>s===0||i.route.path&&i.route.path.length>0)}function resolveTo(e,i,s,o){o===void 0&&(o=!1);let a;typeof e=="string"?a=parsePath(e):(a=_extends$3({},e),invariant(!a.pathname||!a.pathname.includes("?"),getInvalidPathError("?","pathname","search",a)),invariant(!a.pathname||!a.pathname.includes("#"),getInvalidPathError("#","pathname","hash",a)),invariant(!a.search||!a.search.includes("#"),getInvalidPathError("#","search","hash",a)));let c=e===""||a.pathname==="",d=c?"/":a.pathname,h;if(o||d==null)h=s;else{let $=i.length-1;if(d.startsWith("..")){let st=d.split("/");for(;st[0]==="..";)st.shift(),$-=1;a.pathname=st.join("/")}h=$>=0?i[$]:"/"}let g=resolvePath(a,h),_=d&&d!=="/"&&d.endsWith("/"),b=(c||d===".")&&s.endsWith("/");return!g.pathname.endsWith("/")&&(_||b)&&(g.pathname+="/"),g}const joinPaths=e=>e.join("/").replace(/\/\/+/g,"/"),normalizePathname=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,normalizeHash=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function isRouteErrorResponse(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},_extends$2.apply(this,arguments)}const START_TRANSITION="startTransition";var startTransitionImpl=React$1[START_TRANSITION];const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(e,i){let{relative:s}=i===void 0?{}:i;useInRouterContext()||invariant(!1);let{basename:o,navigator:a}=reactExports.useContext(NavigationContext),{hash:c,pathname:d,search:h}=useResolvedPath(e,{relative:s}),g=d;return o!=="/"&&(g=d==="/"?o:joinPaths([o,d])),a.createHref({pathname:g,search:h,hash:c})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect(e){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(e)}function useNavigate(){let{isDataRoute:e}=reactExports.useContext(RouteContext);return e?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let e=reactExports.useContext(DataRouterContext),{basename:i,navigator:s}=reactExports.useContext(NavigationContext),{matches:o}=reactExports.useContext(RouteContext),{pathname:a}=useLocation(),c=JSON.stringify(getPathContributingMatches(o).map(g=>g.pathnameBase)),d=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{d.current=!0}),reactExports.useCallback(function(g,_){if(_===void 0&&(_={}),!d.current)return;if(typeof g=="number"){s.go(g);return}let b=resolveTo(g,JSON.parse(c),a,_.relative==="path");e==null&&i!=="/"&&(b.pathname=b.pathname==="/"?i:joinPaths([i,b.pathname])),(_.replace?s.replace:s.push)(b,_.state,_)},[i,s,c,a,e])}function useParams(){let{matches:e}=reactExports.useContext(RouteContext),i=e[e.length-1];return i?i.params:{}}function useResolvedPath(e,i){let{relative:s}=i===void 0?{}:i,{matches:o}=reactExports.useContext(RouteContext),{pathname:a}=useLocation(),c=JSON.stringify(getPathContributingMatches(o).map(d=>d.pathnameBase));return reactExports.useMemo(()=>resolveTo(e,JSON.parse(c),a,s==="path"),[e,c,a,s])}function useRoutes(e,i){return useRoutesImpl(e,i)}function useRoutesImpl(e,i,s){useInRouterContext()||invariant(!1);let{navigator:o}=reactExports.useContext(NavigationContext),{matches:a}=reactExports.useContext(RouteContext),c=a[a.length-1],d=c?c.params:{};c&&c.pathname;let h=c?c.pathnameBase:"/";c&&c.route;let g=useLocation(),_;if(i){var b;let tt=typeof i=="string"?parsePath(i):i;h==="/"||(b=tt.pathname)!=null&&b.startsWith(h)||invariant(!1),_=tt}else _=g;let $=_.pathname||"/",st=h==="/"?$:$.slice(h.length)||"/",lt=matchRoutes(e,{pathname:st}),nt=_renderMatches(lt&&lt.map(tt=>Object.assign({},tt,{params:Object.assign({},d,tt.params),pathname:joinPaths([h,o.encodeLocation?o.encodeLocation(tt.pathname).pathname:tt.pathname]),pathnameBase:tt.pathnameBase==="/"?h:joinPaths([h,o.encodeLocation?o.encodeLocation(tt.pathnameBase).pathname:tt.pathnameBase])})),a,s);return i&&nt?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$2({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:Action.Pop}},nt):nt}function DefaultErrorComponent(){let e=useRouteError(),i=isRouteErrorResponse(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},c=null;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},i),s?reactExports.createElement("pre",{style:a},s):null,c)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,s){return s.location!==i.location||s.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error||s.error,location:s.location,revalidation:i.revalidation||s.revalidation}}componentDidCatch(i,s){console.error("React Router caught the following error during render",i,s)}render(){return this.state.error?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(e){let{routeContext:i,match:s,children:o}=e,a=reactExports.useContext(DataRouterContext);return a&&a.static&&a.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=s.route.id),reactExports.createElement(RouteContext.Provider,{value:i},o)}function _renderMatches(e,i,s){var o;if(i===void 0&&(i=[]),s===void 0&&(s=null),e==null){var a;if((a=s)!=null&&a.errors)e=s.matches;else return null}let c=e,d=(o=s)==null?void 0:o.errors;if(d!=null){let h=c.findIndex(g=>g.route.id&&(d==null?void 0:d[g.route.id]));h>=0||invariant(!1),c=c.slice(0,Math.min(c.length,h+1))}return c.reduceRight((h,g,_)=>{let b=g.route.id?d==null?void 0:d[g.route.id]:null,$=null;s&&($=g.route.errorElement||defaultErrorElement);let st=i.concat(c.slice(0,_+1)),lt=()=>{let nt;return b?nt=$:g.route.Component?nt=reactExports.createElement(g.route.Component,null):g.route.element?nt=g.route.element:nt=h,reactExports.createElement(RenderedRoute,{match:g,routeContext:{outlet:h,matches:st,isDataRoute:s!=null},children:nt})};return s&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?reactExports.createElement(RenderErrorBoundary,{location:s.location,revalidation:s.revalidation,component:$,error:b,children:lt(),routeContext:{outlet:null,matches:st,isDataRoute:!0}}):lt()},null)}var DataRouterHook$1;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"})(DataRouterHook$1||(DataRouterHook$1={}));var DataRouterStateHook$1;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"})(DataRouterStateHook$1||(DataRouterStateHook$1={}));function useDataRouterContext(e){let i=reactExports.useContext(DataRouterContext);return i||invariant(!1),i}function useDataRouterState(e){let i=reactExports.useContext(DataRouterStateContext);return i||invariant(!1),i}function useRouteContext(e){let i=reactExports.useContext(RouteContext);return i||invariant(!1),i}function useCurrentRouteId(e){let i=useRouteContext(),s=i.matches[i.matches.length-1];return s.route.id||invariant(!1),s.route.id}function useRouteError(){var e;let i=reactExports.useContext(RouteErrorContext),s=useDataRouterState(DataRouterStateHook$1.UseRouteError),o=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return i||((e=s.errors)==null?void 0:e[o])}function useNavigateStable(){let{router:e}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),i=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),s=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{s.current=!0}),reactExports.useCallback(function(a,c){c===void 0&&(c={}),s.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,_extends$2({fromRouteId:i},c)))},[e,i])}function Route(e){invariant(!1)}function Router(e){let{basename:i="/",children:s=null,location:o,navigationType:a=Action.Pop,navigator:c,static:d=!1}=e;useInRouterContext()&&invariant(!1);let h=i.replace(/^\/*/,"/"),g=reactExports.useMemo(()=>({basename:h,navigator:c,static:d}),[h,c,d]);typeof o=="string"&&(o=parsePath(o));let{pathname:_="/",search:b="",hash:$="",state:st=null,key:lt="default"}=o,nt=reactExports.useMemo(()=>{let tt=stripBasename(_,h);return tt==null?null:{location:{pathname:tt,search:b,hash:$,state:st,key:lt},navigationType:a}},[h,_,b,$,st,lt,a]);return nt==null?null:reactExports.createElement(NavigationContext.Provider,{value:g},reactExports.createElement(LocationContext.Provider,{children:s,value:nt}))}function Routes(e){let{children:i,location:s}=e;return useRoutes(createRoutesFromChildren(i),s)}var AwaitRenderStatus;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(AwaitRenderStatus||(AwaitRenderStatus={}));new Promise(()=>{});function createRoutesFromChildren(e,i){i===void 0&&(i=[]);let s=[];return reactExports.Children.forEach(e,(o,a)=>{if(!reactExports.isValidElement(o))return;let c=[...i,a];if(o.type===reactExports.Fragment){s.push.apply(s,createRoutesFromChildren(o.props.children,c));return}o.type!==Route&&invariant(!1),!o.props.index||!o.props.children||invariant(!1);let d={id:o.props.id||c.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(d.children=createRoutesFromChildren(o.props.children,c)),s.push(d)}),s}/**
 * React Router DOM v6.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},_extends$1.apply(this,arguments)}function _objectWithoutPropertiesLoose$1(e,i){if(e==null)return{};var s={},o=Object.keys(e),a,c;for(c=0;c<o.length;c++)a=o[c],!(i.indexOf(a)>=0)&&(s[a]=e[a]);return s}function isModifiedEvent(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function shouldProcessLinkClick(e,i){return e.button===0&&(!i||i==="_self")&&!isModifiedEvent(e)}const _excluded$f=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function HashRouter(e){let{basename:i,children:s,future:o,window:a}=e,c=reactExports.useRef();c.current==null&&(c.current=createHashHistory({window:a,v5Compat:!0}));let d=c.current,[h,g]=reactExports.useState({action:d.action,location:d.location}),{v7_startTransition:_}=o||{},b=reactExports.useCallback($=>{_&&startTransitionImpl?startTransitionImpl(()=>g($)):g($)},[g,_]);return reactExports.useLayoutEffect(()=>d.listen(b),[d,b]),reactExports.createElement(Router,{basename:i,children:s,location:h.location,navigationType:h.action,navigator:d})}const isBrowser$2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(i,s){let{onClick:o,relative:a,reloadDocument:c,replace:d,state:h,target:g,to:_,preventScrollReset:b}=i,$=_objectWithoutPropertiesLoose$1(i,_excluded$f),{basename:st}=reactExports.useContext(NavigationContext),lt,nt=!1;if(typeof _=="string"&&ABSOLUTE_URL_REGEX.test(_)&&(lt=_,isBrowser$2))try{let it=new URL(window.location.href),rt=_.startsWith("//")?new URL(it.protocol+_):new URL(_),ut=stripBasename(rt.pathname,st);rt.origin===it.origin&&ut!=null?_=ut+rt.search+rt.hash:nt=!0}catch{}let tt=useHref(_,{relative:a}),dt=useLinkClickHandler(_,{replace:d,state:h,target:g,preventScrollReset:b,relative:a});function et(it){o&&o(it),it.defaultPrevented||dt(it)}return reactExports.createElement("a",_extends$1({},$,{href:lt||tt,onClick:nt||c?o:et,ref:s,target:g}))});var DataRouterHook;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(e,i){let{target:s,replace:o,state:a,preventScrollReset:c,relative:d}=i===void 0?{}:i,h=useNavigate(),g=useLocation(),_=useResolvedPath(e,{relative:d});return reactExports.useCallback(b=>{if(shouldProcessLinkClick(b,s)){b.preventDefault();let $=o!==void 0?o:createPath(g)===createPath(_);h(e,{replace:$,state:a,preventScrollReset:c,relative:d})}},[g,h,_,o,a,s,e,c,d])}function isPlainObject(e){return e!==null&&typeof e=="object"&&e.constructor===Object}function deepClone(e){if(!isPlainObject(e))return e;const i={};return Object.keys(e).forEach(s=>{i[s]=deepClone(e[s])}),i}function deepmerge(e,i,s={clone:!0}){const o=s.clone?{...e}:e;return isPlainObject(e)&&isPlainObject(i)&&Object.keys(i).forEach(a=>{a!=="__proto__"&&(isPlainObject(i[a])&&a in e&&isPlainObject(e[a])?o[a]=deepmerge(e[a],i[a],s):s.clone?o[a]=isPlainObject(i[a])?deepClone(i[a]):i[a]:o[a]=i[a])}),o}function formatMuiErrorMessage(e){let i="https://mui.com/production-error/?code="+e;for(let s=1;s<arguments.length;s+=1)i+="&args[]="+encodeURIComponent(arguments[s]);return"Minified MUI error #"+e+"; visit "+i+" for the full message."}function capitalize(e){if(typeof e!="string")throw new Error(formatMuiErrorMessage(7));return e.charAt(0).toUpperCase()+e.slice(1)}function createChainedFunction(...e){return e.reduce((i,s)=>s==null?i:function(...a){i.apply(this,a),s.apply(this,a)},()=>{})}function debounce(e,i=166){let s;function o(...a){const c=()=>{e.apply(this,a)};clearTimeout(s),s=setTimeout(c,i)}return o.clear=()=>{clearTimeout(s)},o}function deprecatedPropType(e,i){return()=>null}function isMuiElement(e,i){return reactExports.isValidElement(e)&&i.indexOf(e.type.muiName)!==-1}function ownerDocument(e){return e&&e.ownerDocument||document}function ownerWindow(e){return ownerDocument(e).defaultView||window}function requirePropFactory(e,i){return()=>null}function setRef(e,i){typeof e=="function"?e(i):e&&(e.current=i)}const useEnhancedEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,useEnhancedEffect$1=useEnhancedEffect;let globalId=0;function useGlobalId(e){const[i,s]=reactExports.useState(e),o=e||i;return reactExports.useEffect(()=>{i==null&&(globalId+=1,s(`mui-${globalId}`))},[i]),o}const maybeReactUseId=React$1["useId".toString()];function useId(e){if(maybeReactUseId!==void 0){const i=maybeReactUseId();return e??i}return useGlobalId(e)}function unsupportedProp(e,i,s,o,a){return null}function useControlled({controlled:e,default:i,name:s,state:o="value"}){const{current:a}=reactExports.useRef(e!==void 0),[c,d]=reactExports.useState(i),h=a?e:c,g=reactExports.useCallback(_=>{a||d(_)},[]);return[h,g]}function useEventCallback(e){const i=reactExports.useRef(e);return useEnhancedEffect$1(()=>{i.current=e}),reactExports.useCallback((...s)=>(0,i.current)(...s),[])}function useForkRef(...e){return reactExports.useMemo(()=>e.every(i=>i==null)?null:i=>{e.forEach(s=>{setRef(s,i)})},e)}let hadKeyboardEvent=!0,hadFocusVisibleRecently=!1,hadFocusVisibleRecentlyTimeout;const inputTypesWhitelist={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function focusTriggersKeyboardModality(e){const{type:i,tagName:s}=e;return!!(s==="INPUT"&&inputTypesWhitelist[i]&&!e.readOnly||s==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function handleKeyDown(e){e.metaKey||e.altKey||e.ctrlKey||(hadKeyboardEvent=!0)}function handlePointerDown(){hadKeyboardEvent=!1}function handleVisibilityChange(){this.visibilityState==="hidden"&&hadFocusVisibleRecently&&(hadKeyboardEvent=!0)}function prepare(e){e.addEventListener("keydown",handleKeyDown,!0),e.addEventListener("mousedown",handlePointerDown,!0),e.addEventListener("pointerdown",handlePointerDown,!0),e.addEventListener("touchstart",handlePointerDown,!0),e.addEventListener("visibilitychange",handleVisibilityChange,!0)}function isFocusVisible(e){const{target:i}=e;try{return i.matches(":focus-visible")}catch{}return hadKeyboardEvent||focusTriggersKeyboardModality(i)}function useIsFocusVisible(){const e=reactExports.useCallback(a=>{a!=null&&prepare(a.ownerDocument)},[]),i=reactExports.useRef(!1);function s(){return i.current?(hadFocusVisibleRecently=!0,window.clearTimeout(hadFocusVisibleRecentlyTimeout),hadFocusVisibleRecentlyTimeout=window.setTimeout(()=>{hadFocusVisibleRecently=!1},100),i.current=!1,!0):!1}function o(a){return isFocusVisible(a)?(i.current=!0,!0):!1}return{isFocusVisibleRef:i,onFocus:o,onBlur:s,ref:e}}function resolveProps(e,i){const s={...i};return Object.keys(e).forEach(o=>{if(o.toString().match(/^(components|slots)$/))s[o]={...e[o],...s[o]};else if(o.toString().match(/^(componentsProps|slotProps)$/)){const a=e[o]||{},c=i[o];s[o]={},!c||!Object.keys(c)?s[o]=a:!a||!Object.keys(a)?s[o]=c:(s[o]={...c},Object.keys(a).forEach(d=>{s[o][d]=resolveProps(a[d],c[d])}))}else s[o]===void 0&&(s[o]=e[o])}),s}function composeClasses(e,i,s=void 0){const o={};return Object.keys(e).forEach(a=>{o[a]=e[a].reduce((c,d)=>{if(d){const h=i(d);h!==""&&c.push(h),s&&s[d]&&c.push(s[d])}return c},[]).join(" ")}),o}const defaultGenerator=e=>e,createClassNameGenerator=()=>{let e=defaultGenerator;return{configure(i){e=i},generate(i){return e(i)},reset(){e=defaultGenerator}}},ClassNameGenerator=createClassNameGenerator(),ClassNameGenerator$1=ClassNameGenerator,globalStateClassesMapping={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function generateUtilityClass(e,i,s="Mui"){const o=globalStateClassesMapping[i];return o?`${s}-${o}`:`${ClassNameGenerator$1.generate(e)}-${i}`}function generateUtilityClasses(e,i,s="Mui"){const o={};return i.forEach(a=>{o[a]=generateUtilityClass(e,a,s)}),o}const THEME_ID="$$material";function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(e,i){if(e==null)return{};var s={},o=Object.keys(e),a,c;for(c=0;c<o.length;c++)a=o[c],!(i.indexOf(a)>=0)&&(s[a]=e[a]);return s}function memoize$1(e){var i=Object.create(null);return function(s){return i[s]===void 0&&(i[s]=e(s)),i[s]}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$1(function(e){return reactPropsRegex.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function sheetForTag(e){if(e.sheet)return e.sheet;for(var i=0;i<document.styleSheets.length;i++)if(document.styleSheets[i].ownerNode===e)return document.styleSheets[i]}function createStyleElement(e){var i=document.createElement("style");return i.setAttribute("data-emotion",e.key),e.nonce!==void 0&&i.setAttribute("nonce",e.nonce),i.appendChild(document.createTextNode("")),i.setAttribute("data-s",""),i}var StyleSheet=function(){function e(s){var o=this;this._insertTag=function(a){var c;o.tags.length===0?o.insertionPoint?c=o.insertionPoint.nextSibling:o.prepend?c=o.container.firstChild:c=o.before:c=o.tags[o.tags.length-1].nextSibling,o.container.insertBefore(a,c),o.tags.push(a)},this.isSpeedy=s.speedy===void 0?!0:s.speedy,this.tags=[],this.ctr=0,this.nonce=s.nonce,this.key=s.key,this.container=s.container,this.prepend=s.prepend,this.insertionPoint=s.insertionPoint,this.before=null}var i=e.prototype;return i.hydrate=function(o){o.forEach(this._insertTag)},i.insert=function(o){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var c=sheetForTag(a);try{c.insertRule(o,c.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(o));this.ctr++},i.flush=function(){this.tags.forEach(function(o){return o.parentNode&&o.parentNode.removeChild(o)}),this.tags=[],this.ctr=0},e}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash(e,i){return charat(e,0)^45?(((i<<2^charat(e,0))<<2^charat(e,1))<<2^charat(e,2))<<2^charat(e,3):0}function trim(e){return e.trim()}function match(e,i){return(e=i.exec(e))?e[0]:e}function replace(e,i,s){return e.replace(i,s)}function indexof(e,i){return e.indexOf(i)}function charat(e,i){return e.charCodeAt(i)|0}function substr(e,i,s){return e.slice(i,s)}function strlen(e){return e.length}function sizeof(e){return e.length}function append(e,i){return i.push(e),e}function combine(e,i){return e.map(i).join("")}var line=1,column=1,length=0,position=0,character=0,characters="";function node(e,i,s,o,a,c,d){return{value:e,root:i,parent:s,type:o,props:a,children:c,line,column,length:d,return:""}}function copy(e,i){return assign(node("",null,null,"",null,null,0),e,{length:-e.length},i)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(e,i){return substr(characters,e,i)}function token(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(e){return line=column=1,length=strlen(characters=e),position=0,[]}function dealloc(e){return characters="",e}function delimit(e){return trim(slice(position-1,delimiter(e===91?e+2:e===40?e+1:e)))}function whitespace(e){for(;(character=peek())&&character<33;)next();return token(e)>2||token(character)>3?"":" "}function escaping(e,i){for(;--i&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(e,caret()+(i<6&&peek()==32&&next()==32))}function delimiter(e){for(;next();)switch(character){case e:return position;case 34:case 39:e!==34&&e!==39&&delimiter(character);break;case 40:e===41&&delimiter(e);break;case 92:next();break}return position}function commenter(e,i){for(;next()&&e+character!==47+10;)if(e+character===42+42&&peek()===47)break;return"/*"+slice(i,position-1)+"*"+from(e===47?e:next())}function identifier(e){for(;!token(peek());)next();return slice(e,position)}function compile(e){return dealloc(parse("",null,null,null,[""],e=alloc(e),0,[0],e))}function parse(e,i,s,o,a,c,d,h,g){for(var _=0,b=0,$=d,st=0,lt=0,nt=0,tt=1,dt=1,et=1,it=0,rt="",ut=a,_t=c,At=o,gt=rt;dt;)switch(nt=it,it=next()){case 40:if(nt!=108&&charat(gt,$-1)==58){indexof(gt+=replace(delimit(it),"&","&\f"),"&\f")!=-1&&(et=-1);break}case 34:case 39:case 91:gt+=delimit(it);break;case 9:case 10:case 13:case 32:gt+=whitespace(nt);break;case 92:gt+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),i,s),g);break;default:gt+="/"}break;case 123*tt:h[_++]=strlen(gt)*et;case 125*tt:case 59:case 0:switch(it){case 0:case 125:dt=0;case 59+b:et==-1&&(gt=replace(gt,/\f/g,"")),lt>0&&strlen(gt)-$&&append(lt>32?declaration(gt+";",o,s,$-1):declaration(replace(gt," ","")+";",o,s,$-2),g);break;case 59:gt+=";";default:if(append(At=ruleset(gt,i,s,_,b,a,h,rt,ut=[],_t=[],$),c),it===123)if(b===0)parse(gt,i,At,At,ut,c,$,h,_t);else switch(st===99&&charat(gt,3)===110?100:st){case 100:case 108:case 109:case 115:parse(e,At,At,o&&append(ruleset(e,At,At,0,0,a,h,rt,a,ut=[],$),_t),a,_t,$,h,o?ut:_t);break;default:parse(gt,At,At,At,[""],_t,0,h,_t)}}_=b=lt=0,tt=et=1,rt=gt="",$=d;break;case 58:$=1+strlen(gt),lt=nt;default:if(tt<1){if(it==123)--tt;else if(it==125&&tt++==0&&prev()==125)continue}switch(gt+=from(it),it*tt){case 38:et=b>0?1:(gt+="\f",-1);break;case 44:h[_++]=(strlen(gt)-1)*et,et=1;break;case 64:peek()===45&&(gt+=delimit(next())),st=peek(),b=$=strlen(rt=gt+=identifier(caret())),it++;break;case 45:nt===45&&strlen(gt)==2&&(tt=0)}}return c}function ruleset(e,i,s,o,a,c,d,h,g,_,b){for(var $=a-1,st=a===0?c:[""],lt=sizeof(st),nt=0,tt=0,dt=0;nt<o;++nt)for(var et=0,it=substr(e,$+1,$=abs(tt=d[nt])),rt=e;et<lt;++et)(rt=trim(tt>0?st[et]+" "+it:replace(it,/&\f/g,st[et])))&&(g[dt++]=rt);return node(e,i,s,a===0?RULESET:h,g,_,b)}function comment(e,i,s){return node(e,i,s,COMMENT,from(char()),substr(e,2,-2),0)}function declaration(e,i,s,o){return node(e,i,s,DECLARATION,substr(e,0,o),substr(e,o+1,-1),o)}function serialize(e,i){for(var s="",o=sizeof(e),a=0;a<o;a++)s+=i(e[a],a,e,i)||"";return s}function stringify(e,i,s,o){switch(e.type){case LAYER:if(e.children.length)break;case IMPORT:case DECLARATION:return e.return=e.return||e.value;case COMMENT:return"";case KEYFRAMES:return e.return=e.value+"{"+serialize(e.children,o)+"}";case RULESET:e.value=e.props.join(",")}return strlen(s=serialize(e.children,o))?e.return=e.value+"{"+s+"}":""}function middleware(e){var i=sizeof(e);return function(s,o,a,c){for(var d="",h=0;h<i;h++)d+=e[h](s,o,a,c)||"";return d}}function rulesheet(e){return function(i){i.root||(i=i.return)&&e(i)}}var identifierWithPointTracking=function(i,s,o){for(var a=0,c=0;a=c,c=peek(),a===38&&c===12&&(s[o]=1),!token(c);)next();return slice(i,position)},toRules=function(i,s){var o=-1,a=44;do switch(token(a)){case 0:a===38&&peek()===12&&(s[o]=1),i[o]+=identifierWithPointTracking(position-1,s,o);break;case 2:i[o]+=delimit(a);break;case 4:if(a===44){i[++o]=peek()===58?"&\f":"",s[o]=i[o].length;break}default:i[o]+=from(a)}while(a=next());return i},getRules=function(i,s){return dealloc(toRules(alloc(i),s))},fixedElements=new WeakMap,compat=function(i){if(!(i.type!=="rule"||!i.parent||i.length<1)){for(var s=i.value,o=i.parent,a=i.column===o.column&&i.line===o.line;o.type!=="rule";)if(o=o.parent,!o)return;if(!(i.props.length===1&&s.charCodeAt(0)!==58&&!fixedElements.get(o))&&!a){fixedElements.set(i,!0);for(var c=[],d=getRules(s,c),h=o.props,g=0,_=0;g<d.length;g++)for(var b=0;b<h.length;b++,_++)i.props[_]=c[g]?d[g].replace(/&\f/g,h[b]):h[b]+" "+d[g]}}},removeLabel=function(i){if(i.type==="decl"){var s=i.value;s.charCodeAt(0)===108&&s.charCodeAt(2)===98&&(i.return="",i.value="")}};function prefix(e,i){switch(hash(e,i)){case 5103:return WEBKIT+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+e+MOZ+e+MS+e+e;case 6828:case 4268:return WEBKIT+e+MS+e+e;case 6165:return WEBKIT+e+MS+"flex-"+e+e;case 5187:return WEBKIT+e+replace(e,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+e;case 5443:return WEBKIT+e+MS+"flex-item-"+replace(e,/flex-|-self/,"")+e;case 4675:return WEBKIT+e+MS+"flex-line-pack"+replace(e,/align-content|flex-|-self/,"")+e;case 5548:return WEBKIT+e+MS+replace(e,"shrink","negative")+e;case 5292:return WEBKIT+e+MS+replace(e,"basis","preferred-size")+e;case 6060:return WEBKIT+"box-"+replace(e,"-grow","")+WEBKIT+e+MS+replace(e,"grow","positive")+e;case 4554:return WEBKIT+replace(e,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+e;case 6187:return replace(replace(replace(e,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),e,"")+e;case 5495:case 3959:return replace(e,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(e,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+e+e;case 4095:case 3583:case 4068:case 2532:return replace(e,/(.+)-inline(.+)/,WEBKIT+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(e)-1-i>6)switch(charat(e,i+1)){case 109:if(charat(e,i+4)!==45)break;case 102:return replace(e,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(e,i+3)==108?"$3":"$2-$3"))+e;case 115:return~indexof(e,"stretch")?prefix(replace(e,"stretch","fill-available"),i)+e:e}break;case 4949:if(charat(e,i+1)!==115)break;case 6444:switch(charat(e,strlen(e)-3-(~indexof(e,"!important")&&10))){case 107:return replace(e,":",":"+WEBKIT)+e;case 101:return replace(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(e,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+e}break;case 5936:switch(charat(e,i+11)){case 114:return WEBKIT+e+MS+replace(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return WEBKIT+e+MS+replace(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return WEBKIT+e+MS+replace(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return WEBKIT+e+MS+e+e}return e}var prefixer=function(i,s,o,a){if(i.length>-1&&!i.return)switch(i.type){case DECLARATION:i.return=prefix(i.value,i.length);break;case KEYFRAMES:return serialize([copy(i,{value:replace(i.value,"@","@"+WEBKIT)})],a);case RULESET:if(i.length)return combine(i.props,function(c){switch(match(c,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(i,{props:[replace(c,/:(read-\w+)/,":"+MOZ+"$1")]})],a);case"::placeholder":return serialize([copy(i,{props:[replace(c,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(i,{props:[replace(c,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(i,{props:[replace(c,/:(plac\w+)/,MS+"input-$1")]})],a)}return""})}},defaultStylisPlugins=[prefixer],createCache=function(i){var s=i.key;if(s==="css"){var o=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(o,function(tt){var dt=tt.getAttribute("data-emotion");dt.indexOf(" ")!==-1&&(document.head.appendChild(tt),tt.setAttribute("data-s",""))})}var a=i.stylisPlugins||defaultStylisPlugins,c={},d,h=[];d=i.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+s+' "]'),function(tt){for(var dt=tt.getAttribute("data-emotion").split(" "),et=1;et<dt.length;et++)c[dt[et]]=!0;h.push(tt)});var g,_=[compat,removeLabel];{var b,$=[stringify,rulesheet(function(tt){b.insert(tt)})],st=middleware(_.concat(a,$)),lt=function(dt){return serialize(compile(dt),st)};g=function(dt,et,it,rt){b=it,lt(dt?dt+"{"+et.styles+"}":et.styles),rt&&(nt.inserted[et.name]=!0)}}var nt={key:s,sheet:new StyleSheet({key:s,container:d,nonce:i.nonce,speedy:i.speedy,prepend:i.prepend,insertionPoint:i.insertionPoint}),nonce:i.nonce,inserted:c,registered:{},insert:g};return nt.sheet.hydrate(h),nt},isBrowser$1=!0;function getRegisteredStyles(e,i,s){var o="";return s.split(" ").forEach(function(a){e[a]!==void 0?i.push(e[a]+";"):o+=a+" "}),o}var registerStyles=function(i,s,o){var a=i.key+"-"+s.name;(o===!1||isBrowser$1===!1)&&i.registered[a]===void 0&&(i.registered[a]=s.styles)},insertStyles=function(i,s,o){registerStyles(i,s,o);var a=i.key+"-"+s.name;if(i.inserted[s.name]===void 0){var c=s;do i.insert(s===c?"."+a:"",c,i.sheet,!0),c=c.next;while(c!==void 0)}};function murmur2(e){for(var i=0,s,o=0,a=e.length;a>=4;++o,a-=4)s=e.charCodeAt(o)&255|(e.charCodeAt(++o)&255)<<8|(e.charCodeAt(++o)&255)<<16|(e.charCodeAt(++o)&255)<<24,s=(s&65535)*1540483477+((s>>>16)*59797<<16),s^=s>>>24,i=(s&65535)*1540483477+((s>>>16)*59797<<16)^(i&65535)*1540483477+((i>>>16)*59797<<16);switch(a){case 3:i^=(e.charCodeAt(o+2)&255)<<16;case 2:i^=(e.charCodeAt(o+1)&255)<<8;case 1:i^=e.charCodeAt(o)&255,i=(i&65535)*1540483477+((i>>>16)*59797<<16)}return i^=i>>>13,i=(i&65535)*1540483477+((i>>>16)*59797<<16),((i^i>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function(i){return i.charCodeAt(1)===45},isProcessableValue=function(i){return i!=null&&typeof i!="boolean"},processStyleName=memoize$1(function(e){return isCustomProperty(e)?e:e.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function(i,s){switch(i){case"animation":case"animationName":if(typeof s=="string")return s.replace(animationRegex,function(o,a,c){return cursor={name:a,styles:c,next:cursor},a})}return unitlessKeys[i]!==1&&!isCustomProperty(i)&&typeof s=="number"&&s!==0?s+"px":s},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation(e,i,s){if(s==null)return"";if(s.__emotion_styles!==void 0)return s;switch(typeof s){case"boolean":return"";case"object":{if(s.anim===1)return cursor={name:s.name,styles:s.styles,next:cursor},s.name;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)cursor={name:o.name,styles:o.styles,next:cursor},o=o.next;var a=s.styles+";";return a}return createStringFromObject(e,i,s)}case"function":{if(e!==void 0){var c=cursor,d=s(e);return cursor=c,handleInterpolation(e,i,d)}break}}if(i==null)return s;var h=i[s];return h!==void 0?h:s}function createStringFromObject(e,i,s){var o="";if(Array.isArray(s))for(var a=0;a<s.length;a++)o+=handleInterpolation(e,i,s[a])+";";else for(var c in s){var d=s[c];if(typeof d!="object")i!=null&&i[d]!==void 0?o+=c+"{"+i[d]+"}":isProcessableValue(d)&&(o+=processStyleName(c)+":"+processStyleValue(c,d)+";");else if(Array.isArray(d)&&typeof d[0]=="string"&&(i==null||i[d[0]]===void 0))for(var h=0;h<d.length;h++)isProcessableValue(d[h])&&(o+=processStyleName(c)+":"+processStyleValue(c,d[h])+";");else{var g=handleInterpolation(e,i,d);switch(c){case"animation":case"animationName":{o+=processStyleName(c)+":"+g+";";break}default:o+=c+"{"+g+"}"}}}return o}var labelPattern=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cursor,serializeStyles=function(i,s,o){if(i.length===1&&typeof i[0]=="object"&&i[0]!==null&&i[0].styles!==void 0)return i[0];var a=!0,c="";cursor=void 0;var d=i[0];d==null||d.raw===void 0?(a=!1,c+=handleInterpolation(o,s,d)):c+=d[0];for(var h=1;h<i.length;h++)c+=handleInterpolation(o,s,i[h]),a&&(c+=d[h]);labelPattern.lastIndex=0;for(var g="",_;(_=labelPattern.exec(c))!==null;)g+="-"+_[1];var b=murmur2(c)+g;return{name:b,styles:c,next:cursor}},syncFallback=function(i){return i()},useInsertionEffect=React$1["useInsertionEffect"]?React$1["useInsertionEffect"]:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function(i){return reactExports.forwardRef(function(s,o){var a=reactExports.useContext(EmotionCacheContext);return i(s,a,o)})},ThemeContext$2=reactExports.createContext({}),testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function(i){return i!=="theme"},getDefaultShouldForwardProp=function(i){return typeof i=="string"&&i.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function(i,s,o){var a;if(s){var c=s.shouldForwardProp;a=i.__emotion_forwardProp&&c?function(d){return i.__emotion_forwardProp(d)&&c(d)}:c}return typeof a!="function"&&o&&(a=i.__emotion_forwardProp),a},Insertion=function(i){var s=i.cache,o=i.serialized,a=i.isStringTag;return registerStyles(s,o,a),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(s,o,a)}),null},createStyled$1=function e(i,s){var o=i.__emotion_real===i,a=o&&i.__emotion_base||i,c,d;s!==void 0&&(c=s.label,d=s.target);var h=composeShouldForwardProps(i,s,o),g=h||getDefaultShouldForwardProp(a),_=!g("as");return function(){var b=arguments,$=o&&i.__emotion_styles!==void 0?i.__emotion_styles.slice(0):[];if(c!==void 0&&$.push("label:"+c+";"),b[0]==null||b[0].raw===void 0)$.push.apply($,b);else{$.push(b[0][0]);for(var st=b.length,lt=1;lt<st;lt++)$.push(b[lt],b[0][lt])}var nt=withEmotionCache(function(tt,dt,et){var it=_&&tt.as||a,rt="",ut=[],_t=tt;if(tt.theme==null){_t={};for(var At in tt)_t[At]=tt[At];_t.theme=reactExports.useContext(ThemeContext$2)}typeof tt.className=="string"?rt=getRegisteredStyles(dt.registered,ut,tt.className):tt.className!=null&&(rt=tt.className+" ");var gt=serializeStyles($.concat(ut),dt.registered,_t);rt+=dt.key+"-"+gt.name,d!==void 0&&(rt+=" "+d);var j=_&&h===void 0?getDefaultShouldForwardProp(it):g,ot={};for(var pt in tt)_&&pt==="as"||j(pt)&&(ot[pt]=tt[pt]);return ot.className=rt,ot.ref=et,reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:dt,serialized:gt,isStringTag:typeof it=="string"}),reactExports.createElement(it,ot))});return nt.displayName=c!==void 0?c:"Styled("+(typeof a=="string"?a:a.displayName||a.name||"Component")+")",nt.defaultProps=i.defaultProps,nt.__emotion_real=nt,nt.__emotion_base=a,nt.__emotion_styles=$,nt.__emotion_forwardProp=h,Object.defineProperty(nt,"toString",{value:function(){return"."+d}}),nt.withComponent=function(tt,dt){return e(tt,_extends({},s,dt,{shouldForwardProp:composeShouldForwardProps(nt,dt,!0)})).apply(void 0,$)},nt}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled$1.bind();tags.forEach(function(e){newStyled[e]=newStyled(e)});/**
 * @mui/styled-engine v5.13.2
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function styled$2(e,i){return newStyled(e,i)}const internal_processStyles=(e,i)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=i(e.__emotion_styles))},_excluded$e=["values","unit","step"],sortBreakpointsValues=e=>{const i=Object.keys(e).map(s=>({key:s,val:e[s]}))||[];return i.sort((s,o)=>s.val-o.val),i.reduce((s,o)=>_extends({},s,{[o.key]:o.val}),{})};function createBreakpoints(e){const{values:i={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:s="px",step:o=5}=e,a=_objectWithoutPropertiesLoose(e,_excluded$e),c=sortBreakpointsValues(i),d=Object.keys(c);function h(st){return`@media (min-width:${typeof i[st]=="number"?i[st]:st}${s})`}function g(st){return`@media (max-width:${(typeof i[st]=="number"?i[st]:st)-o/100}${s})`}function _(st,lt){const nt=d.indexOf(lt);return`@media (min-width:${typeof i[st]=="number"?i[st]:st}${s}) and (max-width:${(nt!==-1&&typeof i[d[nt]]=="number"?i[d[nt]]:lt)-o/100}${s})`}function b(st){return d.indexOf(st)+1<d.length?_(st,d[d.indexOf(st)+1]):h(st)}function $(st){const lt=d.indexOf(st);return lt===0?h(d[1]):lt===d.length-1?g(d[lt]):_(st,d[d.indexOf(st)+1]).replace("@media","@media not all and")}return _extends({keys:d,values:c,up:h,down:g,between:_,only:b,not:$,unit:s},a)}const shape={borderRadius:4},shape$1=shape;function merge(e,i){return i?deepmerge(e,i,{clone:!1}):e}const values={xs:0,sm:600,md:900,lg:1200,xl:1536},defaultBreakpoints={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${values[e]}px)`};function handleBreakpoints(e,i,s){const o=e.theme||{};if(Array.isArray(i)){const c=o.breakpoints||defaultBreakpoints;return i.reduce((d,h,g)=>(d[c.up(c.keys[g])]=s(i[g]),d),{})}if(typeof i=="object"){const c=o.breakpoints||defaultBreakpoints;return Object.keys(i).reduce((d,h)=>{if(Object.keys(c.values||values).indexOf(h)!==-1){const g=c.up(h);d[g]=s(i[h],h)}else{const g=h;d[g]=i[g]}return d},{})}return s(i)}function createEmptyBreakpointObject(e={}){var i;return((i=e.keys)==null?void 0:i.reduce((o,a)=>{const c=e.up(a);return o[c]={},o},{}))||{}}function removeUnusedBreakpoints(e,i){return e.reduce((s,o)=>{const a=s[o];return(!a||Object.keys(a).length===0)&&delete s[o],s},i)}function getPath(e,i,s=!0){if(!i||typeof i!="string")return null;if(e&&e.vars&&s){const o=`vars.${i}`.split(".").reduce((a,c)=>a&&a[c]?a[c]:null,e);if(o!=null)return o}return i.split(".").reduce((o,a)=>o&&o[a]!=null?o[a]:null,e)}function getStyleValue(e,i,s,o=s){let a;return typeof e=="function"?a=e(s):Array.isArray(e)?a=e[s]||o:a=getPath(e,s)||o,i&&(a=i(a,o,e)),a}function style$1(e){const{prop:i,cssProperty:s=e.prop,themeKey:o,transform:a}=e,c=d=>{if(d[i]==null)return null;const h=d[i],g=d.theme,_=getPath(g,o)||{};return handleBreakpoints(d,h,$=>{let st=getStyleValue(_,a,$);return $===st&&typeof $=="string"&&(st=getStyleValue(_,a,`${i}${$==="default"?"":capitalize($)}`,$)),s===!1?st:{[s]:st}})};return c.propTypes={},c.filterProps=[i],c}function memoize(e){const i={};return s=>(i[s]===void 0&&(i[s]=e(s)),i[s])}const properties={m:"margin",p:"padding"},directions={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},aliases={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},getCssProperties=memoize(e=>{if(e.length>2)if(aliases[e])e=aliases[e];else return[e];const[i,s]=e.split(""),o=properties[i],a=directions[s]||"";return Array.isArray(a)?a.map(c=>o+c):[o+a]}),marginKeys=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],paddingKeys=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...marginKeys,...paddingKeys];function createUnaryUnit(e,i,s,o){var a;const c=(a=getPath(e,i,!1))!=null?a:s;return typeof c=="number"?d=>typeof d=="string"?d:c*d:Array.isArray(c)?d=>typeof d=="string"?d:c[d]:typeof c=="function"?c:()=>{}}function createUnarySpacing(e){return createUnaryUnit(e,"spacing",8)}function getValue(e,i){if(typeof i=="string"||i==null)return i;const s=Math.abs(i),o=e(s);return i>=0?o:typeof o=="number"?-o:`-${o}`}function getStyleFromPropValue(e,i){return s=>e.reduce((o,a)=>(o[a]=getValue(i,s),o),{})}function resolveCssProperty(e,i,s,o){if(i.indexOf(s)===-1)return null;const a=getCssProperties(s),c=getStyleFromPropValue(a,o),d=e[s];return handleBreakpoints(e,d,c)}function style(e,i){const s=createUnarySpacing(e.theme);return Object.keys(e).map(o=>resolveCssProperty(e,i,o,s)).reduce(merge,{})}function margin(e){return style(e,marginKeys)}margin.propTypes={};margin.filterProps=marginKeys;function padding(e){return style(e,paddingKeys)}padding.propTypes={};padding.filterProps=paddingKeys;function createSpacing(e=8){if(e.mui)return e;const i=createUnarySpacing({spacing:e}),s=(...o)=>(o.length===0?[1]:o).map(c=>{const d=i(c);return typeof d=="number"?`${d}px`:d}).join(" ");return s.mui=!0,s}function compose(...e){const i=e.reduce((o,a)=>(a.filterProps.forEach(c=>{o[c]=a}),o),{}),s=o=>Object.keys(o).reduce((a,c)=>i[c]?merge(a,i[c](o)):a,{});return s.propTypes={},s.filterProps=e.reduce((o,a)=>o.concat(a.filterProps),[]),s}function borderTransform(e){return typeof e!="number"?e:`${e}px solid`}const border=style$1({prop:"border",themeKey:"borders",transform:borderTransform}),borderTop=style$1({prop:"borderTop",themeKey:"borders",transform:borderTransform}),borderRight=style$1({prop:"borderRight",themeKey:"borders",transform:borderTransform}),borderBottom=style$1({prop:"borderBottom",themeKey:"borders",transform:borderTransform}),borderLeft=style$1({prop:"borderLeft",themeKey:"borders",transform:borderTransform}),borderColor=style$1({prop:"borderColor",themeKey:"palette"}),borderTopColor=style$1({prop:"borderTopColor",themeKey:"palette"}),borderRightColor=style$1({prop:"borderRightColor",themeKey:"palette"}),borderBottomColor=style$1({prop:"borderBottomColor",themeKey:"palette"}),borderLeftColor=style$1({prop:"borderLeftColor",themeKey:"palette"}),borderRadius=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const i=createUnaryUnit(e.theme,"shape.borderRadius",4),s=o=>({borderRadius:getValue(i,o)});return handleBreakpoints(e,e.borderRadius,s)}return null};borderRadius.propTypes={};borderRadius.filterProps=["borderRadius"];compose(border,borderTop,borderRight,borderBottom,borderLeft,borderColor,borderTopColor,borderRightColor,borderBottomColor,borderLeftColor,borderRadius);const gap=e=>{if(e.gap!==void 0&&e.gap!==null){const i=createUnaryUnit(e.theme,"spacing",8),s=o=>({gap:getValue(i,o)});return handleBreakpoints(e,e.gap,s)}return null};gap.propTypes={};gap.filterProps=["gap"];const columnGap=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const i=createUnaryUnit(e.theme,"spacing",8),s=o=>({columnGap:getValue(i,o)});return handleBreakpoints(e,e.columnGap,s)}return null};columnGap.propTypes={};columnGap.filterProps=["columnGap"];const rowGap=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const i=createUnaryUnit(e.theme,"spacing",8),s=o=>({rowGap:getValue(i,o)});return handleBreakpoints(e,e.rowGap,s)}return null};rowGap.propTypes={};rowGap.filterProps=["rowGap"];const gridColumn=style$1({prop:"gridColumn"}),gridRow=style$1({prop:"gridRow"}),gridAutoFlow=style$1({prop:"gridAutoFlow"}),gridAutoColumns=style$1({prop:"gridAutoColumns"}),gridAutoRows=style$1({prop:"gridAutoRows"}),gridTemplateColumns=style$1({prop:"gridTemplateColumns"}),gridTemplateRows=style$1({prop:"gridTemplateRows"}),gridTemplateAreas=style$1({prop:"gridTemplateAreas"}),gridArea=style$1({prop:"gridArea"});compose(gap,columnGap,rowGap,gridColumn,gridRow,gridAutoFlow,gridAutoColumns,gridAutoRows,gridTemplateColumns,gridTemplateRows,gridTemplateAreas,gridArea);function paletteTransform(e,i){return i==="grey"?i:e}const color=style$1({prop:"color",themeKey:"palette",transform:paletteTransform}),bgcolor=style$1({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:paletteTransform}),backgroundColor=style$1({prop:"backgroundColor",themeKey:"palette",transform:paletteTransform});compose(color,bgcolor,backgroundColor);function sizingTransform(e){return e<=1&&e!==0?`${e*100}%`:e}const width=style$1({prop:"width",transform:sizingTransform}),maxWidth=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const i=s=>{var o,a,c;return{maxWidth:((o=e.theme)==null||(a=o.breakpoints)==null||(c=a.values)==null?void 0:c[s])||values[s]||sizingTransform(s)}};return handleBreakpoints(e,e.maxWidth,i)}return null};maxWidth.filterProps=["maxWidth"];const minWidth=style$1({prop:"minWidth",transform:sizingTransform}),height=style$1({prop:"height",transform:sizingTransform}),maxHeight=style$1({prop:"maxHeight",transform:sizingTransform}),minHeight=style$1({prop:"minHeight",transform:sizingTransform});style$1({prop:"size",cssProperty:"width",transform:sizingTransform});style$1({prop:"size",cssProperty:"height",transform:sizingTransform});const boxSizing=style$1({prop:"boxSizing"});compose(width,maxWidth,minWidth,height,maxHeight,minHeight,boxSizing);const defaultSxConfig={border:{themeKey:"borders",transform:borderTransform},borderTop:{themeKey:"borders",transform:borderTransform},borderRight:{themeKey:"borders",transform:borderTransform},borderBottom:{themeKey:"borders",transform:borderTransform},borderLeft:{themeKey:"borders",transform:borderTransform},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:borderRadius},color:{themeKey:"palette",transform:paletteTransform},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:paletteTransform},backgroundColor:{themeKey:"palette",transform:paletteTransform},p:{style:padding},pt:{style:padding},pr:{style:padding},pb:{style:padding},pl:{style:padding},px:{style:padding},py:{style:padding},padding:{style:padding},paddingTop:{style:padding},paddingRight:{style:padding},paddingBottom:{style:padding},paddingLeft:{style:padding},paddingX:{style:padding},paddingY:{style:padding},paddingInline:{style:padding},paddingInlineStart:{style:padding},paddingInlineEnd:{style:padding},paddingBlock:{style:padding},paddingBlockStart:{style:padding},paddingBlockEnd:{style:padding},m:{style:margin},mt:{style:margin},mr:{style:margin},mb:{style:margin},ml:{style:margin},mx:{style:margin},my:{style:margin},margin:{style:margin},marginTop:{style:margin},marginRight:{style:margin},marginBottom:{style:margin},marginLeft:{style:margin},marginX:{style:margin},marginY:{style:margin},marginInline:{style:margin},marginInlineStart:{style:margin},marginInlineEnd:{style:margin},marginBlock:{style:margin},marginBlockStart:{style:margin},marginBlockEnd:{style:margin},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:gap},rowGap:{style:rowGap},columnGap:{style:columnGap},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:sizingTransform},maxWidth:{style:maxWidth},minWidth:{transform:sizingTransform},height:{transform:sizingTransform},maxHeight:{transform:sizingTransform},minHeight:{transform:sizingTransform},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},defaultSxConfig$1=defaultSxConfig;function objectsHaveSameKeys(...e){const i=e.reduce((o,a)=>o.concat(Object.keys(a)),[]),s=new Set(i);return e.every(o=>s.size===Object.keys(o).length)}function callIfFn(e,i){return typeof e=="function"?e(i):e}function unstable_createStyleFunctionSx(){function e(s,o,a,c){const d={[s]:o,theme:a},h=c[s];if(!h)return{[s]:o};const{cssProperty:g=s,themeKey:_,transform:b,style:$}=h;if(o==null)return null;if(_==="typography"&&o==="inherit")return{[s]:o};const st=getPath(a,_)||{};return $?$(d):handleBreakpoints(d,o,nt=>{let tt=getStyleValue(st,b,nt);return nt===tt&&typeof nt=="string"&&(tt=getStyleValue(st,b,`${s}${nt==="default"?"":capitalize(nt)}`,nt)),g===!1?tt:{[g]:tt}})}function i(s){var o;const{sx:a,theme:c={}}=s||{};if(!a)return null;const d=(o=c.unstable_sxConfig)!=null?o:defaultSxConfig$1;function h(g){let _=g;if(typeof g=="function")_=g(c);else if(typeof g!="object")return g;if(!_)return null;const b=createEmptyBreakpointObject(c.breakpoints),$=Object.keys(b);let st=b;return Object.keys(_).forEach(lt=>{const nt=callIfFn(_[lt],c);if(nt!=null)if(typeof nt=="object")if(d[lt])st=merge(st,e(lt,nt,c,d));else{const tt=handleBreakpoints({theme:c},nt,dt=>({[lt]:dt}));objectsHaveSameKeys(tt,nt)?st[lt]=i({sx:nt,theme:c}):st=merge(st,tt)}else st=merge(st,e(lt,nt,c,d))}),removeUnusedBreakpoints($,st)}return Array.isArray(a)?a.map(h):h(a)}return i}const styleFunctionSx=unstable_createStyleFunctionSx();styleFunctionSx.filterProps=["sx"];const styleFunctionSx$1=styleFunctionSx,_excluded$d=["breakpoints","palette","spacing","shape"];function createTheme$1(e={},...i){const{breakpoints:s={},palette:o={},spacing:a,shape:c={}}=e,d=_objectWithoutPropertiesLoose(e,_excluded$d),h=createBreakpoints(s),g=createSpacing(a);let _=deepmerge({breakpoints:h,direction:"ltr",components:{},palette:_extends({mode:"light"},o),spacing:g,shape:_extends({},shape$1,c)},d);return _=i.reduce((b,$)=>deepmerge(b,$),_),_.unstable_sxConfig=_extends({},defaultSxConfig$1,d==null?void 0:d.unstable_sxConfig),_.unstable_sx=function($){return styleFunctionSx$1({sx:$,theme:this})},_}function isObjectEmpty(e){return Object.keys(e).length===0}function useTheme$2(e=null){const i=reactExports.useContext(ThemeContext$2);return!i||isObjectEmpty(i)?e:i}const systemDefaultTheme$1=createTheme$1();function useTheme$1(e=systemDefaultTheme$1){return useTheme$2(e)}const _excluded$c=["sx"],splitProps=e=>{var i,s;const o={systemProps:{},otherProps:{}},a=(i=e==null||(s=e.theme)==null?void 0:s.unstable_sxConfig)!=null?i:defaultSxConfig$1;return Object.keys(e).forEach(c=>{a[c]?o.systemProps[c]=e[c]:o.otherProps[c]=e[c]}),o};function extendSxProp(e){const{sx:i}=e,s=_objectWithoutPropertiesLoose(e,_excluded$c),{systemProps:o,otherProps:a}=splitProps(s);let c;return Array.isArray(i)?c=[o,...i]:typeof i=="function"?c=(...d)=>{const h=i(...d);return isPlainObject(h)?_extends({},o,h):o}:c=_extends({},o,i),_extends({},a,{sx:c})}function r(e){var i,s,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e))for(i=0;i<e.length;i++)e[i]&&(s=r(e[i]))&&(o&&(o+=" "),o+=s);else for(i in e)e[i]&&(o&&(o+=" "),o+=i);return o}function clsx(){for(var e,i,s=0,o="";s<arguments.length;)(e=arguments[s++])&&(i=r(e))&&(o&&(o+=" "),o+=i);return o}const _excluded$b=["variant"];function isEmpty$1(e){return e.length===0}function propsToClassKey(e){const{variant:i}=e,s=_objectWithoutPropertiesLoose(e,_excluded$b);let o=i||"";return Object.keys(s).sort().forEach(a=>{a==="color"?o+=isEmpty$1(o)?e[a]:capitalize(e[a]):o+=`${isEmpty$1(o)?a:capitalize(a)}${capitalize(e[a].toString())}`}),o}const _excluded$a=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function isEmpty(e){return Object.keys(e).length===0}function isStringTag(e){return typeof e=="string"&&e.charCodeAt(0)>96}const getStyleOverrides=(e,i)=>i.components&&i.components[e]&&i.components[e].styleOverrides?i.components[e].styleOverrides:null,getVariantStyles=(e,i)=>{let s=[];i&&i.components&&i.components[e]&&i.components[e].variants&&(s=i.components[e].variants);const o={};return s.forEach(a=>{const c=propsToClassKey(a.props);o[c]=a.style}),o},variantsResolver=(e,i,s,o)=>{var a,c;const{ownerState:d={}}=e,h=[],g=s==null||(a=s.components)==null||(c=a[o])==null?void 0:c.variants;return g&&g.forEach(_=>{let b=!0;Object.keys(_.props).forEach($=>{d[$]!==_.props[$]&&e[$]!==_.props[$]&&(b=!1)}),b&&h.push(i[propsToClassKey(_.props)])}),h};function shouldForwardProp(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const systemDefaultTheme=createTheme$1();function resolveTheme({defaultTheme:e,theme:i,themeId:s}){return isEmpty(i)?e:i[s]||i}function createStyled(e={}){const{themeId:i,defaultTheme:s=systemDefaultTheme,rootShouldForwardProp:o=shouldForwardProp,slotShouldForwardProp:a=shouldForwardProp}=e,c=d=>styleFunctionSx$1(_extends({},d,{theme:resolveTheme(_extends({},d,{defaultTheme:s,themeId:i}))}));return c.__mui_systemSx=!0,(d,h={})=>{internal_processStyles(d,ut=>ut.filter(_t=>!(_t!=null&&_t.__mui_systemSx)));const{name:g,slot:_,skipVariantsResolver:b,skipSx:$,overridesResolver:st}=h,lt=_objectWithoutPropertiesLoose(h,_excluded$a),nt=b!==void 0?b:_&&_!=="Root"||!1,tt=$||!1;let dt,et=shouldForwardProp;_==="Root"?et=o:_?et=a:isStringTag(d)&&(et=void 0);const it=styled$2(d,_extends({shouldForwardProp:et,label:dt},lt)),rt=(ut,..._t)=>{const At=_t?_t.map(pt=>typeof pt=="function"&&pt.__emotion_real!==pt?at=>pt(_extends({},at,{theme:resolveTheme(_extends({},at,{defaultTheme:s,themeId:i}))})):pt):[];let gt=ut;g&&st&&At.push(pt=>{const at=resolveTheme(_extends({},pt,{defaultTheme:s,themeId:i})),vt=getStyleOverrides(g,at);if(vt){const kt={};return Object.entries(vt).forEach(([bt,Mt])=>{kt[bt]=typeof Mt=="function"?Mt(_extends({},pt,{theme:at})):Mt}),st(pt,kt)}return null}),g&&!nt&&At.push(pt=>{const at=resolveTheme(_extends({},pt,{defaultTheme:s,themeId:i}));return variantsResolver(pt,getVariantStyles(g,at),at,g)}),tt||At.push(c);const j=At.length-_t.length;if(Array.isArray(ut)&&j>0){const pt=new Array(j).fill("");gt=[...ut,...pt],gt.raw=[...ut.raw,...pt]}else typeof ut=="function"&&ut.__emotion_real!==ut&&(gt=pt=>ut(_extends({},pt,{theme:resolveTheme(_extends({},pt,{defaultTheme:s,themeId:i}))})));const ot=it(gt,...At);return d.muiName&&(ot.muiName=d.muiName),ot};return it.withConfig&&(rt.withConfig=it.withConfig),rt}}function getThemeProps(e){const{theme:i,name:s,props:o}=e;return!i||!i.components||!i.components[s]||!i.components[s].defaultProps?o:resolveProps(i.components[s].defaultProps,o)}function useThemeProps$1({props:e,name:i,defaultTheme:s,themeId:o}){let a=useTheme$1(s);return o&&(a=a[o]||a),getThemeProps({theme:a,name:i,props:e})}function clamp(e,i=0,s=1){return Math.min(Math.max(i,e),s)}function hexToRgb(e){e=e.slice(1);const i=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let s=e.match(i);return s&&s[0].length===1&&(s=s.map(o=>o+o)),s?`rgb${s.length===4?"a":""}(${s.map((o,a)=>a<3?parseInt(o,16):Math.round(parseInt(o,16)/255*1e3)/1e3).join(", ")})`:""}function decomposeColor(e){if(e.type)return e;if(e.charAt(0)==="#")return decomposeColor(hexToRgb(e));const i=e.indexOf("("),s=e.substring(0,i);if(["rgb","rgba","hsl","hsla","color"].indexOf(s)===-1)throw new Error(formatMuiErrorMessage(9,e));let o=e.substring(i+1,e.length-1),a;if(s==="color"){if(o=o.split(" "),a=o.shift(),o.length===4&&o[3].charAt(0)==="/"&&(o[3]=o[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(a)===-1)throw new Error(formatMuiErrorMessage(10,a))}else o=o.split(",");return o=o.map(c=>parseFloat(c)),{type:s,values:o,colorSpace:a}}function recomposeColor(e){const{type:i,colorSpace:s}=e;let{values:o}=e;return i.indexOf("rgb")!==-1?o=o.map((a,c)=>c<3?parseInt(a,10):a):i.indexOf("hsl")!==-1&&(o[1]=`${o[1]}%`,o[2]=`${o[2]}%`),i.indexOf("color")!==-1?o=`${s} ${o.join(" ")}`:o=`${o.join(", ")}`,`${i}(${o})`}function hslToRgb(e){e=decomposeColor(e);const{values:i}=e,s=i[0],o=i[1]/100,a=i[2]/100,c=o*Math.min(a,1-a),d=(_,b=(_+s/30)%12)=>a-c*Math.max(Math.min(b-3,9-b,1),-1);let h="rgb";const g=[Math.round(d(0)*255),Math.round(d(8)*255),Math.round(d(4)*255)];return e.type==="hsla"&&(h+="a",g.push(i[3])),recomposeColor({type:h,values:g})}function getLuminance(e){e=decomposeColor(e);let i=e.type==="hsl"||e.type==="hsla"?decomposeColor(hslToRgb(e)).values:e.values;return i=i.map(s=>(e.type!=="color"&&(s/=255),s<=.03928?s/12.92:((s+.055)/1.055)**2.4)),Number((.2126*i[0]+.7152*i[1]+.0722*i[2]).toFixed(3))}function getContrastRatio(e,i){const s=getLuminance(e),o=getLuminance(i);return(Math.max(s,o)+.05)/(Math.min(s,o)+.05)}function alpha(e,i){return e=decomposeColor(e),i=clamp(i),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${i}`:e.values[3]=i,recomposeColor(e)}function darken(e,i){if(e=decomposeColor(e),i=clamp(i),e.type.indexOf("hsl")!==-1)e.values[2]*=1-i;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let s=0;s<3;s+=1)e.values[s]*=1-i;return recomposeColor(e)}function lighten(e,i){if(e=decomposeColor(e),i=clamp(i),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*i;else if(e.type.indexOf("rgb")!==-1)for(let s=0;s<3;s+=1)e.values[s]+=(255-e.values[s])*i;else if(e.type.indexOf("color")!==-1)for(let s=0;s<3;s+=1)e.values[s]+=(1-e.values[s])*i;return recomposeColor(e)}const ThemeContext=reactExports.createContext(null),ThemeContext$1=ThemeContext;function useTheme(){return reactExports.useContext(ThemeContext$1)}const hasSymbol=typeof Symbol=="function"&&Symbol.for,nested=hasSymbol?Symbol.for("mui.nested"):"__THEME_NESTED__";function mergeOuterLocalTheme(e,i){return typeof i=="function"?i(e):{...e,...i}}function ThemeProvider$2(e){const{children:i,theme:s}=e,o=useTheme(),a=reactExports.useMemo(()=>{const c=o===null?s:mergeOuterLocalTheme(o,s);return c!=null&&(c[nested]=o!==null),c},[s,o]);return jsxRuntimeExports.jsx(ThemeContext$1.Provider,{value:a,children:i})}const EMPTY_THEME={};function useThemeScoping(e,i,s,o=!1){return reactExports.useMemo(()=>{const a=e&&i[e]||i;if(typeof s=="function"){const c=s(a),d=e?_extends({},i,{[e]:c}):c;return o?()=>d:d}return e?_extends({},i,{[e]:s}):_extends({},i,s)},[e,i,s,o])}function ThemeProvider$1(e){const{children:i,theme:s,themeId:o}=e,a=useTheme$2(EMPTY_THEME),c=useTheme()||EMPTY_THEME,d=useThemeScoping(o,a,s),h=useThemeScoping(o,c,s,!0);return jsxRuntimeExports.jsx(ThemeProvider$2,{theme:h,children:jsxRuntimeExports.jsx(ThemeContext$2.Provider,{value:d,children:i})})}function createMixins(e,i){return _extends({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},i)}const common={black:"#000",white:"#fff"},common$1=common,grey={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},grey$1=grey,purple={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},purple$1=purple,red={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},red$1=red,orange={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},orange$1=orange,blue={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},blue$1=blue,lightBlue={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},lightBlue$1=lightBlue,green={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},green$1=green,_excluded$9=["mode","contrastThreshold","tonalOffset"],light={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:common$1.white,default:common$1.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},dark={text:{primary:common$1.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:common$1.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function addLightOrDark(e,i,s,o){const a=o.light||o,c=o.dark||o*1.5;e[i]||(e.hasOwnProperty(s)?e[i]=e[s]:i==="light"?e.light=lighten(e.main,a):i==="dark"&&(e.dark=darken(e.main,c)))}function getDefaultPrimary(e="light"){return e==="dark"?{main:blue$1[200],light:blue$1[50],dark:blue$1[400]}:{main:blue$1[700],light:blue$1[400],dark:blue$1[800]}}function getDefaultSecondary(e="light"){return e==="dark"?{main:purple$1[200],light:purple$1[50],dark:purple$1[400]}:{main:purple$1[500],light:purple$1[300],dark:purple$1[700]}}function getDefaultError(e="light"){return e==="dark"?{main:red$1[500],light:red$1[300],dark:red$1[700]}:{main:red$1[700],light:red$1[400],dark:red$1[800]}}function getDefaultInfo(e="light"){return e==="dark"?{main:lightBlue$1[400],light:lightBlue$1[300],dark:lightBlue$1[700]}:{main:lightBlue$1[700],light:lightBlue$1[500],dark:lightBlue$1[900]}}function getDefaultSuccess(e="light"){return e==="dark"?{main:green$1[400],light:green$1[300],dark:green$1[700]}:{main:green$1[800],light:green$1[500],dark:green$1[900]}}function getDefaultWarning(e="light"){return e==="dark"?{main:orange$1[400],light:orange$1[300],dark:orange$1[700]}:{main:"#ed6c02",light:orange$1[500],dark:orange$1[900]}}function createPalette(e){const{mode:i="light",contrastThreshold:s=3,tonalOffset:o=.2}=e,a=_objectWithoutPropertiesLoose(e,_excluded$9),c=e.primary||getDefaultPrimary(i),d=e.secondary||getDefaultSecondary(i),h=e.error||getDefaultError(i),g=e.info||getDefaultInfo(i),_=e.success||getDefaultSuccess(i),b=e.warning||getDefaultWarning(i);function $(tt){return getContrastRatio(tt,dark.text.primary)>=s?dark.text.primary:light.text.primary}const st=({color:tt,name:dt,mainShade:et=500,lightShade:it=300,darkShade:rt=700})=>{if(tt=_extends({},tt),!tt.main&&tt[et]&&(tt.main=tt[et]),!tt.hasOwnProperty("main"))throw new Error(formatMuiErrorMessage(11,dt?` (${dt})`:"",et));if(typeof tt.main!="string")throw new Error(formatMuiErrorMessage(12,dt?` (${dt})`:"",JSON.stringify(tt.main)));return addLightOrDark(tt,"light",it,o),addLightOrDark(tt,"dark",rt,o),tt.contrastText||(tt.contrastText=$(tt.main)),tt},lt={dark,light};return deepmerge(_extends({common:_extends({},common$1),mode:i,primary:st({color:c,name:"primary"}),secondary:st({color:d,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:st({color:h,name:"error"}),warning:st({color:b,name:"warning"}),info:st({color:g,name:"info"}),success:st({color:_,name:"success"}),grey:grey$1,contrastThreshold:s,getContrastText:$,augmentColor:st,tonalOffset:o},lt[i]),a)}const _excluded$8=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function round(e){return Math.round(e*1e5)/1e5}const caseAllCaps={textTransform:"uppercase"},defaultFontFamily='"Roboto", "Helvetica", "Arial", sans-serif';function createTypography(e,i){const s=typeof i=="function"?i(e):i,{fontFamily:o=defaultFontFamily,fontSize:a=14,fontWeightLight:c=300,fontWeightRegular:d=400,fontWeightMedium:h=500,fontWeightBold:g=700,htmlFontSize:_=16,allVariants:b,pxToRem:$}=s,st=_objectWithoutPropertiesLoose(s,_excluded$8),lt=a/14,nt=$||(et=>`${et/_*lt}rem`),tt=(et,it,rt,ut,_t)=>_extends({fontFamily:o,fontWeight:et,fontSize:nt(it),lineHeight:rt},o===defaultFontFamily?{letterSpacing:`${round(ut/it)}em`}:{},_t,b),dt={h1:tt(c,96,1.167,-1.5),h2:tt(c,60,1.2,-.5),h3:tt(d,48,1.167,0),h4:tt(d,34,1.235,.25),h5:tt(d,24,1.334,0),h6:tt(h,20,1.6,.15),subtitle1:tt(d,16,1.75,.15),subtitle2:tt(h,14,1.57,.1),body1:tt(d,16,1.5,.15),body2:tt(d,14,1.43,.15),button:tt(h,14,1.75,.4,caseAllCaps),caption:tt(d,12,1.66,.4),overline:tt(d,12,2.66,1,caseAllCaps),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return deepmerge(_extends({htmlFontSize:_,pxToRem:nt,fontFamily:o,fontSize:a,fontWeightLight:c,fontWeightRegular:d,fontWeightMedium:h,fontWeightBold:g},dt),st,{clone:!1})}const shadowKeyUmbraOpacity=.2,shadowKeyPenumbraOpacity=.14,shadowAmbientShadowOpacity=.12;function createShadow(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${shadowKeyUmbraOpacity})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${shadowKeyPenumbraOpacity})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${shadowAmbientShadowOpacity})`].join(",")}const shadows=["none",createShadow(0,2,1,-1,0,1,1,0,0,1,3,0),createShadow(0,3,1,-2,0,2,2,0,0,1,5,0),createShadow(0,3,3,-2,0,3,4,0,0,1,8,0),createShadow(0,2,4,-1,0,4,5,0,0,1,10,0),createShadow(0,3,5,-1,0,5,8,0,0,1,14,0),createShadow(0,3,5,-1,0,6,10,0,0,1,18,0),createShadow(0,4,5,-2,0,7,10,1,0,2,16,1),createShadow(0,5,5,-3,0,8,10,1,0,3,14,2),createShadow(0,5,6,-3,0,9,12,1,0,3,16,2),createShadow(0,6,6,-3,0,10,14,1,0,4,18,3),createShadow(0,6,7,-4,0,11,15,1,0,4,20,3),createShadow(0,7,8,-4,0,12,17,2,0,5,22,4),createShadow(0,7,8,-4,0,13,19,2,0,5,24,4),createShadow(0,7,9,-4,0,14,21,2,0,5,26,4),createShadow(0,8,9,-5,0,15,22,2,0,6,28,5),createShadow(0,8,10,-5,0,16,24,2,0,6,30,5),createShadow(0,8,11,-5,0,17,26,2,0,6,32,5),createShadow(0,9,11,-5,0,18,28,2,0,7,34,6),createShadow(0,9,12,-6,0,19,29,2,0,7,36,6),createShadow(0,10,13,-6,0,20,31,3,0,8,38,7),createShadow(0,10,13,-6,0,21,33,3,0,8,40,7),createShadow(0,10,14,-6,0,22,35,3,0,8,42,7),createShadow(0,11,14,-7,0,23,36,3,0,9,44,8),createShadow(0,11,15,-7,0,24,38,3,0,9,46,8)],shadows$1=shadows,_excluded$7=["duration","easing","delay"],easing={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},duration={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function formatMs(e){return`${Math.round(e)}ms`}function getAutoHeightDuration(e){if(!e)return 0;const i=e/36;return Math.round((4+15*i**.25+i/5)*10)}function createTransitions(e){const i=_extends({},easing,e.easing),s=_extends({},duration,e.duration);return _extends({getAutoHeightDuration,create:(a=["all"],c={})=>{const{duration:d=s.standard,easing:h=i.easeInOut,delay:g=0}=c;return _objectWithoutPropertiesLoose(c,_excluded$7),(Array.isArray(a)?a:[a]).map(_=>`${_} ${typeof d=="string"?d:formatMs(d)} ${h} ${typeof g=="string"?g:formatMs(g)}`).join(",")}},e,{easing:i,duration:s})}const zIndex={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},zIndex$1=zIndex,_excluded$6=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function createTheme(e={},...i){const{mixins:s={},palette:o={},transitions:a={},typography:c={}}=e,d=_objectWithoutPropertiesLoose(e,_excluded$6);if(e.vars)throw new Error(formatMuiErrorMessage(18));const h=createPalette(o),g=createTheme$1(e);let _=deepmerge(g,{mixins:createMixins(g.breakpoints,s),palette:h,shadows:shadows$1.slice(),typography:createTypography(h,c),transitions:createTransitions(a),zIndex:_extends({},zIndex$1)});return _=deepmerge(_,d),_=i.reduce((b,$)=>deepmerge(b,$),_),_.unstable_sxConfig=_extends({},defaultSxConfig$1,d==null?void 0:d.unstable_sxConfig),_.unstable_sx=function($){return styleFunctionSx$1({sx:$,theme:this})},_}const defaultTheme=createTheme(),defaultTheme$1=defaultTheme;function useThemeProps({props:e,name:i}){return useThemeProps$1({props:e,name:i,defaultTheme:defaultTheme$1,themeId:THEME_ID})}const rootShouldForwardProp=e=>shouldForwardProp(e)&&e!=="classes",styled=createStyled({themeId:THEME_ID,defaultTheme:defaultTheme$1,rootShouldForwardProp}),styled$1=styled,_excluded$5=["theme"];function ThemeProvider(e){let{theme:i}=e,s=_objectWithoutPropertiesLoose(e,_excluded$5);const o=i[THEME_ID];return jsxRuntimeExports.jsx(ThemeProvider$1,_extends({},s,{themeId:o?THEME_ID:void 0,theme:o||i}))}const getOverlayAlpha=e=>{let i;return e<1?i=5.11916*e**2:i=4.5*Math.log(e+1)+2,(i/100).toFixed(2)},getOverlayAlpha$1=getOverlayAlpha,App$1="",scriptRel="modulepreload",assetsURL=function(e){return"/"+e},seen={},__vitePreload=function(i,s,o){if(!s||s.length===0)return i();const a=document.getElementsByTagName("link");return Promise.all(s.map(c=>{if(c=assetsURL(c),c in seen)return;seen[c]=!0;const d=c.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(!!o)for(let b=a.length-1;b>=0;b--){const $=a[b];if($.href===c&&(!d||$.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${h}`))return;const _=document.createElement("link");if(_.rel=d?"stylesheet":scriptRel,d||(_.as="script",_.crossOrigin=""),_.href=c,document.head.appendChild(_),d)return new Promise((b,$)=>{_.addEventListener("load",b),_.addEventListener("error",()=>$(new Error(`Unable to preload CSS for ${c}`)))})})).then(()=>i())};var __awaiter$d=globalThis&&globalThis.__awaiter||function(e,i,s,o){function a(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function h(b){try{_(o.next(b))}catch($){d($)}}function g(b){try{_(o.throw(b))}catch($){d($)}}function _(b){b.done?c(b.value):a(b.value).then(h,g)}_((o=o.apply(e,i||[])).next())})};const resolveFetch$3=e=>{let i;return e?i=e:typeof fetch>"u"?i=(...s)=>__awaiter$d(void 0,void 0,void 0,function*(){return yield(yield __vitePreload(()=>Promise.resolve().then(()=>browserPonyfill),void 0)).fetch(...s)}):i=fetch,(...s)=>i(...s)};class FunctionsError extends Error{constructor(i,s="FunctionsError",o){super(i),this.name=s,this.context=o}}class FunctionsFetchError extends FunctionsError{constructor(i){super("Failed to send a request to the Edge Function","FunctionsFetchError",i)}}class FunctionsRelayError extends FunctionsError{constructor(i){super("Relay Error invoking the Edge Function","FunctionsRelayError",i)}}class FunctionsHttpError extends FunctionsError{constructor(i){super("Edge Function returned a non-2xx status code","FunctionsHttpError",i)}}var __awaiter$c=globalThis&&globalThis.__awaiter||function(e,i,s,o){function a(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function h(b){try{_(o.next(b))}catch($){d($)}}function g(b){try{_(o.throw(b))}catch($){d($)}}function _(b){b.done?c(b.value):a(b.value).then(h,g)}_((o=o.apply(e,i||[])).next())})};class FunctionsClient{constructor(i,{headers:s={},customFetch:o}={}){this.url=i,this.headers=s,this.fetch=resolveFetch$3(o)}setAuth(i){this.headers.Authorization=`Bearer ${i}`}invoke(i,s={}){var o;return __awaiter$c(this,void 0,void 0,function*(){try{const{headers:a,method:c,body:d}=s;let h={},g;d&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",g=d):typeof d=="string"?(h["Content-Type"]="text/plain",g=d):typeof FormData<"u"&&d instanceof FormData?g=d:(h["Content-Type"]="application/json",g=JSON.stringify(d)));const _=yield this.fetch(`${this.url}/${i}`,{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:g}).catch(lt=>{throw new FunctionsFetchError(lt)}),b=_.headers.get("x-relay-error");if(b&&b==="true")throw new FunctionsRelayError(_);if(!_.ok)throw new FunctionsHttpError(_);let $=((o=_.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),st;return $==="application/json"?st=yield _.json():$==="application/octet-stream"?st=yield _.blob():$==="multipart/form-data"?st=yield _.formData():st=yield _.text(),{data:st,error:null}}catch(a){return{data:null,error:a}}})}}var browserPonyfill$1={exports:{}};(function(e,i){var s=typeof self<"u"?self:commonjsGlobal,o=function(){function c(){this.fetch=!1,this.DOMException=s.DOMException}return c.prototype=s,new c}();(function(c){(function(d){var h={searchParams:"URLSearchParams"in c,iterable:"Symbol"in c&&"iterator"in Symbol,blob:"FileReader"in c&&"Blob"in c&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in c,arrayBuffer:"ArrayBuffer"in c};function g(bt){return bt&&DataView.prototype.isPrototypeOf(bt)}if(h.arrayBuffer)var _=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=ArrayBuffer.isView||function(bt){return bt&&_.indexOf(Object.prototype.toString.call(bt))>-1};function $(bt){if(typeof bt!="string"&&(bt=String(bt)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(bt))throw new TypeError("Invalid character in header field name");return bt.toLowerCase()}function st(bt){return typeof bt!="string"&&(bt=String(bt)),bt}function lt(bt){var Mt={next:function(){var Wt=bt.shift();return{done:Wt===void 0,value:Wt}}};return h.iterable&&(Mt[Symbol.iterator]=function(){return Mt}),Mt}function nt(bt){this.map={},bt instanceof nt?bt.forEach(function(Mt,Wt){this.append(Wt,Mt)},this):Array.isArray(bt)?bt.forEach(function(Mt){this.append(Mt[0],Mt[1])},this):bt&&Object.getOwnPropertyNames(bt).forEach(function(Mt){this.append(Mt,bt[Mt])},this)}nt.prototype.append=function(bt,Mt){bt=$(bt),Mt=st(Mt);var Wt=this.map[bt];this.map[bt]=Wt?Wt+", "+Mt:Mt},nt.prototype.delete=function(bt){delete this.map[$(bt)]},nt.prototype.get=function(bt){return bt=$(bt),this.has(bt)?this.map[bt]:null},nt.prototype.has=function(bt){return this.map.hasOwnProperty($(bt))},nt.prototype.set=function(bt,Mt){this.map[$(bt)]=st(Mt)},nt.prototype.forEach=function(bt,Mt){for(var Wt in this.map)this.map.hasOwnProperty(Wt)&&bt.call(Mt,this.map[Wt],Wt,this)},nt.prototype.keys=function(){var bt=[];return this.forEach(function(Mt,Wt){bt.push(Wt)}),lt(bt)},nt.prototype.values=function(){var bt=[];return this.forEach(function(Mt){bt.push(Mt)}),lt(bt)},nt.prototype.entries=function(){var bt=[];return this.forEach(function(Mt,Wt){bt.push([Wt,Mt])}),lt(bt)},h.iterable&&(nt.prototype[Symbol.iterator]=nt.prototype.entries);function tt(bt){if(bt.bodyUsed)return Promise.reject(new TypeError("Already read"));bt.bodyUsed=!0}function dt(bt){return new Promise(function(Mt,Wt){bt.onload=function(){Mt(bt.result)},bt.onerror=function(){Wt(bt.error)}})}function et(bt){var Mt=new FileReader,Wt=dt(Mt);return Mt.readAsArrayBuffer(bt),Wt}function it(bt){var Mt=new FileReader,Wt=dt(Mt);return Mt.readAsText(bt),Wt}function rt(bt){for(var Mt=new Uint8Array(bt),Wt=new Array(Mt.length),Yt=0;Yt<Mt.length;Yt++)Wt[Yt]=String.fromCharCode(Mt[Yt]);return Wt.join("")}function ut(bt){if(bt.slice)return bt.slice(0);var Mt=new Uint8Array(bt.byteLength);return Mt.set(new Uint8Array(bt)),Mt.buffer}function _t(){return this.bodyUsed=!1,this._initBody=function(bt){this._bodyInit=bt,bt?typeof bt=="string"?this._bodyText=bt:h.blob&&Blob.prototype.isPrototypeOf(bt)?this._bodyBlob=bt:h.formData&&FormData.prototype.isPrototypeOf(bt)?this._bodyFormData=bt:h.searchParams&&URLSearchParams.prototype.isPrototypeOf(bt)?this._bodyText=bt.toString():h.arrayBuffer&&h.blob&&g(bt)?(this._bodyArrayBuffer=ut(bt.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):h.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(bt)||b(bt))?this._bodyArrayBuffer=ut(bt):this._bodyText=bt=Object.prototype.toString.call(bt):this._bodyText="",this.headers.get("content-type")||(typeof bt=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):h.searchParams&&URLSearchParams.prototype.isPrototypeOf(bt)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},h.blob&&(this.blob=function(){var bt=tt(this);if(bt)return bt;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?tt(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(et)}),this.text=function(){var bt=tt(this);if(bt)return bt;if(this._bodyBlob)return it(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(rt(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},h.formData&&(this.formData=function(){return this.text().then(ot)}),this.json=function(){return this.text().then(JSON.parse)},this}var At=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function gt(bt){var Mt=bt.toUpperCase();return At.indexOf(Mt)>-1?Mt:bt}function j(bt,Mt){Mt=Mt||{};var Wt=Mt.body;if(bt instanceof j){if(bt.bodyUsed)throw new TypeError("Already read");this.url=bt.url,this.credentials=bt.credentials,Mt.headers||(this.headers=new nt(bt.headers)),this.method=bt.method,this.mode=bt.mode,this.signal=bt.signal,!Wt&&bt._bodyInit!=null&&(Wt=bt._bodyInit,bt.bodyUsed=!0)}else this.url=String(bt);if(this.credentials=Mt.credentials||this.credentials||"same-origin",(Mt.headers||!this.headers)&&(this.headers=new nt(Mt.headers)),this.method=gt(Mt.method||this.method||"GET"),this.mode=Mt.mode||this.mode||null,this.signal=Mt.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Wt)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Wt)}j.prototype.clone=function(){return new j(this,{body:this._bodyInit})};function ot(bt){var Mt=new FormData;return bt.trim().split("&").forEach(function(Wt){if(Wt){var Yt=Wt.split("="),Lt=Yt.shift().replace(/\+/g," "),jt=Yt.join("=").replace(/\+/g," ");Mt.append(decodeURIComponent(Lt),decodeURIComponent(jt))}}),Mt}function pt(bt){var Mt=new nt,Wt=bt.replace(/\r?\n[\t ]+/g," ");return Wt.split(/\r?\n/).forEach(function(Yt){var Lt=Yt.split(":"),jt=Lt.shift().trim();if(jt){var Xt=Lt.join(":").trim();Mt.append(jt,Xt)}}),Mt}_t.call(j.prototype);function at(bt,Mt){Mt||(Mt={}),this.type="default",this.status=Mt.status===void 0?200:Mt.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in Mt?Mt.statusText:"OK",this.headers=new nt(Mt.headers),this.url=Mt.url||"",this._initBody(bt)}_t.call(at.prototype),at.prototype.clone=function(){return new at(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new nt(this.headers),url:this.url})},at.error=function(){var bt=new at(null,{status:0,statusText:""});return bt.type="error",bt};var vt=[301,302,303,307,308];at.redirect=function(bt,Mt){if(vt.indexOf(Mt)===-1)throw new RangeError("Invalid status code");return new at(null,{status:Mt,headers:{location:bt}})},d.DOMException=c.DOMException;try{new d.DOMException}catch{d.DOMException=function(Mt,Wt){this.message=Mt,this.name=Wt;var Yt=Error(Mt);this.stack=Yt.stack},d.DOMException.prototype=Object.create(Error.prototype),d.DOMException.prototype.constructor=d.DOMException}function kt(bt,Mt){return new Promise(function(Wt,Yt){var Lt=new j(bt,Mt);if(Lt.signal&&Lt.signal.aborted)return Yt(new d.DOMException("Aborted","AbortError"));var jt=new XMLHttpRequest;function Xt(){jt.abort()}jt.onload=function(){var Kt={status:jt.status,statusText:jt.statusText,headers:pt(jt.getAllResponseHeaders()||"")};Kt.url="responseURL"in jt?jt.responseURL:Kt.headers.get("X-Request-URL");var tn="response"in jt?jt.response:jt.responseText;Wt(new at(tn,Kt))},jt.onerror=function(){Yt(new TypeError("Network request failed"))},jt.ontimeout=function(){Yt(new TypeError("Network request failed"))},jt.onabort=function(){Yt(new d.DOMException("Aborted","AbortError"))},jt.open(Lt.method,Lt.url,!0),Lt.credentials==="include"?jt.withCredentials=!0:Lt.credentials==="omit"&&(jt.withCredentials=!1),"responseType"in jt&&h.blob&&(jt.responseType="blob"),Lt.headers.forEach(function(Kt,tn){jt.setRequestHeader(tn,Kt)}),Lt.signal&&(Lt.signal.addEventListener("abort",Xt),jt.onreadystatechange=function(){jt.readyState===4&&Lt.signal.removeEventListener("abort",Xt)}),jt.send(typeof Lt._bodyInit>"u"?null:Lt._bodyInit)})}return kt.polyfill=!0,c.fetch||(c.fetch=kt,c.Headers=nt,c.Request=j,c.Response=at),d.Headers=nt,d.Request=j,d.Response=at,d.fetch=kt,Object.defineProperty(d,"__esModule",{value:!0}),d})({})})(o),o.fetch.ponyfill=!0,delete o.fetch.polyfill;var a=o;i=a.fetch,i.default=a.fetch,i.fetch=a.fetch,i.Headers=a.Headers,i.Request=a.Request,i.Response=a.Response,e.exports=i})(browserPonyfill$1,browserPonyfill$1.exports);var browserPonyfillExports=browserPonyfill$1.exports;const crossFetch=getDefaultExportFromCjs(browserPonyfillExports),browserPonyfill=_mergeNamespaces({__proto__:null,default:crossFetch},[browserPonyfillExports]);class PostgrestBuilder{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=crossFetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const o=this.fetch;let a=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var d,h,g;let _=null,b=null,$=null,st=c.status,lt=c.statusText;if(c.ok){if(this.method!=="HEAD"){const et=await c.text();et===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?b=et:b=JSON.parse(et))}const tt=(d=this.headers.Prefer)===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),dt=(h=c.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");tt&&dt&&dt.length>1&&($=parseInt(dt[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(_={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,$=null,st=406,lt="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const tt=await c.text();try{_=JSON.parse(tt),Array.isArray(_)&&c.status===404&&(b=[],_=null,st=200,lt="OK")}catch{c.status===404&&tt===""?(st=204,lt="No Content"):_={message:tt}}if(_&&this.isMaybeSingle&&(!((g=_==null?void 0:_.details)===null||g===void 0)&&g.includes("Results contain 0 rows"))&&(_=null,st=200,lt="OK"),_&&this.shouldThrowOnError)throw _}return{error:_,data:b,count:$,status:st,statusText:lt}});return this.shouldThrowOnError||(a=a.catch(c=>{var d,h,g;return{error:{message:`${(d=c==null?void 0:c.name)!==null&&d!==void 0?d:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(h=c==null?void 0:c.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(g=c==null?void 0:c.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),a.then(i,s)}}class PostgrestTransformBuilder extends PostgrestBuilder{select(i){let s=!1;const o=(i??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:s=!0,nullsFirst:o,foreignTable:a}={}){const c=a?`${a}.order`:"order",d=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${d?`${d},`:""}${i}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s}={}){const o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${i}`),this}range(i,s,{foreignTable:o}={}){const a=typeof o>"u"?"offset":`${o}.offset`,c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${i}`),this.url.searchParams.set(c,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:s=!1,settings:o=!1,buffers:a=!1,wal:c=!1,format:d="text"}={}){const h=[i?"analyze":null,s?"verbose":null,o?"settings":null,a?"buffers":null,c?"wal":null].filter(Boolean).join("|"),g=this.headers.Accept;return this.headers.Accept=`application/vnd.pgrst.plan+${d}; for="${g}"; options=${h};`,d==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class PostgrestFilterBuilder extends PostgrestTransformBuilder{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const o=s.map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:o,type:a}={}){let c="";a==="plain"?c="pl":a==="phrase"?c="ph":a==="websearch"&&(c="w");const d=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${c}fts${d}.${s}`),this}match(i){return Object.entries(i).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(i,s,o){return this.url.searchParams.append(i,`not.${s}.${o}`),this}or(i,{foreignTable:s}={}){const o=s?`${s}.or`:"or";return this.url.searchParams.append(o,`(${i})`),this}filter(i,s,o){return this.url.searchParams.append(i,`${s}.${o}`),this}}class PostgrestQueryBuilder{constructor(i,{headers:s={},schema:o,fetch:a}){this.url=i,this.headers=s,this.schema=o,this.fetch=a}select(i,{head:s=!1,count:o}={}){const a=s?"HEAD":"GET";let c=!1;const d=(i??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",d),o&&(this.headers.Prefer=`count=${o}`),new PostgrestFilterBuilder({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:s,defaultToNull:o=!0}={}){const a="POST",c=[];if(this.headers.Prefer&&c.push(this.headers.Prefer),s&&c.push(`count=${s}`),o||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(i)){const d=i.reduce((h,g)=>h.concat(Object.keys(g)),[]);if(d.length>0){const h=[...new Set(d)].map(g=>`"${g}"`);this.url.searchParams.set("columns",h.join(","))}}return new PostgrestFilterBuilder({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:s,ignoreDuplicates:o=!1,count:a,defaultToNull:c=!0}={}){const d="POST",h=[`resolution=${o?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&h.push(this.headers.Prefer),a&&h.push(`count=${a}`),c||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(i)){const g=i.reduce((_,b)=>_.concat(Object.keys(b)),[]);if(g.length>0){const _=[...new Set(g)].map(b=>`"${b}"`);this.url.searchParams.set("columns",_.join(","))}}return new PostgrestFilterBuilder({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:s}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),this.headers.Prefer=a.join(","),new PostgrestFilterBuilder({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const s="DELETE",o=[];return i&&o.push(`count=${i}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new PostgrestFilterBuilder({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const version$6="1.7.1",DEFAULT_HEADERS$4={"X-Client-Info":`postgrest-js/${version$6}`};class PostgrestClient{constructor(i,{headers:s={},schema:o,fetch:a}={}){this.url=i,this.headers=Object.assign(Object.assign({},DEFAULT_HEADERS$4),s),this.schema=o,this.fetch=a}from(i){const s=new URL(`${this.url}/${i}`);return new PostgrestQueryBuilder(s,{headers:Object.assign({},this.headers),schema:this.schema,fetch:this.fetch})}rpc(i,s={},{head:o=!1,count:a}={}){let c;const d=new URL(`${this.url}/rpc/${i}`);let h;o?(c="HEAD",Object.entries(s).forEach(([_,b])=>{d.searchParams.append(_,`${b}`)})):(c="POST",h=s);const g=Object.assign({},this.headers);return a&&(g.Prefer=`count=${a}`),new PostgrestFilterBuilder({method:c,url:d,headers:g,schema:this.schema,body:h,fetch:this.fetch,allowEmpty:!1})}}var global$1,hasRequiredGlobal;function requireGlobal(){if(hasRequiredGlobal)return global$1;hasRequiredGlobal=1;var e=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return global$1=function(){if(this)return this;if(typeof globalThis=="object"&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return e()}try{return __global__||e()}finally{delete Object.prototype.__global__}}(),global$1}const name="websocket",description="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",keywords=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],author="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",contributors=["Iaki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],version$5="1.0.34",repository={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},homepage="https://github.com/theturtle32/WebSocket-Node",engines={node:">=4.0.0"},dependencies={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},devDependencies={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},config={verbose:!1},scripts={test:"tape test/unit/*.js",gulp:"gulp"},main="index",directories={lib:"./lib"},browser$1="lib/browser.js",license="Apache-2.0",require$$0$1={name,description,keywords,author,contributors,version:version$5,repository,homepage,engines,dependencies,devDependencies,config,scripts,main,directories,browser:browser$1,license};var version$4=require$$0$1.version,_globalThis;if(typeof globalThis=="object")_globalThis=globalThis;else try{_globalThis=requireGlobal()}catch{}finally{if(!_globalThis&&typeof window<"u"&&(_globalThis=window),!_globalThis)throw new Error("Could not determine global this")}var NativeWebSocket=_globalThis.WebSocket||_globalThis.MozWebSocket,websocket_version=version$4;function W3CWebSocket(e,i){var s;return i?s=new NativeWebSocket(e,i):s=new NativeWebSocket(e),s}NativeWebSocket&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(e){Object.defineProperty(W3CWebSocket,e,{get:function(){return NativeWebSocket[e]}})});var browser={w3cwebsocket:NativeWebSocket?W3CWebSocket:null,version:websocket_version};const version$3="2.7.3",DEFAULT_HEADERS$3={"X-Client-Info":`realtime-js/${version$3}`},VSN="1.0.0",DEFAULT_TIMEOUT=1e4,WS_CLOSE_NORMAL=1e3;var SOCKET_STATES;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(SOCKET_STATES||(SOCKET_STATES={}));var CHANNEL_STATES;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(CHANNEL_STATES||(CHANNEL_STATES={}));var CHANNEL_EVENTS;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(CHANNEL_EVENTS||(CHANNEL_EVENTS={}));var TRANSPORTS;(function(e){e.websocket="websocket"})(TRANSPORTS||(TRANSPORTS={}));var CONNECTION_STATE;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(CONNECTION_STATE||(CONNECTION_STATE={}));class Timer{constructor(i,s){this.callback=i,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=i,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class Serializer{constructor(){this.HEADER_LENGTH=1}decode(i,s){return i.constructor===ArrayBuffer?s(this._binaryDecode(i)):s(typeof i=="string"?JSON.parse(i):{})}_binaryDecode(i){const s=new DataView(i),o=new TextDecoder;return this._decodeBroadcast(i,s,o)}_decodeBroadcast(i,s,o){const a=s.getUint8(1),c=s.getUint8(2);let d=this.HEADER_LENGTH+2;const h=o.decode(i.slice(d,d+a));d=d+a;const g=o.decode(i.slice(d,d+c));d=d+c;const _=JSON.parse(o.decode(i.slice(d,i.byteLength)));return{ref:null,topic:h,event:g,payload:_}}}class Push{constructor(i,s,o={},a=DEFAULT_TIMEOUT){this.channel=i,this.event=s,this.payload=o,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null,this.rateLimited=!1}resend(i){this.timeout=i,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){if(this._hasReceived("timeout"))return;this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()})==="rate limited"&&(this.rateLimited=!0)}updatePayload(i){this.payload=Object.assign(Object.assign({},this.payload),i)}receive(i,s){var o;return this._hasReceived(i)&&s((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:i,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const i=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},i),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(i,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:i,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:i,response:s}){this.recHooks.filter(o=>o.status===i).forEach(o=>o.callback(s))}_hasReceived(i){return this.receivedResp&&this.receivedResp.status===i}}var REALTIME_PRESENCE_LISTEN_EVENTS;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(REALTIME_PRESENCE_LISTEN_EVENTS||(REALTIME_PRESENCE_LISTEN_EVENTS={}));class RealtimePresence{constructor(i,s){this.channel=i,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},a=>{const{onJoin:c,onLeave:d,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=RealtimePresence.syncState(this.state,a,c,d),this.pendingDiffs.forEach(g=>{this.state=RealtimePresence.syncDiff(this.state,g,c,d)}),this.pendingDiffs=[],h()}),this.channel._on(o.diff,{},a=>{const{onJoin:c,onLeave:d,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=RealtimePresence.syncDiff(this.state,a,c,d),h())}),this.onJoin((a,c,d)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:c,newPresences:d})}),this.onLeave((a,c,d)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:c,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(i,s,o,a){const c=this.cloneDeep(i),d=this.transformState(s),h={},g={};return this.map(c,(_,b)=>{d[_]||(g[_]=b)}),this.map(d,(_,b)=>{const $=c[_];if($){const st=b.map(dt=>dt.presence_ref),lt=$.map(dt=>dt.presence_ref),nt=b.filter(dt=>lt.indexOf(dt.presence_ref)<0),tt=$.filter(dt=>st.indexOf(dt.presence_ref)<0);nt.length>0&&(h[_]=nt),tt.length>0&&(g[_]=tt)}else h[_]=b}),this.syncDiff(c,{joins:h,leaves:g},o,a)}static syncDiff(i,s,o,a){const{joins:c,leaves:d}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return o||(o=()=>{}),a||(a=()=>{}),this.map(c,(h,g)=>{var _;const b=(_=i[h])!==null&&_!==void 0?_:[];if(i[h]=this.cloneDeep(g),b.length>0){const $=i[h].map(lt=>lt.presence_ref),st=b.filter(lt=>$.indexOf(lt.presence_ref)<0);i[h].unshift(...st)}o(h,b,g)}),this.map(d,(h,g)=>{let _=i[h];if(!_)return;const b=g.map($=>$.presence_ref);_=_.filter($=>b.indexOf($.presence_ref)<0),i[h]=_,a(h,_,g),_.length===0&&delete i[h]}),i}static map(i,s){return Object.getOwnPropertyNames(i).map(o=>s(o,i[o]))}static transformState(i){return i=this.cloneDeep(i),Object.getOwnPropertyNames(i).reduce((s,o)=>{const a=i[o];return"metas"in a?s[o]=a.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):s[o]=a,s},{})}static cloneDeep(i){return JSON.parse(JSON.stringify(i))}onJoin(i){this.caller.onJoin=i}onLeave(i){this.caller.onLeave=i}onSync(i){this.caller.onSync=i}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var PostgresTypes;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(PostgresTypes||(PostgresTypes={}));const convertChangeData=(e,i,s={})=>{var o;const a=(o=s.skipTypes)!==null&&o!==void 0?o:[];return Object.keys(i).reduce((c,d)=>(c[d]=convertColumn(d,e,i,a),c),{})},convertColumn=(e,i,s,o)=>{const a=i.find(h=>h.name===e),c=a==null?void 0:a.type,d=s[e];return c&&!o.includes(c)?convertCell(c,d):noop$1(d)},convertCell=(e,i)=>{if(e.charAt(0)==="_"){const s=e.slice(1,e.length);return toArray(i,s)}switch(e){case PostgresTypes.bool:return toBoolean(i);case PostgresTypes.float4:case PostgresTypes.float8:case PostgresTypes.int2:case PostgresTypes.int4:case PostgresTypes.int8:case PostgresTypes.numeric:case PostgresTypes.oid:return toNumber(i);case PostgresTypes.json:case PostgresTypes.jsonb:return toJson(i);case PostgresTypes.timestamp:return toTimestampString(i);case PostgresTypes.abstime:case PostgresTypes.date:case PostgresTypes.daterange:case PostgresTypes.int4range:case PostgresTypes.int8range:case PostgresTypes.money:case PostgresTypes.reltime:case PostgresTypes.text:case PostgresTypes.time:case PostgresTypes.timestamptz:case PostgresTypes.timetz:case PostgresTypes.tsrange:case PostgresTypes.tstzrange:return noop$1(i);default:return noop$1(i)}},noop$1=e=>e,toBoolean=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},toNumber=e=>{if(typeof e=="string"){const i=parseFloat(e);if(!Number.isNaN(i))return i}return e},toJson=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(i){return console.log(`JSON parse error: ${i}`),e}return e},toArray=(e,i)=>{if(typeof e!="string")return e;const s=e.length-1,o=e[s];if(e[0]==="{"&&o==="}"){let c;const d=e.slice(1,s);try{c=JSON.parse("["+d+"]")}catch{c=d?d.split(","):[]}return c.map(h=>convertCell(i,h))}return e},toTimestampString=e=>typeof e=="string"?e.replace(" ","T"):e;var __awaiter$b=globalThis&&globalThis.__awaiter||function(e,i,s,o){function a(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function h(b){try{_(o.next(b))}catch($){d($)}}function g(b){try{_(o.throw(b))}catch($){d($)}}function _(b){b.done?c(b.value):a(b.value).then(h,g)}_((o=o.apply(e,i||[])).next())})},REALTIME_POSTGRES_CHANGES_LISTEN_EVENT;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT||(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT={}));var REALTIME_LISTEN_TYPES;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes"})(REALTIME_LISTEN_TYPES||(REALTIME_LISTEN_TYPES={}));var REALTIME_SUBSCRIBE_STATES;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(REALTIME_SUBSCRIBE_STATES||(REALTIME_SUBSCRIBE_STATES={}));class RealtimeChannel{constructor(i,s={config:{}},o){this.topic=i,this.params=s,this.socket=o,this.bindings={},this.state=CHANNEL_STATES.closed,this.joinedOnce=!1,this.pushBuffer=[],this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},s.config),this.timeout=this.socket.timeout,this.joinPush=new Push(this,CHANNEL_EVENTS.join,this.params,this.timeout),this.rejoinTimer=new Timer(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=CHANNEL_STATES.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=CHANNEL_STATES.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this._on(CHANNEL_EVENTS.reply,{},(a,c)=>{this._trigger(this._replyEventName(c),a)}),this.presence=new RealtimePresence(this)}subscribe(i,s=this.timeout){var o,a;if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:c,presence:d}}=this.params;this._onError(_=>i&&i("CHANNEL_ERROR",_)),this._onClose(()=>i&&i("CLOSED"));const h={},g={broadcast:c,presence:d,postgres_changes:(a=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(_=>_.filter))!==null&&a!==void 0?a:[]};this.socket.accessToken&&(h.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:g},h)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",({postgres_changes:_})=>{var b;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),_===void 0){i&&i("SUBSCRIBED");return}else{const $=this.bindings.postgres_changes,st=(b=$==null?void 0:$.length)!==null&&b!==void 0?b:0,lt=[];for(let nt=0;nt<st;nt++){const tt=$[nt],{filter:{event:dt,schema:et,table:it,filter:rt}}=tt,ut=_&&_[nt];if(ut&&ut.event===dt&&ut.schema===et&&ut.table===it&&ut.filter===rt)lt.push(Object.assign(Object.assign({},tt),{id:ut.id}));else{this.unsubscribe(),i&&i("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=lt,i&&i("SUBSCRIBED");return}}).receive("error",_=>{i&&i("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{i&&i("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(i,s={}){return __awaiter$b(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"track",payload:i},s.timeout||this.timeout)})}untrack(i={}){return __awaiter$b(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"untrack"},i)})}on(i,s,o){return this._on(i,s,o)}send(i,s={}){return new Promise(o=>{var a,c,d;const h=this._push(i.type,i,s.timeout||this.timeout);h.rateLimited&&o("rate limited"),i.type==="broadcast"&&!(!((d=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),h.receive("ok",()=>o("ok")),h.receive("timeout",()=>o("timed out"))})}updateJoinPayload(i){this.joinPush.updatePayload(i)}unsubscribe(i=this.timeout){this.state=CHANNEL_STATES.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(CHANNEL_EVENTS.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(o=>{const a=new Push(this,CHANNEL_EVENTS.leave,{},i);a.receive("ok",()=>{s(),o("ok")}).receive("timeout",()=>{s(),o("timed out")}).receive("error",()=>{o("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}_push(i,s,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${i}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Push(this,i,s,o);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(i,s,o){return s}_isMember(i){return this.topic===i}_joinRef(){return this.joinPush.ref}_trigger(i,s,o){var a,c;const d=i.toLocaleLowerCase(),{close:h,error:g,leave:_,join:b}=CHANNEL_EVENTS;if(o&&[h,g,_,b].indexOf(d)>=0&&o!==this._joinRef())return;let st=this._onMessage(d,s,o);if(s&&!st)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(lt=>{var nt,tt,dt;return((nt=lt.filter)===null||nt===void 0?void 0:nt.event)==="*"||((dt=(tt=lt.filter)===null||tt===void 0?void 0:tt.event)===null||dt===void 0?void 0:dt.toLocaleLowerCase())===d}).map(lt=>lt.callback(st,o)):(c=this.bindings[d])===null||c===void 0||c.filter(lt=>{var nt,tt,dt,et,it,rt;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in lt){const ut=lt.id,_t=(nt=lt.filter)===null||nt===void 0?void 0:nt.event;return ut&&((tt=s.ids)===null||tt===void 0?void 0:tt.includes(ut))&&(_t==="*"||(_t==null?void 0:_t.toLocaleLowerCase())===((dt=s.data)===null||dt===void 0?void 0:dt.type.toLocaleLowerCase()))}else{const ut=(it=(et=lt==null?void 0:lt.filter)===null||et===void 0?void 0:et.event)===null||it===void 0?void 0:it.toLocaleLowerCase();return ut==="*"||ut===((rt=s==null?void 0:s.event)===null||rt===void 0?void 0:rt.toLocaleLowerCase())}else return lt.type.toLocaleLowerCase()===d}).map(lt=>{if(typeof st=="object"&&"ids"in st){const nt=st.data,{schema:tt,table:dt,commit_timestamp:et,type:it,errors:rt}=nt;st=Object.assign(Object.assign({},{schema:tt,table:dt,commit_timestamp:et,eventType:it,new:{},old:{},errors:rt}),this._getPayloadRecords(nt))}lt.callback(st,o)})}_isClosed(){return this.state===CHANNEL_STATES.closed}_isJoined(){return this.state===CHANNEL_STATES.joined}_isJoining(){return this.state===CHANNEL_STATES.joining}_isLeaving(){return this.state===CHANNEL_STATES.leaving}_replyEventName(i){return`chan_reply_${i}`}_on(i,s,o){const a=i.toLocaleLowerCase(),c={type:a,filter:s,callback:o};return this.bindings[a]?this.bindings[a].push(c):this.bindings[a]=[c],this}_off(i,s){const o=i.toLocaleLowerCase();return this.bindings[o]=this.bindings[o].filter(a=>{var c;return!(((c=a.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===o&&RealtimeChannel.isEqual(a.filter,s))}),this}static isEqual(i,s){if(Object.keys(i).length!==Object.keys(s).length)return!1;for(const o in i)if(i[o]!==s[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(i){this._on(CHANNEL_EVENTS.close,{},i)}_onError(i){this._on(CHANNEL_EVENTS.error,{},s=>i(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(i=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=CHANNEL_STATES.joining,this.joinPush.resend(i))}_getPayloadRecords(i){const s={new:{},old:{}};return(i.type==="INSERT"||i.type==="UPDATE")&&(s.new=convertChangeData(i.columns,i.record)),(i.type==="UPDATE"||i.type==="DELETE")&&(s.old=convertChangeData(i.columns,i.old_record)),s}}var __awaiter$a=globalThis&&globalThis.__awaiter||function(e,i,s,o){function a(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function h(b){try{_(o.next(b))}catch($){d($)}}function g(b){try{_(o.throw(b))}catch($){d($)}}function _(b){b.done?c(b.value):a(b.value).then(h,g)}_((o=o.apply(e,i||[])).next())})};const noop=()=>{};class RealtimeClient{constructor(i,s){var o;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=DEFAULT_HEADERS$3,this.params={},this.timeout=DEFAULT_TIMEOUT,this.transport=browser.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=noop,this.conn=null,this.sendBuffer=[],this.serializer=new Serializer,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.eventsPerSecondLimitMs=100,this.inThrottle=!1,this.endPoint=`${i}/${TRANSPORTS.websocket}`,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.transport&&(this.transport=s.transport),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const a=(o=s==null?void 0:s.params)===null||o===void 0?void 0:o.eventsPerSecond;a&&(this.eventsPerSecondLimitMs=Math.floor(1e3/a)),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:c=>[1e3,2e3,5e3,1e4][c-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(c,d)=>d(JSON.stringify(c)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Timer(()=>__awaiter$a(this,void 0,void 0,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs)}connect(){this.conn||(this.conn=new this.transport(this._endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=i=>this._onConnError(i),this.conn.onmessage=i=>this._onConnMessage(i),this.conn.onclose=i=>this._onConnClose(i)))}disconnect(i,s){this.conn&&(this.conn.onclose=function(){},i?this.conn.close(i,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(i){return __awaiter$a(this,void 0,void 0,function*(){const s=yield i.unsubscribe();return this.channels.length===0&&this.disconnect(),s})}removeAllChannels(){return __awaiter$a(this,void 0,void 0,function*(){const i=yield Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),i})}log(i,s,o){this.logger(i,s,o)}connectionState(){switch(this.conn&&this.conn.readyState){case SOCKET_STATES.connecting:return CONNECTION_STATE.Connecting;case SOCKET_STATES.open:return CONNECTION_STATE.Open;case SOCKET_STATES.closing:return CONNECTION_STATE.Closing;default:return CONNECTION_STATE.Closed}}isConnected(){return this.connectionState()===CONNECTION_STATE.Open}channel(i,s={config:{}}){this.isConnected()||this.connect();const o=new RealtimeChannel(`realtime:${i}`,s,this);return this.channels.push(o),o}push(i){const{topic:s,event:o,payload:a,ref:c}=i;let d=()=>{this.encode(i,h=>{var g;(g=this.conn)===null||g===void 0||g.send(h)})};if(this.log("push",`${s} ${o} (${c})`,a),this.isConnected())if(["broadcast","presence","postgres_changes"].includes(o)){if(this._throttle(d)())return"rate limited"}else d();else this.sendBuffer.push(d)}setAuth(i){this.accessToken=i,this.channels.forEach(s=>{i&&s.updateJoinPayload({access_token:i}),s.joinedOnce&&s._isJoined()&&s._push(CHANNEL_EVENTS.access_token,{access_token:i})})}_makeRef(){let i=this.ref+1;return i===this.ref?this.ref=0:this.ref=i,this.ref.toString()}_leaveOpenTopic(i){let s=this.channels.find(o=>o.topic===i&&(o._isJoined()||o._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${i}"`),s.unsubscribe())}_remove(i){this.channels=this.channels.filter(s=>s._joinRef()!==i._joinRef())}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:VSN}))}_onConnMessage(i){this.decode(i.data,s=>{let{topic:o,event:a,payload:c,ref:d}=s;(d&&d===this.pendingHeartbeatRef||a===(c==null?void 0:c.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${c.status||""} ${o} ${a} ${d&&"("+d+")"||""}`,c),this.channels.filter(h=>h._isMember(o)).forEach(h=>h._trigger(a,c,d)),this.stateChangeCallbacks.message.forEach(h=>h(s))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(i=>i())}_onConnClose(i){this.log("transport","close",i),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(i))}_onConnError(i){this.log("transport",i.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(i))}_triggerChanError(){this.channels.forEach(i=>i._trigger(CHANNEL_EVENTS.error))}_appendParams(i,s){if(Object.keys(s).length===0)return i;const o=i.match(/\?/)?"&":"?",a=new URLSearchParams(s);return`${i}${o}${a}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(i=>i()),this.sendBuffer=[])}_sendHeartbeat(){var i;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(i=this.conn)===null||i===void 0||i.close(WS_CLOSE_NORMAL,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_throttle(i,s=this.eventsPerSecondLimitMs){return()=>this.inThrottle?!0:(i(),s>0&&(this.inThrottle=!0,setTimeout(()=>{this.inThrottle=!1},s)),!1)}}class StorageError extends Error{constructor(i){super(i),this.__isStorageError=!0,this.name="StorageError"}}function isStorageError(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class StorageApiError extends StorageError{constructor(i,s){super(i),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class StorageUnknownError extends StorageError{constructor(i,s){super(i),this.name="StorageUnknownError",this.originalError=s}}var __awaiter$9=globalThis&&globalThis.__awaiter||function(e,i,s,o){function a(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function h(b){try{_(o.next(b))}catch($){d($)}}function g(b){try{_(o.throw(b))}catch($){d($)}}function _(b){b.done?c(b.value):a(b.value).then(h,g)}_((o=o.apply(e,i||[])).next())})};const resolveFetch$2=e=>{let i;return e?i=e:typeof fetch>"u"?i=(...s)=>__awaiter$9(void 0,void 0,void 0,function*(){return yield(yield __vitePreload(()=>Promise.resolve().then(()=>browserPonyfill),void 0)).fetch(...s)}):i=fetch,(...s)=>i(...s)},resolveResponse=()=>__awaiter$9(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield __vitePreload(()=>Promise.resolve().then(()=>browserPonyfill),void 0)).Response:Response});var __awaiter$8=globalThis&&globalThis.__awaiter||function(e,i,s,o){function a(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function h(b){try{_(o.next(b))}catch($){d($)}}function g(b){try{_(o.throw(b))}catch($){d($)}}function _(b){b.done?c(b.value):a(b.value).then(h,g)}_((o=o.apply(e,i||[])).next())})};const _getErrorMessage$1=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),handleError$1=(e,i)=>__awaiter$8(void 0,void 0,void 0,function*(){const s=yield resolveResponse();e instanceof s?e.json().then(o=>{i(new StorageApiError(_getErrorMessage$1(o),e.status||500))}).catch(o=>{i(new StorageUnknownError(_getErrorMessage$1(o),o))}):i(new StorageUnknownError(_getErrorMessage$1(e),e))}),_getRequestParams$1=(e,i,s,o)=>{const a={method:e,headers:(i==null?void 0:i.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},i==null?void 0:i.headers),a.body=JSON.stringify(o),Object.assign(Object.assign({},a),s))};function _handleRequest$1(e,i,s,o,a,c){return __awaiter$8(this,void 0,void 0,function*(){return new Promise((d,h)=>{e(s,_getRequestParams$1(i,o,a,c)).then(g=>{if(!g.ok)throw g;return o!=null&&o.noResolveJson?g:g.json()}).then(g=>d(g)).catch(g=>handleError$1(g,h))})})}function get(e,i,s,o){return __awaiter$8(this,void 0,void 0,function*(){return _handleRequest$1(e,"GET",i,s,o)})}function post(e,i,s,o,a){return __awaiter$8(this,void 0,void 0,function*(){return _handleRequest$1(e,"POST",i,o,a,s)})}function put(e,i,s,o,a){return __awaiter$8(this,void 0,void 0,function*(){return _handleRequest$1(e,"PUT",i,o,a,s)})}function remove(e,i,s,o,a){return __awaiter$8(this,void 0,void 0,function*(){return _handleRequest$1(e,"DELETE",i,o,a,s)})}var __awaiter$7=globalThis&&globalThis.__awaiter||function(e,i,s,o){function a(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function h(b){try{_(o.next(b))}catch($){d($)}}function g(b){try{_(o.throw(b))}catch($){d($)}}function _(b){b.done?c(b.value):a(b.value).then(h,g)}_((o=o.apply(e,i||[])).next())})};const DEFAULT_SEARCH_OPTIONS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},DEFAULT_FILE_OPTIONS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class StorageFileApi{constructor(i,s={},o,a){this.url=i,this.headers=s,this.bucketId=o,this.fetch=resolveFetch$2(a)}uploadOrUpdate(i,s,o,a){return __awaiter$7(this,void 0,void 0,function*(){try{let c;const d=Object.assign(Object.assign({},DEFAULT_FILE_OPTIONS),a),h=Object.assign(Object.assign({},this.headers),i==="POST"&&{"x-upsert":String(d.upsert)});typeof Blob<"u"&&o instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",o)):typeof FormData<"u"&&o instanceof FormData?(c=o,c.append("cacheControl",d.cacheControl)):(c=o,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const g=this._removeEmptyFolders(s),_=this._getFinalPath(g),b=yield this.fetch(`${this.url}/object/${_}`,Object.assign({method:i,body:c,headers:h},d!=null&&d.duplex?{duplex:d.duplex}:{}));return b.ok?{data:{path:g},error:null}:{data:null,error:yield b.json()}}catch(c){if(isStorageError(c))return{data:null,error:c};throw c}})}upload(i,s,o){return __awaiter$7(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",i,s,o)})}uploadToSignedUrl(i,s,o,a){return __awaiter$7(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(i),d=this._getFinalPath(c),h=new URL(this.url+`/object/upload/sign/${d}`);h.searchParams.set("token",s);try{let g;const _=Object.assign({upsert:DEFAULT_FILE_OPTIONS.upsert},a),b=Object.assign(Object.assign({},this.headers),{"x-upsert":String(_.upsert)});typeof Blob<"u"&&o instanceof Blob?(g=new FormData,g.append("cacheControl",_.cacheControl),g.append("",o)):typeof FormData<"u"&&o instanceof FormData?(g=o,g.append("cacheControl",_.cacheControl)):(g=o,b["cache-control"]=`max-age=${_.cacheControl}`,b["content-type"]=_.contentType);const $=yield this.fetch(h.toString(),{method:"PUT",body:g,headers:b});return $.ok?{data:{path:c},error:null}:{data:null,error:yield $.json()}}catch(g){if(isStorageError(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(i){return __awaiter$7(this,void 0,void 0,function*(){try{let s=this._getFinalPath(i);const o=yield post(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:this.headers}),a=new URL(this.url+o.url),c=a.searchParams.get("token");if(!c)throw new StorageError("No token returned by API");return{data:{signedUrl:a.toString(),path:i,token:c},error:null}}catch(s){if(isStorageError(s))return{data:null,error:s};throw s}})}update(i,s,o){return __awaiter$7(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",i,s,o)})}move(i,s){return __awaiter$7(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:i,destinationKey:s},{headers:this.headers}),error:null}}catch(o){if(isStorageError(o))return{data:null,error:o};throw o}})}copy(i,s){return __awaiter$7(this,void 0,void 0,function*(){try{return{data:{path:(yield post(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:i,destinationKey:s},{headers:this.headers})).Key},error:null}}catch(o){if(isStorageError(o))return{data:null,error:o};throw o}})}createSignedUrl(i,s,o){return __awaiter$7(this,void 0,void 0,function*(){try{let a=this._getFinalPath(i),c=yield post(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:s},o!=null&&o.transform?{transform:o.transform}:{}),{headers:this.headers});const d=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${d}`)},{data:c,error:null}}catch(a){if(isStorageError(a))return{data:null,error:a};throw a}})}createSignedUrls(i,s,o){return __awaiter$7(this,void 0,void 0,function*(){try{const a=yield post(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:i},{headers:this.headers}),c=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return{data:a.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${c}`):null})),error:null}}catch(a){if(isStorageError(a))return{data:null,error:a};throw a}})}download(i,s){return __awaiter$7(this,void 0,void 0,function*(){const a=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),d=c?`?${c}`:"";try{const h=this._getFinalPath(i);return{data:yield(yield get(this.fetch,`${this.url}/${a}/${h}${d}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(isStorageError(h))return{data:null,error:h};throw h}})}getPublicUrl(i,s){const o=this._getFinalPath(i),a=[],c=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";c!==""&&a.push(c);const h=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});g!==""&&a.push(g);let _=a.join("&");return _!==""&&(_=`?${_}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${o}${_}`)}}}remove(i){return __awaiter$7(this,void 0,void 0,function*(){try{return{data:yield remove(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:i},{headers:this.headers}),error:null}}catch(s){if(isStorageError(s))return{data:null,error:s};throw s}})}list(i,s,o){return __awaiter$7(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},DEFAULT_SEARCH_OPTIONS),s),{prefix:i||""});return{data:yield post(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},o),error:null}}catch(a){if(isStorageError(a))return{data:null,error:a};throw a}})}_getFinalPath(i){return`${this.bucketId}/${i}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const s=[];return i.width&&s.push(`width=${i.width}`),i.height&&s.push(`height=${i.height}`),i.resize&&s.push(`resize=${i.resize}`),i.format&&s.push(`format=${i.format}`),i.quality&&s.push(`quality=${i.quality}`),s.join("&")}}const version$2="2.5.1",DEFAULT_HEADERS$2={"X-Client-Info":`storage-js/${version$2}`};var __awaiter$6=globalThis&&globalThis.__awaiter||function(e,i,s,o){function a(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function h(b){try{_(o.next(b))}catch($){d($)}}function g(b){try{_(o.throw(b))}catch($){d($)}}function _(b){b.done?c(b.value):a(b.value).then(h,g)}_((o=o.apply(e,i||[])).next())})};class StorageBucketApi{constructor(i,s={},o){this.url=i,this.headers=Object.assign(Object.assign({},DEFAULT_HEADERS$2),s),this.fetch=resolveFetch$2(o)}listBuckets(){return __awaiter$6(this,void 0,void 0,function*(){try{return{data:yield get(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(i){if(isStorageError(i))return{data:null,error:i};throw i}})}getBucket(i){return __awaiter$6(this,void 0,void 0,function*(){try{return{data:yield get(this.fetch,`${this.url}/bucket/${i}`,{headers:this.headers}),error:null}}catch(s){if(isStorageError(s))return{data:null,error:s};throw s}})}createBucket(i,s={public:!1}){return __awaiter$6(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/bucket`,{id:i,name:i,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(isStorageError(o))return{data:null,error:o};throw o}})}updateBucket(i,s){return __awaiter$6(this,void 0,void 0,function*(){try{return{data:yield put(this.fetch,`${this.url}/bucket/${i}`,{id:i,name:i,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(isStorageError(o))return{data:null,error:o};throw o}})}emptyBucket(i){return __awaiter$6(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/bucket/${i}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(isStorageError(s))return{data:null,error:s};throw s}})}deleteBucket(i){return __awaiter$6(this,void 0,void 0,function*(){try{return{data:yield remove(this.fetch,`${this.url}/bucket/${i}`,{},{headers:this.headers}),error:null}}catch(s){if(isStorageError(s))return{data:null,error:s};throw s}})}}class StorageClient extends StorageBucketApi{constructor(i,s={},o){super(i,s,o)}from(i){return new StorageFileApi(this.url,this.headers,i,this.fetch)}}const version$1="2.25.0",DEFAULT_HEADERS$1={"X-Client-Info":`supabase-js/${version$1}`};var __awaiter$5=globalThis&&globalThis.__awaiter||function(e,i,s,o){function a(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function h(b){try{_(o.next(b))}catch($){d($)}}function g(b){try{_(o.throw(b))}catch($){d($)}}function _(b){b.done?c(b.value):a(b.value).then(h,g)}_((o=o.apply(e,i||[])).next())})};const resolveFetch$1=e=>{let i;return e?i=e:typeof fetch>"u"?i=crossFetch:i=fetch,(...s)=>i(...s)},resolveHeadersConstructor=()=>typeof Headers>"u"?browserPonyfillExports.Headers:Headers,fetchWithAuth=(e,i,s)=>{const o=resolveFetch$1(s),a=resolveHeadersConstructor();return(c,d)=>__awaiter$5(void 0,void 0,void 0,function*(){var h;const g=(h=yield i())!==null&&h!==void 0?h:e;let _=new a(d==null?void 0:d.headers);return _.has("apikey")||_.set("apikey",e),_.has("Authorization")||_.set("Authorization",`Bearer ${g}`),o(c,Object.assign(Object.assign({},d),{headers:_}))})};function stripTrailingSlash(e){return e.replace(/\/$/,"")}function applySettingDefaults(e,i){const{db:s,auth:o,realtime:a,global:c}=e,{db:d,auth:h,realtime:g,global:_}=i;return{db:Object.assign(Object.assign({},d),s),auth:Object.assign(Object.assign({},h),o),realtime:Object.assign(Object.assign({},g),a),global:Object.assign(Object.assign({},_),c)}}var __awaiter$4=globalThis&&globalThis.__awaiter||function(e,i,s,o){function a(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function h(b){try{_(o.next(b))}catch($){d($)}}function g(b){try{_(o.throw(b))}catch($){d($)}}function _(b){b.done?c(b.value):a(b.value).then(h,g)}_((o=o.apply(e,i||[])).next())})};function expiresAt(e){return Math.round(Date.now()/1e3)+e}function uuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const i=Math.random()*16|0;return(e=="x"?i:i&3|8).toString(16)})}const isBrowser=()=>typeof document<"u",localStorageWriteTests={tested:!1,writable:!1},supportsLocalStorage=()=>{if(!isBrowser())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(localStorageWriteTests.tested)return localStorageWriteTests.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!0}catch{localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!1}return localStorageWriteTests.writable};function getParameterByName(e,i){var s;i||(i=((s=window==null?void 0:window.location)===null||s===void 0?void 0:s.href)||""),e=e.replace(/[\[\]]/g,"\\$&");const o=new RegExp("[?&#]"+e+"(=([^&#]*)|&|#|$)"),a=o.exec(i);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}const resolveFetch=e=>{let i;return e?i=e:typeof fetch>"u"?i=(...s)=>__awaiter$4(void 0,void 0,void 0,function*(){return yield(yield __vitePreload(()=>Promise.resolve().then(()=>browserPonyfill),void 0)).fetch(...s)}):i=fetch,(...s)=>i(...s)},looksLikeFetchResponse=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",setItemAsync=(e,i,s)=>__awaiter$4(void 0,void 0,void 0,function*(){yield e.setItem(i,JSON.stringify(s))}),getItemAsync=(e,i)=>__awaiter$4(void 0,void 0,void 0,function*(){const s=yield e.getItem(i);if(!s)return null;try{return JSON.parse(s)}catch{return s}}),removeItemAsync=(e,i)=>__awaiter$4(void 0,void 0,void 0,function*(){yield e.removeItem(i)});function decodeBase64URL(e){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let s="",o,a,c,d,h,g,_,b=0;for(e=e.replace("-","+").replace("_","/");b<e.length;)d=i.indexOf(e.charAt(b++)),h=i.indexOf(e.charAt(b++)),g=i.indexOf(e.charAt(b++)),_=i.indexOf(e.charAt(b++)),o=d<<2|h>>4,a=(h&15)<<4|g>>2,c=(g&3)<<6|_,s=s+String.fromCharCode(o),g!=64&&a!=0&&(s=s+String.fromCharCode(a)),_!=64&&c!=0&&(s=s+String.fromCharCode(c));return s}class Deferred{constructor(){this.promise=new Deferred.promiseConstructor((i,s)=>{this.resolve=i,this.reject=s})}}Deferred.promiseConstructor=Promise;function decodeJWTPayload(e){const i=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,s=e.split(".");if(s.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!i.test(s[1]))throw new Error("JWT is not valid: payload is not in base64url format");const o=s[1];return JSON.parse(decodeBase64URL(o))}function sleep(e){return new Promise(i=>{setTimeout(()=>i(null),e)})}function retryable(e,i){return new Promise((o,a)=>{__awaiter$4(this,void 0,void 0,function*(){for(let c=0;c<1/0;c++)try{const d=yield e(c);if(!i(c,null,d)){o(d);return}}catch(d){if(!i(c,d)){a(d);return}}})})}function dec2hex(e){return("0"+e.toString(16)).substr(-2)}function generatePKCEVerifier(){const i=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=s.length;let a="";for(let c=0;c<56;c++)a+=s.charAt(Math.floor(Math.random()*o));return a}return crypto.getRandomValues(i),Array.from(i,dec2hex).join("")}function sha256(e){return __awaiter$4(this,void 0,void 0,function*(){const s=new TextEncoder().encode(e),o=yield crypto.subtle.digest("SHA-256",s),a=new Uint8Array(o);return Array.from(a).map(c=>String.fromCharCode(c)).join("")})}function base64urlencode(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function generatePKCEChallenge(e){return __awaiter$4(this,void 0,void 0,function*(){if(typeof crypto>"u")return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const i=yield sha256(e);return base64urlencode(i)})}class AuthError extends Error{constructor(i,s){super(i),this.__isAuthError=!0,this.name="AuthError",this.status=s}}function isAuthError(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class AuthApiError extends AuthError{constructor(i,s){super(i,s),this.name="AuthApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function isAuthApiError(e){return isAuthError(e)&&e.name==="AuthApiError"}class AuthUnknownError extends AuthError{constructor(i,s){super(i),this.name="AuthUnknownError",this.originalError=s}}class CustomAuthError extends AuthError{constructor(i,s,o){super(i),this.name=s,this.status=o}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class AuthSessionMissingError extends CustomAuthError{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class AuthInvalidTokenResponseError extends CustomAuthError{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class AuthInvalidCredentialsError extends CustomAuthError{constructor(i){super(i,"AuthInvalidCredentialsError",400)}}class AuthImplicitGrantRedirectError extends CustomAuthError{constructor(i,s=null){super(i,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class AuthPKCEGrantCodeExchangeError extends CustomAuthError{constructor(i,s=null){super(i,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class AuthRetryableFetchError extends CustomAuthError{constructor(i,s){super(i,"AuthRetryableFetchError",s)}}var __awaiter$3=globalThis&&globalThis.__awaiter||function(e,i,s,o){function a(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function h(b){try{_(o.next(b))}catch($){d($)}}function g(b){try{_(o.throw(b))}catch($){d($)}}function _(b){b.done?c(b.value):a(b.value).then(h,g)}_((o=o.apply(e,i||[])).next())})},__rest$1=globalThis&&globalThis.__rest||function(e,i){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&i.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)i.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(s[o[a]]=e[o[a]]);return s};const _getErrorMessage=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),handleError=(e,i)=>__awaiter$3(void 0,void 0,void 0,function*(){const s=[502,503,504];looksLikeFetchResponse(e)?s.includes(e.status)?i(new AuthRetryableFetchError(_getErrorMessage(e),e.status)):e.json().then(o=>{i(new AuthApiError(_getErrorMessage(o),e.status||500))}).catch(o=>{i(new AuthUnknownError(_getErrorMessage(o),o))}):i(new AuthRetryableFetchError(_getErrorMessage(e),0))}),_getRequestParams=(e,i,s,o)=>{const a={method:e,headers:(i==null?void 0:i.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},i==null?void 0:i.headers),a.body=JSON.stringify(o),Object.assign(Object.assign({},a),s))};function _request(e,i,s,o){var a;return __awaiter$3(this,void 0,void 0,function*(){const c=Object.assign({},o==null?void 0:o.headers);o!=null&&o.jwt&&(c.Authorization=`Bearer ${o.jwt}`);const d=(a=o==null?void 0:o.query)!==null&&a!==void 0?a:{};o!=null&&o.redirectTo&&(d.redirect_to=o.redirectTo);const h=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",g=yield _handleRequest(e,i,s+h,{headers:c,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(g):{data:Object.assign({},g),error:null}})}function _handleRequest(e,i,s,o,a,c){return __awaiter$3(this,void 0,void 0,function*(){return new Promise((d,h)=>{e(s,_getRequestParams(i,o,a,c)).then(g=>{if(!g.ok)throw g;return o!=null&&o.noResolveJson?g:g.json()}).then(g=>d(g)).catch(g=>handleError(g,h))})})}function _sessionResponse(e){var i;let s=null;hasSession(e)&&(s=Object.assign({},e),s.expires_at=expiresAt(e.expires_in));const o=(i=e.user)!==null&&i!==void 0?i:e;return{data:{session:s,user:o},error:null}}function _userResponse(e){var i;return{data:{user:(i=e.user)!==null&&i!==void 0?i:e},error:null}}function _ssoResponse(e){return{data:e,error:null}}function _generateLinkResponse(e){const{action_link:i,email_otp:s,hashed_token:o,redirect_to:a,verification_type:c}=e,d=__rest$1(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:i,email_otp:s,hashed_token:o,redirect_to:a,verification_type:c},g=Object.assign({},d);return{data:{properties:h,user:g},error:null}}function _noResolveJsonResponse(e){return e}function hasSession(e){return e.access_token&&e.refresh_token&&e.expires_in}var __awaiter$2=globalThis&&globalThis.__awaiter||function(e,i,s,o){function a(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function h(b){try{_(o.next(b))}catch($){d($)}}function g(b){try{_(o.throw(b))}catch($){d($)}}function _(b){b.done?c(b.value):a(b.value).then(h,g)}_((o=o.apply(e,i||[])).next())})},__rest=globalThis&&globalThis.__rest||function(e,i){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&i.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)i.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(s[o[a]]=e[o[a]]);return s};class GoTrueAdminApi{constructor({url:i="",headers:s={},fetch:o}){this.url=i,this.headers=s,this.fetch=resolveFetch(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(i){return __awaiter$2(this,void 0,void 0,function*(){try{return yield _request(this.fetch,"POST",`${this.url}/logout`,{headers:this.headers,jwt:i,noResolveJson:!0}),{data:null,error:null}}catch(s){if(isAuthError(s))return{data:null,error:s};throw s}})}inviteUserByEmail(i,s={}){return __awaiter$2(this,void 0,void 0,function*(){try{return yield _request(this.fetch,"POST",`${this.url}/invite`,{body:{email:i,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:_userResponse})}catch(o){if(isAuthError(o))return{data:{user:null},error:o};throw o}})}generateLink(i){return __awaiter$2(this,void 0,void 0,function*(){try{const{options:s}=i,o=__rest(i,["options"]),a=Object.assign(Object.assign({},o),s);return"newEmail"in o&&(a.new_email=o==null?void 0:o.newEmail,delete a.newEmail),yield _request(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:_generateLinkResponse,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(isAuthError(s))return{data:{properties:null,user:null},error:s};throw s}})}createUser(i){return __awaiter$2(this,void 0,void 0,function*(){try{return yield _request(this.fetch,"POST",`${this.url}/admin/users`,{body:i,headers:this.headers,xform:_userResponse})}catch(s){if(isAuthError(s))return{data:{user:null},error:s};throw s}})}listUsers(i){var s,o,a,c,d,h,g;return __awaiter$2(this,void 0,void 0,function*(){try{const _={nextPage:null,lastPage:0,total:0},b=yield _request(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(s=i==null?void 0:i.page)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:"",per_page:(c=(a=i==null?void 0:i.perPage)===null||a===void 0?void 0:a.toString())!==null&&c!==void 0?c:""},xform:_noResolveJsonResponse});if(b.error)throw b.error;const $=yield b.json(),st=(d=b.headers.get("x-total-count"))!==null&&d!==void 0?d:0,lt=(g=(h=b.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&g!==void 0?g:[];return lt.length>0&&(lt.forEach(nt=>{const tt=parseInt(nt.split(";")[0].split("=")[1].substring(0,1)),dt=JSON.parse(nt.split(";")[1].split("=")[1]);_[`${dt}Page`]=tt}),_.total=parseInt(st)),{data:Object.assign(Object.assign({},$),_),error:null}}catch(_){if(isAuthError(_))return{data:{users:[]},error:_};throw _}})}getUserById(i){return __awaiter$2(this,void 0,void 0,function*(){try{return yield _request(this.fetch,"GET",`${this.url}/admin/users/${i}`,{headers:this.headers,xform:_userResponse})}catch(s){if(isAuthError(s))return{data:{user:null},error:s};throw s}})}updateUserById(i,s){return __awaiter$2(this,void 0,void 0,function*(){try{return yield _request(this.fetch,"PUT",`${this.url}/admin/users/${i}`,{body:s,headers:this.headers,xform:_userResponse})}catch(o){if(isAuthError(o))return{data:{user:null},error:o};throw o}})}deleteUser(i,s=!1){return __awaiter$2(this,void 0,void 0,function*(){try{return yield _request(this.fetch,"DELETE",`${this.url}/admin/users/${i}`,{headers:this.headers,body:{should_soft_delete:s},xform:_userResponse})}catch(o){if(isAuthError(o))return{data:{user:null},error:o};throw o}})}_listFactors(i){return __awaiter$2(this,void 0,void 0,function*(){try{const{data:s,error:o}=yield _request(this.fetch,"GET",`${this.url}/admin/users/${i.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:s,error:o}}catch(s){if(isAuthError(s))return{data:null,error:s};throw s}})}_deleteFactor(i){return __awaiter$2(this,void 0,void 0,function*(){try{return{data:yield _request(this.fetch,"DELETE",`${this.url}/admin/users/${i.userId}/factors/${i.id}`,{headers:this.headers}),error:null}}catch(s){if(isAuthError(s))return{data:null,error:s};throw s}})}}const version="2.30.0",GOTRUE_URL="http://localhost:9999",STORAGE_KEY="supabase.auth.token",DEFAULT_HEADERS={"X-Client-Info":`gotrue-js/${version}`},EXPIRY_MARGIN=10,localStorageAdapter={getItem:e=>supportsLocalStorage()?globalThis.localStorage.getItem(e):null,setItem:(e,i)=>{supportsLocalStorage()&&globalThis.localStorage.setItem(e,i)},removeItem:e=>{supportsLocalStorage()&&globalThis.localStorage.removeItem(e)}};function polyfillGlobalThis(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var __awaiter$1=globalThis&&globalThis.__awaiter||function(e,i,s,o){function a(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function h(b){try{_(o.next(b))}catch($){d($)}}function g(b){try{_(o.throw(b))}catch($){d($)}}function _(b){b.done?c(b.value):a(b.value).then(h,g)}_((o=o.apply(e,i||[])).next())})};polyfillGlobalThis();const DEFAULT_OPTIONS={url:GOTRUE_URL,storageKey:STORAGE_KEY,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DEFAULT_HEADERS,flowType:"implicit"},AUTO_REFRESH_TICK_DURATION=30*1e3,AUTO_REFRESH_TICK_THRESHOLD=3;class GoTrueClient{constructor(i){var s;this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.broadcastChannel=null;const o=Object.assign(Object.assign({},DEFAULT_OPTIONS),i);if(this.inMemorySession=null,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.persistSession=o.persistSession,this.storage=o.storage||localStorageAdapter,this.admin=new GoTrueAdminApi({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=resolveFetch(o.fetch),this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession&&this.storage===localStorageAdapter&&!supportsLocalStorage()&&console.warn(`No storage option exists to persist the session, which may result in unexpected behavior when using auth.
        If you want to set persistSession to true, please provide a storage option or you may set persistSession to false to disable this warning.`),isBrowser()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",a=>__awaiter$1(this,void 0,void 0,function*(){yield this._notifyAllSubscribers(a.data.event,a.data.session,!1)}))}this.initialize()}initialize(){return this.initializePromise||(this.initializePromise=this._initialize()),this.initializePromise}_initialize(){return __awaiter$1(this,void 0,void 0,function*(){if(this.initializePromise)return this.initializePromise;try{const i=isBrowser()?yield this._isPKCEFlow():!1;if(i||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:s,error:o}=yield this._getSessionFromUrl(i);if(o)return yield this._removeSession(),{error:o};const{session:a,redirectType:c}=s;return yield this._saveSession(a),setTimeout(()=>__awaiter$1(this,void 0,void 0,function*(){c==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(i){return isAuthError(i)?{error:i}:{error:new AuthUnknownError("Unexpected error during initialization",i)}}finally{yield this._handleVisibilityChange()}})}signUp(i){var s,o,a;return __awaiter$1(this,void 0,void 0,function*(){try{yield this._removeSession();let c;if("email"in i){const{email:b,password:$,options:st}=i;let lt=null,nt=null;if(this.flowType==="pkce"){const tt=generatePKCEVerifier();yield setItemAsync(this.storage,`${this.storageKey}-code-verifier`,tt),lt=yield generatePKCEChallenge(tt),nt=tt===lt?"plain":"s256"}c=yield _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:st==null?void 0:st.emailRedirectTo,body:{email:b,password:$,data:(s=st==null?void 0:st.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:st==null?void 0:st.captchaToken},code_challenge:lt,code_challenge_method:nt},xform:_sessionResponse})}else if("phone"in i){const{phone:b,password:$,options:st}=i;c=yield _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:$,data:(o=st==null?void 0:st.data)!==null&&o!==void 0?o:{},channel:(a=st==null?void 0:st.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:st==null?void 0:st.captchaToken}},xform:_sessionResponse})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:d,error:h}=c;if(h||!d)return{data:{user:null,session:null},error:h};const g=d.session,_=d.user;return d.session&&(yield this._saveSession(d.session),yield this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:_,session:g},error:null}}catch(c){if(isAuthError(c))return{data:{user:null,session:null},error:c};throw c}})}signInWithPassword(i){return __awaiter$1(this,void 0,void 0,function*(){try{yield this._removeSession();let s;if("email"in i){const{email:c,password:d,options:h}=i;s=yield _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:_sessionResponse})}else if("phone"in i){const{phone:c,password:d,options:h}=i;s=yield _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:_sessionResponse})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:o,error:a}=s;return a?{data:{user:null,session:null},error:a}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:{user:o.user,session:o.session},error:a})}catch(s){if(isAuthError(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithOAuth(i){var s,o,a,c;return __awaiter$1(this,void 0,void 0,function*(){return yield this._removeSession(),yield this._handleProviderSignIn(i.provider,{redirectTo:(s=i.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=i.options)===null||o===void 0?void 0:o.scopes,queryParams:(a=i.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(c=i.options)===null||c===void 0?void 0:c.skipBrowserRedirect})})}exchangeCodeForSession(i){return __awaiter$1(this,void 0,void 0,function*(){const s=yield getItemAsync(this.storage,`${this.storageKey}-code-verifier`),{data:o,error:a}=yield _request(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:i,code_verifier:s},xform:_sessionResponse});return yield removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),a?{data:{user:null,session:null},error:a}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:a})})}signInWithIdToken(i){return __awaiter$1(this,void 0,void 0,function*(){yield this._removeSession();try{const{options:s,provider:o,token:a,nonce:c}=i,d=yield _request(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:a,nonce:c,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:_sessionResponse}),{data:h,error:g}=d;return g?{data:{user:null,session:null},error:g}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(h.session&&(yield this._saveSession(h.session),yield this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:g})}catch(s){if(isAuthError(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithOtp(i){var s,o,a,c,d;return __awaiter$1(this,void 0,void 0,function*(){try{if(yield this._removeSession(),"email"in i){const{email:h,options:g}=i;let _=null,b=null;if(this.flowType==="pkce"){const st=generatePKCEVerifier();yield setItemAsync(this.storage,`${this.storageKey}-code-verifier`,st),_=yield generatePKCEChallenge(st),b=st===_?"plain":"s256"}const{error:$}=yield _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(s=g==null?void 0:g.data)!==null&&s!==void 0?s:{},create_user:(o=g==null?void 0:g.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:_,code_challenge_method:b},redirectTo:g==null?void 0:g.emailRedirectTo});return{data:{user:null,session:null},error:$}}if("phone"in i){const{phone:h,options:g}=i,{error:_}=yield _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(a=g==null?void 0:g.data)!==null&&a!==void 0?a:{},create_user:(c=g==null?void 0:g.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(d=g==null?void 0:g.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null},error:_}}throw new AuthInvalidCredentialsError("You must provide either an email or phone number.")}catch(h){if(isAuthError(h))return{data:{user:null,session:null},error:h};throw h}})}verifyOtp(i){var s,o;return __awaiter$1(this,void 0,void 0,function*(){try{i.type!=="email_change"&&i.type!=="phone_change"&&(yield this._removeSession());const{data:a,error:c}=yield _request(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},i),{gotrue_meta_security:{captcha_token:(s=i.options)===null||s===void 0?void 0:s.captchaToken}}),redirectTo:(o=i.options)===null||o===void 0?void 0:o.redirectTo,xform:_sessionResponse});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");const d=a.session,h=a.user;return d!=null&&d.access_token&&(yield this._saveSession(d),yield this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(a){if(isAuthError(a))return{data:{user:null,session:null},error:a};throw a}})}signInWithSSO(i){var s,o,a;return __awaiter$1(this,void 0,void 0,function*(){try{return yield this._removeSession(),yield _request(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in i?{provider_id:i.providerId}:null),"domain"in i?{domain:i.domain}:null),{redirect_to:(o=(s=i.options)===null||s===void 0?void 0:s.redirectTo)!==null&&o!==void 0?o:void 0}),!((a=i==null?void 0:i.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:i.options.captchaToken}}:null),{skip_http_redirect:!0}),headers:this.headers,xform:_ssoResponse})}catch(c){if(isAuthError(c))return{data:null,error:c};throw c}})}reauthenticate(){return __awaiter$1(this,void 0,void 0,function*(){try{const{data:{session:i},error:s}=yield this.getSession();if(s)throw s;if(!i)throw new AuthSessionMissingError;const{error:o}=yield _request(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return{data:{user:null,session:null},error:o}}catch(i){if(isAuthError(i))return{data:{user:null,session:null},error:i};throw i}})}resend(i){return __awaiter$1(this,void 0,void 0,function*(){try{yield this._removeSession();const s=`${this.url}/resend`;if("email"in i){const{email:o,type:a,options:c}=i,{error:d}=yield _request(this.fetch,"POST",s,{headers:this.headers,body:{email:o,type:a,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return{data:{user:null,session:null},error:d}}else if("phone"in i){const{phone:o,type:a,options:c}=i,{error:d}=yield _request(this.fetch,"POST",s,{headers:this.headers,body:{phone:o,type:a,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return{data:{user:null,session:null},error:d}}throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a type")}catch(s){if(isAuthError(s))return{data:{user:null,session:null},error:s};throw s}})}getSession(){return __awaiter$1(this,void 0,void 0,function*(){yield this.initializePromise;let i=null;if(this.persistSession){const c=yield getItemAsync(this.storage,this.storageKey);c!==null&&(this._isValidSession(c)?i=c:yield this._removeSession())}else i=this.inMemorySession;if(!i)return{data:{session:null},error:null};if(!(i.expires_at?i.expires_at<=Date.now()/1e3:!1))return{data:{session:i},error:null};const{session:o,error:a}=yield this._callRefreshToken(i.refresh_token);return a?{data:{session:null},error:a}:{data:{session:o},error:null}})}getUser(i){var s,o;return __awaiter$1(this,void 0,void 0,function*(){try{if(!i){const{data:a,error:c}=yield this.getSession();if(c)throw c;i=(o=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0}return yield _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:i,xform:_userResponse})}catch(a){if(isAuthError(a))return{data:{user:null},error:a};throw a}})}updateUser(i,s={}){return __awaiter$1(this,void 0,void 0,function*(){try{const{data:o,error:a}=yield this.getSession();if(a)throw a;if(!o.session)throw new AuthSessionMissingError;const c=o.session,{data:d,error:h}=yield _request(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:i,jwt:c.access_token,xform:_userResponse});if(h)throw h;return c.user=d.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}}catch(o){if(isAuthError(o))return{data:{user:null},error:o};throw o}})}_decodeJWT(i){return decodeJWTPayload(i)}setSession(i){return __awaiter$1(this,void 0,void 0,function*(){try{if(!i.access_token||!i.refresh_token)throw new AuthSessionMissingError;const s=Date.now()/1e3;let o=s,a=!0,c=null;const d=decodeJWTPayload(i.access_token);if(d.exp&&(o=d.exp,a=o<=s),a){const{session:h,error:g}=yield this._callRefreshToken(i.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!h)return{data:{user:null,session:null},error:null};c=h}else{const{data:h,error:g}=yield this.getUser(i.access_token);if(g)throw g;c={access_token:i.access_token,refresh_token:i.refresh_token,user:h.user,token_type:"bearer",expires_in:o-s,expires_at:o},yield this._saveSession(c),yield this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(s){if(isAuthError(s))return{data:{session:null,user:null},error:s};throw s}})}refreshSession(i){var s;return __awaiter$1(this,void 0,void 0,function*(){try{if(!i){const{data:c,error:d}=yield this.getSession();if(d)throw d;i=(s=c.session)!==null&&s!==void 0?s:void 0}if(!(i!=null&&i.refresh_token))throw new AuthSessionMissingError;const{session:o,error:a}=yield this._callRefreshToken(i.refresh_token);return a?{data:{user:null,session:null},error:a}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}}catch(o){if(isAuthError(o))return{data:{user:null,session:null},error:o};throw o}})}_getSessionFromUrl(i){return __awaiter$1(this,void 0,void 0,function*(){try{if(!isBrowser())throw new AuthImplicitGrantRedirectError("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new AuthImplicitGrantRedirectError("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!i)throw new AuthPKCEGrantCodeExchangeError("Not a valid PKCE flow url.");if(i){const dt=getParameterByName("code");if(!dt)throw new AuthPKCEGrantCodeExchangeError("No code detected.");const{data:et,error:it}=yield this.exchangeCodeForSession(dt);if(it)throw it;if(!et.session)throw new AuthPKCEGrantCodeExchangeError("No session detected.");let rt=new URL(window.location.href);return rt.searchParams.delete("code"),window.history.replaceState(window.history.state,"",rt.toString()),{data:{session:et.session,redirectType:null},error:null}}const s=getParameterByName("error_description");if(s){const dt=getParameterByName("error_code");if(!dt)throw new AuthImplicitGrantRedirectError("No error_code detected.");const et=getParameterByName("error");throw et?new AuthImplicitGrantRedirectError(s,{error:et,code:dt}):new AuthImplicitGrantRedirectError("No error detected.")}const o=getParameterByName("provider_token"),a=getParameterByName("provider_refresh_token"),c=getParameterByName("access_token");if(!c)throw new AuthImplicitGrantRedirectError("No access_token detected.");const d=getParameterByName("expires_in");if(!d)throw new AuthImplicitGrantRedirectError("No expires_in detected.");const h=getParameterByName("refresh_token");if(!h)throw new AuthImplicitGrantRedirectError("No refresh_token detected.");const g=getParameterByName("token_type");if(!g)throw new AuthImplicitGrantRedirectError("No token_type detected.");const b=Math.round(Date.now()/1e3)+parseInt(d),{data:$,error:st}=yield this.getUser(c);if(st)throw st;const lt=$.user,nt={provider_token:o,provider_refresh_token:a,access_token:c,expires_in:parseInt(d),expires_at:b,refresh_token:h,token_type:g,user:lt},tt=getParameterByName("type");return window.location.hash="",{data:{session:nt,redirectType:tt},error:null}}catch(s){if(isAuthError(s))return{data:{session:null,redirectType:null},error:s};throw s}})}_isImplicitGrantFlow(){return isBrowser()&&(!!getParameterByName("access_token")||!!getParameterByName("error_description"))}_isPKCEFlow(){return __awaiter$1(this,void 0,void 0,function*(){const i=yield getItemAsync(this.storage,`${this.storageKey}-code-verifier`);return!!getParameterByName("code")&&!!i})}signOut(){var i;return __awaiter$1(this,void 0,void 0,function*(){const{data:s,error:o}=yield this.getSession();if(o)return{error:o};const a=(i=s.session)===null||i===void 0?void 0:i.access_token;if(a){const{error:c}=yield this.admin.signOut(a);if(c&&!(isAuthApiError(c)&&(c.status===404||c.status===401)))return{error:c}}return yield this._removeSession(),yield removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),yield this._notifyAllSubscribers("SIGNED_OUT",null),{error:null}})}onAuthStateChange(i){const s=uuid(),o={id:s,callback:i,unsubscribe:()=>{this.stateChangeEmitters.delete(s)}};return this.stateChangeEmitters.set(s,o),this.emitInitialSession(s),{data:{subscription:o}}}emitInitialSession(i){var s,o;return __awaiter$1(this,void 0,void 0,function*(){try{const{data:{session:a},error:c}=yield this.getSession();if(c)throw c;yield(s=this.stateChangeEmitters.get(i))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",a)}catch(a){yield(o=this.stateChangeEmitters.get(i))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),console.error(a)}})}resetPasswordForEmail(i,s={}){return __awaiter$1(this,void 0,void 0,function*(){let o=null,a=null;if(this.flowType==="pkce"){const c=generatePKCEVerifier();yield setItemAsync(this.storage,`${this.storageKey}-code-verifier`,c),o=yield generatePKCEChallenge(c),a=c===o?"plain":"s256"}try{return yield _request(this.fetch,"POST",`${this.url}/recover`,{body:{email:i,code_challenge:o,code_challenge_method:a,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(c){if(isAuthError(c))return{data:null,error:c};throw c}})}_refreshAccessToken(i){return __awaiter$1(this,void 0,void 0,function*(){try{const s=Date.now();return yield retryable(o=>__awaiter$1(this,void 0,void 0,function*(){return yield sleep(o*200),yield _request(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:i},headers:this.headers,xform:_sessionResponse})}),(o,a,c)=>c&&c.error&&c.error instanceof AuthRetryableFetchError&&Date.now()+(o+1)*200-s<AUTO_REFRESH_TICK_DURATION)}catch(s){if(isAuthError(s))return{data:{session:null,user:null},error:s};throw s}})}_isValidSession(i){return typeof i=="object"&&i!==null&&"access_token"in i&&"refresh_token"in i&&"expires_at"in i}_handleProviderSignIn(i,s){return __awaiter$1(this,void 0,void 0,function*(){const o=yield this._getUrlForProvider(i,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return isBrowser()&&!s.skipBrowserRedirect&&window.location.assign(o),{data:{provider:i,url:o},error:null}})}_recoverAndRefresh(){var i;return __awaiter$1(this,void 0,void 0,function*(){try{const s=yield getItemAsync(this.storage,this.storageKey);if(!this._isValidSession(s)){s!==null&&(yield this._removeSession());return}const o=Math.round(Date.now()/1e3);if(((i=s.expires_at)!==null&&i!==void 0?i:1/0)<o+EXPIRY_MARGIN){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=yield this._callRefreshToken(s.refresh_token);a&&(console.log(a.message),yield this._removeSession())}}else this.persistSession&&(yield this._saveSession(s)),yield this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){console.error(s);return}})}_callRefreshToken(i){var s,o;return __awaiter$1(this,void 0,void 0,function*(){if(this.refreshingDeferred)return this.refreshingDeferred.promise;try{if(this.refreshingDeferred=new Deferred,!i)throw new AuthSessionMissingError;const{data:a,error:c}=yield this._refreshAccessToken(i);if(c)throw c;if(!a.session)throw new AuthSessionMissingError;yield this._saveSession(a.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const d={session:a.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(a){if(isAuthError(a)){const c={session:null,error:a};return(s=this.refreshingDeferred)===null||s===void 0||s.resolve(c),c}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(a),a}finally{this.refreshingDeferred=null}})}_notifyAllSubscribers(i,s,o=!0){return __awaiter$1(this,void 0,void 0,function*(){this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:i,session:s});const a=[],c=Array.from(this.stateChangeEmitters.values()).map(d=>__awaiter$1(this,void 0,void 0,function*(){try{yield d.callback(i,s)}catch(h){a.push(h)}}));if(yield Promise.all(c),a.length>0){for(let d=0;d<a.length;d+=1)console.error(a[d]);throw a[0]}})}_saveSession(i){return __awaiter$1(this,void 0,void 0,function*(){this.persistSession||(this.inMemorySession=i),this.persistSession&&i.expires_at&&(yield this._persistSession(i))})}_persistSession(i){return setItemAsync(this.storage,this.storageKey,i)}_removeSession(){return __awaiter$1(this,void 0,void 0,function*(){this.persistSession?yield removeItemAsync(this.storage,this.storageKey):this.inMemorySession=null})}_removeVisibilityChangedCallback(){const i=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{i&&isBrowser()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",i)}catch(s){console.error("removing visibilitychange callback failed",s)}}_startAutoRefresh(){return __awaiter$1(this,void 0,void 0,function*(){yield this._stopAutoRefresh();const i=setInterval(()=>this._autoRefreshTokenTick(),AUTO_REFRESH_TICK_DURATION);this.autoRefreshTicker=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i),yield this._autoRefreshTokenTick()})}_stopAutoRefresh(){return __awaiter$1(this,void 0,void 0,function*(){const i=this.autoRefreshTicker;this.autoRefreshTicker=null,i&&clearInterval(i)})}startAutoRefresh(){return __awaiter$1(this,void 0,void 0,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return __awaiter$1(this,void 0,void 0,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return __awaiter$1(this,void 0,void 0,function*(){const i=Date.now();try{const{data:{session:s}}=yield this.getSession();if(!s||!s.refresh_token||!s.expires_at)return;Math.floor((s.expires_at*1e3-i)/AUTO_REFRESH_TICK_DURATION)<AUTO_REFRESH_TICK_THRESHOLD&&(yield this._callRefreshToken(s.refresh_token))}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}})}_handleVisibilityChange(){return __awaiter$1(this,void 0,void 0,function*(){if(!isBrowser()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>__awaiter$1(this,void 0,void 0,function*(){return yield this._onVisibilityChanged(!1)}),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(i){console.error("_handleVisibilityChange",i)}})}_onVisibilityChanged(i){return __awaiter$1(this,void 0,void 0,function*(){document.visibilityState==="visible"?(i||(yield this.initializePromise,yield this._recoverAndRefresh()),this.autoRefreshToken&&this._startAutoRefresh()):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(i,s){return __awaiter$1(this,void 0,void 0,function*(){const o=[`provider=${encodeURIComponent(i)}`];if(s!=null&&s.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const a=generatePKCEVerifier();yield setItemAsync(this.storage,`${this.storageKey}-code-verifier`,a);const c=yield generatePKCEChallenge(a),d=a===c?"plain":"s256",h=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(d)}`});o.push(h.toString())}if(s!=null&&s.queryParams){const a=new URLSearchParams(s.queryParams);o.push(a.toString())}return`${this.url}/authorize?${o.join("&")}`})}_unenroll(i){var s;return __awaiter$1(this,void 0,void 0,function*(){try{const{data:o,error:a}=yield this.getSession();return a?{data:null,error:a}:yield _request(this.fetch,"DELETE",`${this.url}/factors/${i.factorId}`,{headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token})}catch(o){if(isAuthError(o))return{data:null,error:o};throw o}})}_enroll(i){var s,o;return __awaiter$1(this,void 0,void 0,function*(){try{const{data:a,error:c}=yield this.getSession();if(c)return{data:null,error:c};const{data:d,error:h}=yield _request(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:i.friendlyName,factor_type:i.factorType,issuer:i.issuer},headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return h?{data:null,error:h}:(!((o=d==null?void 0:d.totp)===null||o===void 0)&&o.qr_code&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})}catch(a){if(isAuthError(a))return{data:null,error:a};throw a}})}_verify(i){var s;return __awaiter$1(this,void 0,void 0,function*(){try{const{data:o,error:a}=yield this.getSession();if(a)return{data:null,error:a};const{data:c,error:d}=yield _request(this.fetch,"POST",`${this.url}/factors/${i.factorId}/verify`,{body:{code:i.code,challenge_id:i.challengeId},headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token});return d?{data:null,error:d}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:d})}catch(o){if(isAuthError(o))return{data:null,error:o};throw o}})}_challenge(i){var s;return __awaiter$1(this,void 0,void 0,function*(){try{const{data:o,error:a}=yield this.getSession();return a?{data:null,error:a}:yield _request(this.fetch,"POST",`${this.url}/factors/${i.factorId}/challenge`,{headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token})}catch(o){if(isAuthError(o))return{data:null,error:o};throw o}})}_challengeAndVerify(i){return __awaiter$1(this,void 0,void 0,function*(){const{data:s,error:o}=yield this._challenge({factorId:i.factorId});return o?{data:null,error:o}:yield this._verify({factorId:i.factorId,challengeId:s.id,code:i.code})})}_listFactors(){return __awaiter$1(this,void 0,void 0,function*(){const{data:{user:i},error:s}=yield this.getUser();if(s)return{data:null,error:s};const o=(i==null?void 0:i.factors)||[],a=o.filter(c=>c.factor_type==="totp"&&c.status==="verified");return{data:{all:o,totp:a},error:null}})}_getAuthenticatorAssuranceLevel(){var i,s;return __awaiter$1(this,void 0,void 0,function*(){const{data:{session:o},error:a}=yield this.getSession();if(a)return{data:null,error:a};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const c=this._decodeJWT(o.access_token);let d=null;c.aal&&(d=c.aal);let h=d;((s=(i=o.user.factors)===null||i===void 0?void 0:i.filter(b=>b.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(h="aal2");const _=c.amr||[];return{data:{currentLevel:d,nextLevel:h,currentAuthenticationMethods:_},error:null}})}}class SupabaseAuthClient extends GoTrueClient{constructor(i){super(i)}}var __awaiter=globalThis&&globalThis.__awaiter||function(e,i,s,o){function a(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function h(b){try{_(o.next(b))}catch($){d($)}}function g(b){try{_(o.throw(b))}catch($){d($)}}function _(b){b.done?c(b.value):a(b.value).then(h,g)}_((o=o.apply(e,i||[])).next())})};const DEFAULT_GLOBAL_OPTIONS={headers:DEFAULT_HEADERS$1},DEFAULT_DB_OPTIONS={schema:"public"},DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},DEFAULT_REALTIME_OPTIONS={};class SupabaseClient{constructor(i,s,o){var a,c,d,h,g,_,b,$;if(this.supabaseUrl=i,this.supabaseKey=s,!i)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const st=stripTrailingSlash(i);this.realtimeUrl=`${st}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${st}/auth/v1`,this.storageUrl=`${st}/storage/v1`,this.functionsUrl=`${st}/functions/v1`;const lt=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,nt={db:DEFAULT_DB_OPTIONS,realtime:DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},DEFAULT_AUTH_OPTIONS),{storageKey:lt}),global:DEFAULT_GLOBAL_OPTIONS},tt=applySettingDefaults(o??{},nt);this.storageKey=(c=(a=tt.auth)===null||a===void 0?void 0:a.storageKey)!==null&&c!==void 0?c:"",this.headers=(h=(d=tt.global)===null||d===void 0?void 0:d.headers)!==null&&h!==void 0?h:{},this.auth=this._initSupabaseAuthClient((g=tt.auth)!==null&&g!==void 0?g:{},this.headers,(_=tt.global)===null||_===void 0?void 0:_.fetch),this.fetch=fetchWithAuth(s,this._getAccessToken.bind(this),(b=tt.global)===null||b===void 0?void 0:b.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},tt.realtime)),this.rest=new PostgrestClient(`${st}/rest/v1`,{headers:this.headers,schema:($=tt.db)===null||$===void 0?void 0:$.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new FunctionsClient(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new StorageClient(this.storageUrl,this.headers,this.fetch)}from(i){return this.rest.from(i)}rpc(i,s={},o){return this.rest.rpc(i,s,o)}channel(i,s={config:{}}){return this.realtime.channel(i,s)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var i,s;return __awaiter(this,void 0,void 0,function*(){const{data:o}=yield this.auth.getSession();return(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:s,detectSessionInUrl:o,storage:a,storageKey:c,flowType:d},h,g){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SupabaseAuthClient({url:this.authUrl,headers:Object.assign(Object.assign({},_),h),storageKey:c,autoRefreshToken:i,persistSession:s,detectSessionInUrl:o,storage:a,flowType:d,fetch:g})}_initRealtimeClient(i){return new RealtimeClient(this.realtimeUrl,Object.assign(Object.assign({},i),{params:Object.assign({apikey:this.supabaseKey},i==null?void 0:i.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,o)=>{this._handleTokenChanged(s,o==null?void 0:o.access_token,"CLIENT")})}_handleTokenChanged(i,s,o){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==s?(this.realtime.setAuth(s??null),this.changedAccessToken=s):i==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),o=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const createClient=(e,i,s)=>new SupabaseClient(e,i,s),supabaseUrl="https://emoimoycgytvcixzgjiy.supabase.co",supabaseAnonKey="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVtb2ltb3ljZ3l0dmNpeHpnaml5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2ODY4NjEyMDMsImV4cCI6MjAwMjQzNzIwM30.SGbmnBFdepY81aUKfSQf77YJ1jsHAhyYycm6qycDvfw";console.log(supabaseUrl,supabaseAnonKey);const supabase=createClient(supabaseUrl,supabaseAnonKey);function Auth(){const[e,i]=reactExports.useState(!1),[s,o]=reactExports.useState(""),a=async c=>{c.preventDefault(),i(!0);const{error:d}=await supabase.auth.signInWithOtp({email:s,redirectTo:"http://workspace.gn-works.com"});d?(alert(d.error_description||d.message),console.log(d)):alert("Check your email for the login link!"),i(!1)};return jsxRuntimeExports.jsx("div",{className:"row flex flex-center",children:jsxRuntimeExports.jsxs("div",{className:"col-6 form-widget",children:[jsxRuntimeExports.jsx("h1",{className:"header",children:"Welcome to the Workspace"}),jsxRuntimeExports.jsx("p",{className:"description",children:"Sign in via magic link with your email below"}),jsxRuntimeExports.jsxs("form",{className:"form-widget",onSubmit:a,children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("input",{className:"inputField",type:"email",placeholder:"Your email",value:s,required:!0,onChange:c=>o(c.target.value)})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("button",{className:"button block",disabled:e,children:e?jsxRuntimeExports.jsx("span",{children:"Loading"}):jsxRuntimeExports.jsx("span",{children:"Send magic link"})})})]})]})})}function Avatar({url:e,size:i,onUpload:s}){const[o,a]=reactExports.useState(null),[c,d]=reactExports.useState(!1);reactExports.useEffect(()=>{e&&h(e)},[e]);async function h(_){try{const{data:b,error:$}=await supabase.storage.from("avatars").download(_);if($)throw $;const st=URL.createObjectURL(b);console.log(st),a(st)}catch(b){console.log("Error downloading image: ",b.message)}}async function g(_){try{if(d(!0),!_.target.files||_.target.files.length===0)throw new Error("You must select an image to upload.");const b=_.target.files[0],$=b.name.split(".").pop(),lt=`${`${Math.random()}.${$}`}`;let{error:nt}=await supabase.storage.from("avatars").upload(lt,b);if(nt)throw nt;s(_,lt)}catch(b){alert(b.message)}finally{d(!1)}}return jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[o?jsxRuntimeExports.jsx("img",{src:o,alt:"Avatar",className:"avatar image",style:{height:i,width:i}}):jsxRuntimeExports.jsx("div",{className:"avatar no-image",style:{height:i,width:i}}),jsxRuntimeExports.jsxs("div",{style:{width:i,alignSelf:"center",padding:".4%"},children:[jsxRuntimeExports.jsx("label",{className:"button primary block",htmlFor:"single",children:c?"Uploading ...":"Upload"}),jsxRuntimeExports.jsx("input",{style:{visibility:"hidden",position:"absolute"},type:"file",id:"single",accept:"image/*",onChange:g,disabled:c})]})]})}function Account({session:e}){const[i,s]=reactExports.useState(!0),[o,a]=reactExports.useState(null),[c,d]=reactExports.useState(null),[h,g]=reactExports.useState(null);reactExports.useEffect(()=>{async function b(){s(!0);const{user:$}=e;let{data:st,error:lt}=await supabase.from("profiles").select("username, website, avatar_url").eq("id",$.id).single();lt?console.warn(lt):st&&(a(st.username),d(st.website),g(st.avatar_url)),s(!1)}b()},[e]);async function _(b){b.preventDefault(),s(!0);const{user:$}=e,st={id:$.id,username:o,website:c,avatar_url:h,updated_at:new Date};let{error:lt}=await supabase.from("profiles").upsert(st);lt&&alert(lt.message),s(!1)}return jsxRuntimeExports.jsxs("form",{onSubmit:_,className:"form-widget",style:{paddingLeft:"10%",paddingRight:"10%",paddingTop:"2%"},children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(Avatar,{url:h,size:150,onUpload:(b,$)=>{g($),_(b)}})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"email",children:"Email"}),jsxRuntimeExports.jsx("input",{id:"email",type:"text",value:e.user.email,disabled:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"username",children:"Name"}),jsxRuntimeExports.jsx("input",{id:"username",type:"text",required:!0,value:o||"",onChange:b=>a(b.target.value)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"website",children:"Website"}),jsxRuntimeExports.jsx("input",{id:"website",type:"url",value:c||"",onChange:b=>d(b.target.value)})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("button",{className:"button block primary",type:"submit",disabled:i,children:i?"Loading ...":"Update"})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("button",{className:"button block",type:"button",onClick:()=>supabase.auth.signOut(),children:"Sign Out"})})]})}async function addFile(e,i){const{data:s,error:o}=await supabase.storage.from("documents").upload(e,i);if(o)alert("Error uploading file."),console.error("Error uploading file: ",o);else{console.log("file successfully uploaded to "+e);try{let a="";await supabase.storage.from("documents").createSignedUrl(e,60).then(h=>{const g=h.data.signedUrl;console.log("signedUrl:",g),a=g}).catch(h=>{console.log("Error creating signed URL:",h)}),console.log("public url: "+a);const{data:c,error:d}=await supabase.functions.invoke("weaviate-client",{body:{type:"pdf",path:e,url:a}});if(d)throw d;console.log(c)}catch(a){console.error("An error occurred:",a)}}}async function addFolder(e){const s=`${e}/.tmp`;console.log("creating folder: "+e);const{data:o,error:a}=await supabase.storage.from("documents").upload(s,new Blob([""]),{upsert:!0});if(a){console.error("Error creating folder: ",a);return}}const FileUpload=e=>{const i=e.folderPath,s=e.onUpload,[o,a]=reactExports.useState(!1);console.log(i+" is the folder path");const c=async d=>{const h=d.target.files[0],g=h.name;console.log(g);const _=`${i}/${g}`;a(!0),await addFile(_,h),a(!1),s()};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{style:{color:"white"},children:"upload your file"}),jsxRuntimeExports.jsx("input",{type:"file",onChange:c,disabled:o}),o&&jsxRuntimeExports.jsx("p",{children:"Uploading..."})]})};function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(i,s){module.exports=s()})(globalThis,()=>(()=>{var __webpack_modules__=[,(e,i)=>{var _n;Object.defineProperty(i,"__esModule",{value:!0}),i.VerbosityLevel=i.Util=i.UnknownErrorException=i.UnexpectedResponseException=i.TextRenderingMode=i.RenderingIntentFlag=i.PromiseCapability=i.PermissionFlag=i.PasswordResponses=i.PasswordException=i.PageActionEventType=i.OPS=i.MissingPDFException=i.MAX_IMAGE_SIZE_TO_CACHE=i.LINE_FACTOR=i.LINE_DESCENT_FACTOR=i.InvalidPDFException=i.ImageKind=i.IDENTITY_MATRIX=i.FormatError=i.FeatureTest=i.FONT_IDENTITY_MATRIX=i.DocumentActionEventType=i.CMapCompressionType=i.BaseException=i.BASELINE_FACTOR=i.AnnotationType=i.AnnotationStateModelType=i.AnnotationReviewState=i.AnnotationReplyType=i.AnnotationMode=i.AnnotationMarkedState=i.AnnotationFlag=i.AnnotationFieldFlag=i.AnnotationEditorType=i.AnnotationEditorPrefix=i.AnnotationEditorParamsType=i.AnnotationBorderStyleType=i.AnnotationActionEventType=i.AbortException=void 0,i.assert=Kt,i.bytesToString=Ct,i.createValidAbsoluteUrl=an,i.getModificationDate=fn,i.getVerbosityLevel=Yt,i.info=Lt,i.isArrayBuffer=sn,i.isArrayEqual=dn,i.normalizeUnicode=yn,i.objectFromMap=Et,i.objectSize=yt,i.setVerbosityLevel=Wt,i.shadow=Ot,i.string32=ct,i.stringToBytes=_e,i.stringToPDFString=en,i.stringToUTF8String=Jt,i.unreachable=Xt,i.utf8StringToString=Zt,i.warn=jt;const s=[1,0,0,1,0,0];i.IDENTITY_MATRIX=s;const o=[.001,0,0,.001,0,0];i.FONT_IDENTITY_MATRIX=o;const a=1e7;i.MAX_IMAGE_SIZE_TO_CACHE=a;const c=1.35;i.LINE_FACTOR=c;const d=.35;i.LINE_DESCENT_FACTOR=d;const h=d/c;i.BASELINE_FACTOR=h;const g={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};i.RenderingIntentFlag=g;const _={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};i.AnnotationMode=_;const b="pdfjs_internal_editor_";i.AnnotationEditorPrefix=b;const $={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};i.AnnotationEditorType=$;const st={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};i.AnnotationEditorParamsType=st;const lt={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};i.PermissionFlag=lt;const nt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};i.TextRenderingMode=nt;const tt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};i.ImageKind=tt;const dt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};i.AnnotationType=dt;const et={MARKED:"Marked",REVIEW:"Review"};i.AnnotationStateModelType=et;const it={MARKED:"Marked",UNMARKED:"Unmarked"};i.AnnotationMarkedState=it;const rt={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};i.AnnotationReviewState=rt;const ut={GROUP:"Group",REPLY:"R"};i.AnnotationReplyType=ut;const _t={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};i.AnnotationFlag=_t;const At={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};i.AnnotationFieldFlag=At;const gt={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};i.AnnotationBorderStyleType=gt;const j={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};i.AnnotationActionEventType=j;const ot={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};i.DocumentActionEventType=ot;const pt={O:"PageOpen",C:"PageClose"};i.PageActionEventType=pt;const at={ERRORS:0,WARNINGS:1,INFOS:5};i.VerbosityLevel=at;const vt={NONE:0,BINARY:1};i.CMapCompressionType=vt;const kt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};i.OPS=kt;const bt={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};i.PasswordResponses=bt;let Mt=at.WARNINGS;function Wt(Qt){Number.isInteger(Qt)&&(Mt=Qt)}function Yt(){return Mt}function Lt(Qt){Mt>=at.INFOS&&console.log(`Info: ${Qt}`)}function jt(Qt){Mt>=at.WARNINGS&&console.log(`Warning: ${Qt}`)}function Xt(Qt){throw new Error(Qt)}function Kt(Qt,Nt){Qt||Xt(Nt)}function tn(Qt){switch(Qt==null?void 0:Qt.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function an(Qt,Nt=null,$t=null){if(!Qt)return null;try{if($t&&typeof Qt=="string"){if($t.addDefaultProtocol&&Qt.startsWith("www.")){const En=Qt.match(/\./g);(En==null?void 0:En.length)>=2&&(Qt=`http://${Qt}`)}if($t.tryConvertEncoding)try{Qt=Jt(Qt)}catch{}}const ln=Nt?new URL(Qt,Nt):new URL(Qt);if(tn(ln))return ln}catch{}return null}function Ot(Qt,Nt,$t,ln=!1){return Object.defineProperty(Qt,Nt,{value:$t,enumerable:!ln,configurable:!0,writable:!1}),$t}const ht=function(){function Nt($t,ln){this.constructor===Nt&&Xt("Cannot initialize BaseException."),this.message=$t,this.name=ln}return Nt.prototype=new Error,Nt.constructor=Nt,Nt}();i.BaseException=ht;class mt extends ht{constructor(Nt,$t){super(Nt,"PasswordException"),this.code=$t}}i.PasswordException=mt;class xt extends ht{constructor(Nt,$t){super(Nt,"UnknownErrorException"),this.details=$t}}i.UnknownErrorException=xt;class Rt extends ht{constructor(Nt){super(Nt,"InvalidPDFException")}}i.InvalidPDFException=Rt;class Pt extends ht{constructor(Nt){super(Nt,"MissingPDFException")}}i.MissingPDFException=Pt;class It extends ht{constructor(Nt,$t){super(Nt,"UnexpectedResponseException"),this.status=$t}}i.UnexpectedResponseException=It;class Tt extends ht{constructor(Nt){super(Nt,"FormatError")}}i.FormatError=Tt;class wt extends ht{constructor(Nt){super(Nt,"AbortException")}}i.AbortException=wt;function Ct(Qt){(typeof Qt!="object"||(Qt==null?void 0:Qt.length)===void 0)&&Xt("Invalid argument for bytesToString");const Nt=Qt.length,$t=8192;if(Nt<$t)return String.fromCharCode.apply(null,Qt);const ln=[];for(let En=0;En<Nt;En+=$t){const kn=Math.min(En+$t,Nt),Rn=Qt.subarray(En,kn);ln.push(String.fromCharCode.apply(null,Rn))}return ln.join("")}function _e(Qt){typeof Qt!="string"&&Xt("Invalid argument for stringToBytes");const Nt=Qt.length,$t=new Uint8Array(Nt);for(let ln=0;ln<Nt;++ln)$t[ln]=Qt.charCodeAt(ln)&255;return $t}function ct(Qt){return String.fromCharCode(Qt>>24&255,Qt>>16&255,Qt>>8&255,Qt&255)}function yt(Qt){return Object.keys(Qt).length}function Et(Qt){const Nt=Object.create(null);for(const[$t,ln]of Qt)Nt[$t]=ln;return Nt}function St(){const Qt=new Uint8Array(4);return Qt[0]=1,new Uint32Array(Qt.buffer,0,1)[0]===1}function Ft(){try{return new Function(""),!0}catch{return!1}}class Ht{static get isLittleEndian(){return Ot(this,"isLittleEndian",St())}static get isEvalSupported(){return Ot(this,"isEvalSupported",Ft())}static get isOffscreenCanvasSupported(){return Ot(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?Ot(this,"platform",{isWin:!1,isMac:!1}):Ot(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}}i.FeatureTest=Ht;const zt=[...Array(256).keys()].map(Qt=>Qt.toString(16).padStart(2,"0"));class Vt{static makeHexColor(Nt,$t,ln){return`#${zt[Nt]}${zt[$t]}${zt[ln]}`}static scaleMinMax(Nt,$t){let ln;Nt[0]?(Nt[0]<0&&(ln=$t[0],$t[0]=$t[1],$t[1]=ln),$t[0]*=Nt[0],$t[1]*=Nt[0],Nt[3]<0&&(ln=$t[2],$t[2]=$t[3],$t[3]=ln),$t[2]*=Nt[3],$t[3]*=Nt[3]):(ln=$t[0],$t[0]=$t[2],$t[2]=ln,ln=$t[1],$t[1]=$t[3],$t[3]=ln,Nt[1]<0&&(ln=$t[2],$t[2]=$t[3],$t[3]=ln),$t[2]*=Nt[1],$t[3]*=Nt[1],Nt[2]<0&&(ln=$t[0],$t[0]=$t[1],$t[1]=ln),$t[0]*=Nt[2],$t[1]*=Nt[2]),$t[0]+=Nt[4],$t[1]+=Nt[4],$t[2]+=Nt[5],$t[3]+=Nt[5]}static transform(Nt,$t){return[Nt[0]*$t[0]+Nt[2]*$t[1],Nt[1]*$t[0]+Nt[3]*$t[1],Nt[0]*$t[2]+Nt[2]*$t[3],Nt[1]*$t[2]+Nt[3]*$t[3],Nt[0]*$t[4]+Nt[2]*$t[5]+Nt[4],Nt[1]*$t[4]+Nt[3]*$t[5]+Nt[5]]}static applyTransform(Nt,$t){const ln=Nt[0]*$t[0]+Nt[1]*$t[2]+$t[4],En=Nt[0]*$t[1]+Nt[1]*$t[3]+$t[5];return[ln,En]}static applyInverseTransform(Nt,$t){const ln=$t[0]*$t[3]-$t[1]*$t[2],En=(Nt[0]*$t[3]-Nt[1]*$t[2]+$t[2]*$t[5]-$t[4]*$t[3])/ln,kn=(-Nt[0]*$t[1]+Nt[1]*$t[0]+$t[4]*$t[1]-$t[5]*$t[0])/ln;return[En,kn]}static getAxialAlignedBoundingBox(Nt,$t){const ln=Vt.applyTransform(Nt,$t),En=Vt.applyTransform(Nt.slice(2,4),$t),kn=Vt.applyTransform([Nt[0],Nt[3]],$t),Rn=Vt.applyTransform([Nt[2],Nt[1]],$t);return[Math.min(ln[0],En[0],kn[0],Rn[0]),Math.min(ln[1],En[1],kn[1],Rn[1]),Math.max(ln[0],En[0],kn[0],Rn[0]),Math.max(ln[1],En[1],kn[1],Rn[1])]}static inverseTransform(Nt){const $t=Nt[0]*Nt[3]-Nt[1]*Nt[2];return[Nt[3]/$t,-Nt[1]/$t,-Nt[2]/$t,Nt[0]/$t,(Nt[2]*Nt[5]-Nt[4]*Nt[3])/$t,(Nt[4]*Nt[1]-Nt[5]*Nt[0])/$t]}static singularValueDecompose2dScale(Nt){const $t=[Nt[0],Nt[2],Nt[1],Nt[3]],ln=Nt[0]*$t[0]+Nt[1]*$t[2],En=Nt[0]*$t[1]+Nt[1]*$t[3],kn=Nt[2]*$t[0]+Nt[3]*$t[2],Rn=Nt[2]*$t[1]+Nt[3]*$t[3],Tn=(ln+Rn)/2,zn=Math.sqrt((ln+Rn)**2-4*(ln*Rn-kn*En))/2,$n=Tn+zn||1,Ut=Tn-zn||1;return[Math.sqrt($n),Math.sqrt(Ut)]}static normalizeRect(Nt){const $t=Nt.slice(0);return Nt[0]>Nt[2]&&($t[0]=Nt[2],$t[2]=Nt[0]),Nt[1]>Nt[3]&&($t[1]=Nt[3],$t[3]=Nt[1]),$t}static intersect(Nt,$t){const ln=Math.max(Math.min(Nt[0],Nt[2]),Math.min($t[0],$t[2])),En=Math.min(Math.max(Nt[0],Nt[2]),Math.max($t[0],$t[2]));if(ln>En)return null;const kn=Math.max(Math.min(Nt[1],Nt[3]),Math.min($t[1],$t[3])),Rn=Math.min(Math.max(Nt[1],Nt[3]),Math.max($t[1],$t[3]));return kn>Rn?null:[ln,kn,En,Rn]}static bezierBoundingBox(Nt,$t,ln,En,kn,Rn,Tn,zn){const $n=[],Ut=[[],[]];let nn,cn,un,hn,mn,vn,gn,xn;for(let wn=0;wn<2;++wn){if(wn===0?(cn=6*Nt-12*ln+6*kn,nn=-3*Nt+9*ln-9*kn+3*Tn,un=3*ln-3*Nt):(cn=6*$t-12*En+6*Rn,nn=-3*$t+9*En-9*Rn+3*zn,un=3*En-3*$t),Math.abs(nn)<1e-12){if(Math.abs(cn)<1e-12)continue;hn=-un/cn,0<hn&&hn<1&&$n.push(hn);continue}gn=cn*cn-4*un*nn,xn=Math.sqrt(gn),!(gn<0)&&(mn=(-cn+xn)/(2*nn),0<mn&&mn<1&&$n.push(mn),vn=(-cn-xn)/(2*nn),0<vn&&vn<1&&$n.push(vn))}let bn=$n.length,Sn;const An=bn;for(;bn--;)hn=$n[bn],Sn=1-hn,Ut[0][bn]=Sn*Sn*Sn*Nt+3*Sn*Sn*hn*ln+3*Sn*hn*hn*kn+hn*hn*hn*Tn,Ut[1][bn]=Sn*Sn*Sn*$t+3*Sn*Sn*hn*En+3*Sn*hn*hn*Rn+hn*hn*hn*zn;return Ut[0][An]=Nt,Ut[1][An]=$t,Ut[0][An+1]=Tn,Ut[1][An+1]=zn,Ut[0].length=Ut[1].length=An+2,[Math.min(...Ut[0]),Math.min(...Ut[1]),Math.max(...Ut[0]),Math.max(...Ut[1])]}}i.Util=Vt;const qt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function en(Qt){if(Qt[0]>=""){let $t;if(Qt[0]===""&&Qt[1]===""?$t="utf-16be":Qt[0]===""&&Qt[1]===""?$t="utf-16le":Qt[0]===""&&Qt[1]===""&&Qt[2]===""&&($t="utf-8"),$t)try{const ln=new TextDecoder($t,{fatal:!0}),En=_e(Qt);return ln.decode(En)}catch(ln){jt(`stringToPDFString: "${ln}".`)}}const Nt=[];for(let $t=0,ln=Qt.length;$t<ln;$t++){const En=qt[Qt.charCodeAt($t)];Nt.push(En?String.fromCharCode(En):Qt.charAt($t))}return Nt.join("")}function Jt(Qt){return decodeURIComponent(escape(Qt))}function Zt(Qt){return unescape(encodeURIComponent(Qt))}function sn(Qt){return typeof Qt=="object"&&(Qt==null?void 0:Qt.byteLength)!==void 0}function dn(Qt,Nt){if(Qt.length!==Nt.length)return!1;for(let $t=0,ln=Qt.length;$t<ln;$t++)if(Qt[$t]!==Nt[$t])return!1;return!0}function fn(Qt=new Date){return[Qt.getUTCFullYear().toString(),(Qt.getUTCMonth()+1).toString().padStart(2,"0"),Qt.getUTCDate().toString().padStart(2,"0"),Qt.getUTCHours().toString().padStart(2,"0"),Qt.getUTCMinutes().toString().padStart(2,"0"),Qt.getUTCSeconds().toString().padStart(2,"0")].join("")}class pn{constructor(){Bt(this,_n,!1);this.promise=new Promise((Nt,$t)=>{this.resolve=ln=>{rn(this,_n,!0),Nt(ln)},this.reject=ln=>{rn(this,_n,!0),$t(ln)}})}get settled(){return ft(this,_n)}}_n=new WeakMap,i.PromiseCapability=pn;let Dt=null,on=null;function yn(Qt){return Dt||(Dt=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,on=new Map([["","t"]])),Qt.replaceAll(Dt,(Nt,$t,ln)=>$t?$t.normalize("NFKC"):on.get(ln))}},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var e,s,o,a,Hn,d,tr,g,_,b,$,st,lt,nt,tt,lr,et,it,cr,ut,_t;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_is_node=__w_pdfjs_require__(10),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_xfa_text=__w_pdfjs_require__(19);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultFilterFactory=_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:gt,NodeCMapReaderFactory:j,NodeFilterFactory:ot,NodeStandardFontDataFactory:pt}=__w_pdfjs_require__(20);exports.DefaultCanvasFactory=DefaultCanvasFactory=gt,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=j,exports.DefaultFilterFactory=DefaultFilterFactory=ot,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=pt}let createPDFNetworkStream;if(_is_node.isNodeJS){const{PDFNodeStream:gt}=__w_pdfjs_require__(21);createPDFNetworkStream=j=>new gt(j)}else{const{PDFNetworkStream:gt}=__w_pdfjs_require__(24),{PDFFetchStream:j}=__w_pdfjs_require__(25);createPDFNetworkStream=ot=>(0,_display_utils.isValidFetchUrl)(ot.url)?new j(ot):new gt(ot)}function getDocument(gt){if(typeof gt=="string"||gt instanceof URL?gt={url:gt}:(0,_util.isArrayBuffer)(gt)&&(gt={data:gt}),typeof gt!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!gt.url&&!gt.data&&!gt.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const j=new PDFDocumentLoadingTask,{docId:ot}=j,pt=gt.url?getUrlProp(gt.url):null,at=gt.data?getDataProp(gt.data):null,vt=gt.httpHeaders||null,kt=gt.withCredentials===!0,bt=gt.password??null,Mt=gt.range instanceof PDFDataRangeTransport?gt.range:null,Wt=Number.isInteger(gt.rangeChunkSize)&&gt.rangeChunkSize>0?gt.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let Yt=gt.worker instanceof PDFWorker?gt.worker:null;const Lt=gt.verbosity,jt=typeof gt.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(gt.docBaseUrl)?gt.docBaseUrl:null,Xt=typeof gt.cMapUrl=="string"?gt.cMapUrl:null,Kt=gt.cMapPacked!==!1,tn=gt.CMapReaderFactory||DefaultCMapReaderFactory,an=typeof gt.standardFontDataUrl=="string"?gt.standardFontDataUrl:null,Ot=gt.StandardFontDataFactory||DefaultStandardFontDataFactory,ht=gt.stopAtErrors!==!0,mt=Number.isInteger(gt.maxImageSize)&&gt.maxImageSize>-1?gt.maxImageSize:-1,xt=gt.isEvalSupported!==!1,Rt=typeof gt.isOffscreenCanvasSupported=="boolean"?gt.isOffscreenCanvasSupported:!_is_node.isNodeJS,Pt=Number.isInteger(gt.canvasMaxAreaInBytes)?gt.canvasMaxAreaInBytes:-1,It=typeof gt.disableFontFace=="boolean"?gt.disableFontFace:_is_node.isNodeJS,Tt=gt.fontExtraProperties===!0,wt=gt.enableXfa===!0,Ct=gt.ownerDocument||globalThis.document,_e=gt.disableRange===!0,ct=gt.disableStream===!0,yt=gt.disableAutoFetch===!0,Et=gt.pdfBug===!0,St=Mt?Mt.length:gt.length??NaN,Ft=typeof gt.useSystemFonts=="boolean"?gt.useSystemFonts:!_is_node.isNodeJS&&!It,Ht=typeof gt.useWorkerFetch=="boolean"?gt.useWorkerFetch:tn===_display_utils.DOMCMapReaderFactory&&Ot===_display_utils.DOMStandardFontDataFactory&&(0,_display_utils.isValidFetchUrl)(Xt,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(an,document.baseURI),zt=gt.canvasFactory||new DefaultCanvasFactory({ownerDocument:Ct}),Vt=gt.filterFactory||new DefaultFilterFactory({docId:ot,ownerDocument:Ct}),qt=null;(0,_util.setVerbosityLevel)(Lt);const en={canvasFactory:zt,filterFactory:Vt};if(Ht||(en.cMapReaderFactory=new tn({baseUrl:Xt,isCompressed:Kt}),en.standardFontDataFactory=new Ot({baseUrl:an})),!Yt){const sn={verbosity:Lt,port:_worker_options.GlobalWorkerOptions.workerPort};Yt=sn.port?PDFWorker.fromPort(sn):new PDFWorker(sn),j._worker=Yt}const Jt={docId:ot,apiVersion:"3.7.107",data:at,password:bt,disableAutoFetch:yt,rangeChunkSize:Wt,length:St,docBaseUrl:jt,enableXfa:wt,evaluatorOptions:{maxImageSize:mt,disableFontFace:It,ignoreErrors:ht,isEvalSupported:xt,isOffscreenCanvasSupported:Rt,canvasMaxAreaInBytes:Pt,fontExtraProperties:Tt,useSystemFonts:Ft,cMapUrl:Ht?Xt:null,standardFontDataUrl:Ht?an:null}},Zt={ignoreErrors:ht,isEvalSupported:xt,disableFontFace:It,fontExtraProperties:Tt,enableXfa:wt,ownerDocument:Ct,disableAutoFetch:yt,pdfBug:Et,styleElement:qt};return Yt.promise.then(function(){if(j.destroyed)throw new Error("Loading aborted");const sn=_fetchDocument(Yt,Jt),dn=new Promise(function(fn){let pn;Mt?pn=new _transport_stream.PDFDataTransportStream({length:St,initialData:Mt.initialData,progressiveDone:Mt.progressiveDone,contentDispositionFilename:Mt.contentDispositionFilename,disableRange:_e,disableStream:ct},Mt):at||(pn=createPDFNetworkStream({url:pt,length:St,httpHeaders:vt,withCredentials:kt,rangeChunkSize:Wt,disableRange:_e,disableStream:ct})),fn(pn)});return Promise.all([sn,dn]).then(function([fn,pn]){if(j.destroyed)throw new Error("Loading aborted");const Dt=new _message_handler.MessageHandler(ot,fn,Yt.port),on=new WorkerTransport(Dt,j,pn,Zt,en);j._transport=on,Dt.send("Ready",null)})}).catch(j._capability.reject),j}async function _fetchDocument(gt,j){if(gt.destroyed)throw new Error("Worker was destroyed");const ot=await gt.messageHandler.sendWithPromise("GetDocRequest",j,j.data?[j.data.buffer]:null);if(gt.destroyed)throw new Error("Worker was destroyed");return ot}function getUrlProp(gt){if(gt instanceof URL)return gt.href;try{return new URL(gt,window.location).href}catch{if(_is_node.isNodeJS&&typeof gt=="string")return gt}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(gt){if(_is_node.isNodeJS&&typeof Buffer<"u"&&gt instanceof Buffer)return(0,_display_utils.deprecated)("Please provide binary data as `Uint8Array`, rather than `Buffer`."),new Uint8Array(gt);if(gt instanceof Uint8Array&&gt.byteLength===gt.buffer.byteLength)return gt;if(typeof gt=="string")return(0,_util.stringToBytes)(gt);if(typeof gt=="object"&&!isNaN(gt==null?void 0:gt.length)||(0,_util.isArrayBuffer)(gt))return new Uint8Array(gt);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const i=class{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${er(i,e)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var j;this.destroyed=!0,await((j=this._transport)==null?void 0:j.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};let PDFDocumentLoadingTask=i;e=new WeakMap,Bt(PDFDocumentLoadingTask,e,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(j,ot,pt=!1,at=null){this.length=j,this.initialData=ot,this.progressiveDone=pt,this.contentDispositionFilename=at,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(j){this._rangeListeners.push(j)}addProgressListener(j){this._progressListeners.push(j)}addProgressiveReadListener(j){this._progressiveReadListeners.push(j)}addProgressiveDoneListener(j){this._progressiveDoneListeners.push(j)}onDataRange(j,ot){for(const pt of this._rangeListeners)pt(j,ot)}onDataProgress(j,ot){this._readyCapability.promise.then(()=>{for(const pt of this._progressListeners)pt(j,ot)})}onDataProgressiveRead(j){this._readyCapability.promise.then(()=>{for(const ot of this._progressiveReadListeners)ot(j)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const j of this._progressiveDoneListeners)j()})}transportReady(){this._readyCapability.resolve()}requestDataRange(j,ot){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(j,ot){this._pdfInfo=j,this._transport=ot}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(j){return this._transport.getPage(j)}getPageIndex(j){return this._transport.getPageIndex(j)}getDestinations(){return this._transport.getDestinations()}getDestination(j){return this._transport.getDestination(j)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(j=!1){return this._transport.startCleanup(j||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(j,ot,pt,at=!1){Bt(this,a);Bt(this,d);Bt(this,s,null);Bt(this,o,!1);this._pageIndex=j,this._pageInfo=ot,this._transport=pt,this._stats=at?new _display_utils.StatTimer:null,this._pdfBug=at,this.commonObjs=pt.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:j,rotation:ot=this.rotate,offsetX:pt=0,offsetY:at=0,dontFlip:vt=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:j,rotation:ot,offsetX:pt,offsetY:at,dontFlip:vt})}getAnnotations({intent:j="display"}={}){const ot=this._transport.getRenderingIntent(j);return this._transport.getAnnotations(this._pageIndex,ot.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var j;return((j=this._transport._htmlForXfa)==null?void 0:j.children[this._pageIndex])||null}render({canvasContext:j,viewport:ot,intent:pt="display",annotationMode:at=_util.AnnotationMode.ENABLE,transform:vt=null,background:kt=null,optionalContentConfigPromise:bt=null,annotationCanvasMap:Mt=null,pageColors:Wt=null,printAnnotationStorage:Yt=null}){var Ot,ht,mt;if((Ot=arguments[0])!=null&&Ot.canvasFactory)throw new Error("render no longer accepts the `canvasFactory`-option, please pass it to the `getDocument`-function instead.");(ht=this._stats)==null||ht.time("Overall");const Lt=this._transport.getRenderingIntent(pt,at,Yt);rn(this,o,!1),Gt(this,d,tr).call(this),bt||(bt=this._transport.getOptionalContentConfig());let jt=this._intentStates.get(Lt.cacheKey);jt||(jt=Object.create(null),this._intentStates.set(Lt.cacheKey,jt)),jt.streamReaderCancelTimeout&&(clearTimeout(jt.streamReaderCancelTimeout),jt.streamReaderCancelTimeout=null);const Xt=!!(Lt.renderingIntent&_util.RenderingIntentFlag.PRINT);jt.displayReadyCapability||(jt.displayReadyCapability=new _util.PromiseCapability,jt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(mt=this._stats)==null||mt.time("Page Request"),this._pumpOperatorList(Lt));const Kt=xt=>{var Rt,Pt;jt.renderTasks.delete(tn),(this._maybeCleanupAfterRender||Xt)&&rn(this,o,!0),Gt(this,a,Hn).call(this,!Xt),xt?(tn.capability.reject(xt),this._abortOperatorList({intentState:jt,reason:xt instanceof Error?xt:new Error(xt)})):tn.capability.resolve(),(Rt=this._stats)==null||Rt.timeEnd("Rendering"),(Pt=this._stats)==null||Pt.timeEnd("Overall")},tn=new InternalRenderTask({callback:Kt,params:{canvasContext:j,viewport:ot,transform:vt,background:kt},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Mt,operatorList:jt.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Xt,pdfBug:this._pdfBug,pageColors:Wt});(jt.renderTasks||(jt.renderTasks=new Set)).add(tn);const an=tn.task;return Promise.all([jt.displayReadyCapability.promise,bt]).then(([xt,Rt])=>{var Pt;if(ft(this,o)){Kt();return}(Pt=this._stats)==null||Pt.time("Rendering"),tn.initializeGraphics({transparency:xt,optionalContentConfig:Rt}),tn.operatorListChanged()}).catch(Kt),an}getOperatorList({intent:j="display",annotationMode:ot=_util.AnnotationMode.ENABLE,printAnnotationStorage:pt=null}={}){var Mt;function at(){kt.operatorList.lastChunk&&(kt.opListReadCapability.resolve(kt.operatorList),kt.renderTasks.delete(bt))}const vt=this._transport.getRenderingIntent(j,ot,pt,!0);let kt=this._intentStates.get(vt.cacheKey);kt||(kt=Object.create(null),this._intentStates.set(vt.cacheKey,kt));let bt;return kt.opListReadCapability||(bt=Object.create(null),bt.operatorListChanged=at,kt.opListReadCapability=new _util.PromiseCapability,(kt.renderTasks||(kt.renderTasks=new Set)).add(bt),kt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Mt=this._stats)==null||Mt.time("Page Request"),this._pumpOperatorList(vt)),kt.opListReadCapability.promise}streamTextContent({includeMarkedContent:j=!1,disableNormalization:ot=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:j===!0,disableNormalization:ot===!0},{highWaterMark:100,size(at){return at.items.length}})}getTextContent(j={}){if(this._transport._htmlForXfa)return this.getXfa().then(pt=>_xfa_text.XfaText.textContent(pt));const ot=this.streamTextContent(j);return new Promise(function(pt,at){function vt(){kt.read().then(function({value:Mt,done:Wt}){if(Wt){pt(bt);return}Object.assign(bt.styles,Mt.styles),bt.items.push(...Mt.items),vt()},at)}const kt=ot.getReader(),bt={items:[],styles:Object.create(null)};vt()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const j=[];for(const ot of this._intentStates.values())if(this._abortOperatorList({intentState:ot,reason:new Error("Page was destroyed."),force:!0}),!ot.opListReadCapability)for(const pt of ot.renderTasks)j.push(pt.completed),pt.cancel();return this.objs.clear(),rn(this,o,!1),Gt(this,d,tr).call(this),Promise.all(j)}cleanup(j=!1){rn(this,o,!0);const ot=Gt(this,a,Hn).call(this,!1);return j&&ot&&this._stats&&(this._stats=new _display_utils.StatTimer),ot}_startRenderPage(j,ot){var at,vt;const pt=this._intentStates.get(ot);pt&&((at=this._stats)==null||at.timeEnd("Page Request"),(vt=pt.displayReadyCapability)==null||vt.resolve(j))}_renderPageChunk(j,ot){for(let pt=0,at=j.length;pt<at;pt++)ot.operatorList.fnArray.push(j.fnArray[pt]),ot.operatorList.argsArray.push(j.argsArray[pt]);ot.operatorList.lastChunk=j.lastChunk,ot.operatorList.separateAnnots=j.separateAnnots;for(const pt of ot.renderTasks)pt.operatorListChanged();j.lastChunk&&Gt(this,a,Hn).call(this,!0)}_pumpOperatorList({renderingIntent:j,cacheKey:ot,annotationStorageMap:pt}){const vt=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:j,cacheKey:ot,annotationStorage:pt}).getReader(),kt=this._intentStates.get(ot);kt.streamReader=vt;const bt=()=>{vt.read().then(({value:Mt,done:Wt})=>{if(Wt){kt.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Mt,kt),bt())},Mt=>{if(kt.streamReader=null,!this._transport.destroyed){if(kt.operatorList){kt.operatorList.lastChunk=!0;for(const Wt of kt.renderTasks)Wt.operatorListChanged();Gt(this,a,Hn).call(this,!0)}if(kt.displayReadyCapability)kt.displayReadyCapability.reject(Mt);else if(kt.opListReadCapability)kt.opListReadCapability.reject(Mt);else throw Mt}})};bt()}_abortOperatorList({intentState:j,reason:ot,force:pt=!1}){if(j.streamReader){if(j.streamReaderCancelTimeout&&(clearTimeout(j.streamReaderCancelTimeout),j.streamReaderCancelTimeout=null),!pt){if(j.renderTasks.size>0)return;if(ot instanceof _display_utils.RenderingCancelledException){let at=RENDERING_CANCELLED_TIMEOUT;ot.extraDelay>0&&ot.extraDelay<1e3&&(at+=ot.extraDelay),j.streamReaderCancelTimeout=setTimeout(()=>{j.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:j,reason:ot,force:!0})},at);return}}if(j.streamReader.cancel(new _util.AbortException(ot.message)).catch(()=>{}),j.streamReader=null,!this._transport.destroyed){for(const[at,vt]of this._intentStates)if(vt===j){this._intentStates.delete(at);break}this.cleanup()}}}get stats(){return this._stats}}s=new WeakMap,o=new WeakMap,a=new WeakSet,Hn=function(j=!1){if(Gt(this,d,tr).call(this),!ft(this,o))return!1;if(j)return rn(this,s,setTimeout(()=>{rn(this,s,null),Gt(this,a,Hn).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:ot,operatorList:pt}of this._intentStates.values())if(ot.size>0||!pt.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),rn(this,o,!1),!0},d=new WeakSet,tr=function(){ft(this,s)&&(clearTimeout(ft(this,s)),rn(this,s,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Bt(this,g,new Set);Bt(this,_,Promise.resolve())}postMessage(j,ot){const pt={data:structuredClone(j,ot?{transfer:ot}:null)};ft(this,_).then(()=>{for(const at of ft(this,g))at.call(this,pt)})}addEventListener(j,ot){ft(this,g).add(ot)}removeEventListener(j,ot){ft(this,g).delete(ot)}terminate(){ft(this,g).clear()}}g=new WeakMap,_=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const gt=(b=document==null?void 0:document.currentScript)==null?void 0:b.src;gt&&(PDFWorkerUtil.fallbackWorkerSrc=gt.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(gt,j){let ot;try{if(ot=new URL(gt),!ot.origin||ot.origin==="null")return!1}catch{return!1}const pt=new URL(j,ot);return ot.origin===pt.origin},PDFWorkerUtil.createCDNWrapper=function(gt){const j=`importScripts("${gt}");`;return URL.createObjectURL(new Blob([j]))}}const _PDFWorker=class{constructor({name:gt=null,port:j=null,verbosity:ot=(0,_util.getVerbosityLevel)()}={}){if(j&&ft(_PDFWorker,$).has(j))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=gt,this.destroyed=!1,this.verbosity=ot,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,j){ft(_PDFWorker,$).set(j,this),this._initializeFromPort(j);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(gt){this._port=gt,this._messageHandler=new _message_handler.MessageHandler("main","worker",gt),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:gt}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,gt)||(gt=PDFWorkerUtil.createCDNWrapper(new URL(gt,window.location).href));const j=new Worker(gt),ot=new _message_handler.MessageHandler("main","worker",j),pt=()=>{j.removeEventListener("error",at),ot.destroy(),j.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},at=()=>{this._webWorker||pt()};j.addEventListener("error",at),ot.on("test",kt=>{if(j.removeEventListener("error",at),this.destroyed){pt();return}kt?(this._messageHandler=ot,this._port=j,this._webWorker=j,this._readyCapability.resolve(),ot.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),ot.destroy(),j.terminate())}),ot.on("ready",kt=>{if(j.removeEventListener("error",at),this.destroyed){pt();return}try{vt()}catch{this._setupFakeWorker()}});const vt=()=>{const kt=new Uint8Array;ot.send("test",kt,[kt.buffer])};vt();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(gt=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const j=new LoopbackPort;this._port=j;const ot=`fake${PDFWorkerUtil.fakeWorkerId++}`,pt=new _message_handler.MessageHandler(ot+"_worker",ot,j);gt.setup(pt,j);const at=new _message_handler.MessageHandler(ot,ot+"_worker",j);this._messageHandler=at,this._readyCapability.resolve(),at.send("configure",{verbosity:this.verbosity})}).catch(gt=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${gt.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),ft(_PDFWorker,$).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(gt){if(!(gt!=null&&gt.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return ft(this,$).has(gt.port)?ft(this,$).get(gt.port):new _PDFWorker(gt)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var gt;try{return((gt=globalThis.pdfjsWorker)==null?void 0:gt.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;$=new WeakMap,Bt(PDFWorker,$,new WeakMap),exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(j,ot,pt,at,vt){Bt(this,tt);Bt(this,st,new Map);Bt(this,lt,new Map);Bt(this,nt,new Map);this.messageHandler=j,this.loadingTask=ot,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:at.ownerDocument,styleElement:at.styleElement}),this._params=at,this.canvasFactory=vt.canvasFactory,this.filterFactory=vt.filterFactory,this.cMapReaderFactory=vt.cMapReaderFactory,this.standardFontDataFactory=vt.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=pt,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(j,ot=_util.AnnotationMode.ENABLE,pt=null,at=!1){let vt=_util.RenderingIntentFlag.DISPLAY,kt=null;switch(j){case"any":vt=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":vt=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${j}`)}switch(ot){case _util.AnnotationMode.DISABLE:vt+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:vt+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:vt+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,kt=(vt&_util.RenderingIntentFlag.PRINT&&pt instanceof _annotation_storage.PrintAnnotationStorage?pt:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${ot}`)}return at&&(vt+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:vt,cacheKey:`${vt}_${_annotation_storage.AnnotationStorage.getHash(kt)}`,annotationStorageMap:kt}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const j=[];for(const pt of ft(this,lt).values())j.push(pt._destroy());ft(this,lt).clear(),ft(this,nt).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const ot=this.messageHandler.sendWithPromise("Terminate",null);return j.push(ot),Promise.all(j).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),ft(this,st).clear(),this.filterFactory.destroy(),this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:j,loadingTask:ot}=this;j.on("GetReader",(pt,at)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=vt=>{this._lastProgress={loaded:vt.loaded,total:vt.total}},at.onPull=()=>{this._fullReader.read().then(function({value:vt,done:kt}){if(kt){at.close();return}(0,_util.assert)(vt instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),at.enqueue(new Uint8Array(vt),1,[vt])}).catch(vt=>{at.error(vt)})},at.onCancel=vt=>{this._fullReader.cancel(vt),at.ready.catch(kt=>{if(!this.destroyed)throw kt})}}),j.on("ReaderHeadersReady",pt=>{const at=new _util.PromiseCapability,vt=this._fullReader;return vt.headersReady.then(()=>{var kt;(!vt.isStreamingSupported||!vt.isRangeSupported)&&(this._lastProgress&&((kt=ot.onProgress)==null||kt.call(ot,this._lastProgress)),vt.onProgress=bt=>{var Mt;(Mt=ot.onProgress)==null||Mt.call(ot,{loaded:bt.loaded,total:bt.total})}),at.resolve({isStreamingSupported:vt.isStreamingSupported,isRangeSupported:vt.isRangeSupported,contentLength:vt.contentLength})},at.reject),at.promise}),j.on("GetRangeReader",(pt,at)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const vt=this._networkStream.getRangeReader(pt.begin,pt.end);if(!vt){at.close();return}at.onPull=()=>{vt.read().then(function({value:kt,done:bt}){if(bt){at.close();return}(0,_util.assert)(kt instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),at.enqueue(new Uint8Array(kt),1,[kt])}).catch(kt=>{at.error(kt)})},at.onCancel=kt=>{vt.cancel(kt),at.ready.catch(bt=>{if(!this.destroyed)throw bt})}}),j.on("GetDoc",({pdfInfo:pt})=>{this._numPages=pt.numPages,this._htmlForXfa=pt.htmlForXfa,delete pt.htmlForXfa,ot._capability.resolve(new PDFDocumentProxy(pt,this))}),j.on("DocException",function(pt){let at;switch(pt.name){case"PasswordException":at=new _util.PasswordException(pt.message,pt.code);break;case"InvalidPDFException":at=new _util.InvalidPDFException(pt.message);break;case"MissingPDFException":at=new _util.MissingPDFException(pt.message);break;case"UnexpectedResponseException":at=new _util.UnexpectedResponseException(pt.message,pt.status);break;case"UnknownErrorException":at=new _util.UnknownErrorException(pt.message,pt.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}ot._capability.reject(at)}),j.on("PasswordRequest",pt=>{if(this._passwordCapability=new _util.PromiseCapability,ot.onPassword){const at=vt=>{vt instanceof Error?this._passwordCapability.reject(vt):this._passwordCapability.resolve({password:vt})};try{ot.onPassword(at,pt.code)}catch(vt){this._passwordCapability.reject(vt)}}else this._passwordCapability.reject(new _util.PasswordException(pt.message,pt.code));return this._passwordCapability.promise}),j.on("DataLoaded",pt=>{var at;(at=ot.onProgress)==null||at.call(ot,{loaded:pt.length,total:pt.length}),this.downloadInfoCapability.resolve(pt)}),j.on("StartRenderPage",pt=>{if(this.destroyed)return;ft(this,lt).get(pt.pageIndex)._startRenderPage(pt.transparency,pt.cacheKey)}),j.on("commonobj",([pt,at,vt])=>{var kt;if(!this.destroyed&&!this.commonObjs.has(pt))switch(at){case"Font":const bt=this._params;if("error"in vt){const Yt=vt.error;(0,_util.warn)(`Error during font loading: ${Yt}`),this.commonObjs.resolve(pt,Yt);break}const Mt=bt.pdfBug&&((kt=globalThis.FontInspector)!=null&&kt.enabled)?(Yt,Lt)=>globalThis.FontInspector.fontAdded(Yt,Lt):null,Wt=new _font_loader.FontFaceObject(vt,{isEvalSupported:bt.isEvalSupported,disableFontFace:bt.disableFontFace,ignoreErrors:bt.ignoreErrors,inspectFont:Mt});this.fontLoader.bind(Wt).catch(Yt=>j.sendWithPromise("FontFallback",{id:pt})).finally(()=>{!bt.fontExtraProperties&&Wt.data&&(Wt.data=null),this.commonObjs.resolve(pt,Wt)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(pt,vt);break;default:throw new Error(`Got unknown common object type ${at}`)}}),j.on("obj",([pt,at,vt,kt])=>{var Mt;if(this.destroyed)return;const bt=ft(this,lt).get(at);if(!bt.objs.has(pt))switch(vt){case"Image":if(bt.objs.resolve(pt,kt),kt){let Wt;if(kt.bitmap){const{width:Yt,height:Lt}=kt;Wt=Yt*Lt*4}else Wt=((Mt=kt.data)==null?void 0:Mt.length)||0;Wt>_util.MAX_IMAGE_SIZE_TO_CACHE&&(bt._maybeCleanupAfterRender=!0)}break;case"Pattern":bt.objs.resolve(pt,kt);break;default:throw new Error(`Got unknown object type ${vt}`)}}),j.on("DocProgress",pt=>{var at;this.destroyed||(at=ot.onProgress)==null||at.call(ot,{loaded:pt.loaded,total:pt.total})}),j.on("FetchBuiltInCMap",pt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(pt):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),j.on("FetchStandardFontData",pt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(pt):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var j;return this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:((j=this._fullReader)==null?void 0:j.filename)??null}).finally(()=>{this.annotationStorage.resetModified()})}getPage(j){if(!Number.isInteger(j)||j<=0||j>this._numPages)return Promise.reject(new Error("Invalid page request."));const ot=j-1,pt=ft(this,nt).get(ot);if(pt)return pt;const at=this.messageHandler.sendWithPromise("GetPage",{pageIndex:ot}).then(vt=>{if(this.destroyed)throw new Error("Transport destroyed");const kt=new PDFPageProxy(ot,vt,this,this._params.pdfBug);return ft(this,lt).set(ot,kt),kt});return ft(this,nt).set(ot,at),at}getPageIndex(j){return typeof j!="object"||j===null||!Number.isInteger(j.num)||j.num<0||!Number.isInteger(j.gen)||j.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:j.num,gen:j.gen})}getAnnotations(j,ot){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:j,intent:ot})}getFieldObjects(){return Gt(this,tt,lr).call(this,"GetFieldObjects")}hasJSActions(){return Gt(this,tt,lr).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(j){return typeof j!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:j})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(j){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:j})}getStructTree(j){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:j})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(j=>new _optional_content_config.OptionalContentConfig(j))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const j="GetMetadata",ot=ft(this,st).get(j);if(ot)return ot;const pt=this.messageHandler.sendWithPromise(j,null).then(at=>{var vt,kt;return{info:at[0],metadata:at[1]?new _metadata.Metadata(at[1]):null,contentDispositionFilename:((vt=this._fullReader)==null?void 0:vt.filename)??null,contentLength:((kt=this._fullReader)==null?void 0:kt.contentLength)??null}});return ft(this,st).set(j,pt),pt}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(j=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const ot of ft(this,lt).values())if(!ot.cleanup())throw new Error(`startCleanup: Page ${ot.pageNumber} is currently rendering.`);this.commonObjs.clear(),j||this.fontLoader.clear(),ft(this,st).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:j,enableXfa:ot}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:j,enableXfa:ot})}}st=new WeakMap,lt=new WeakMap,nt=new WeakMap,tt=new WeakSet,lr=function(j,ot=null){const pt=ft(this,st).get(j);if(pt)return pt;const at=this.messageHandler.sendWithPromise(j,ot);return ft(this,st).set(j,at),at};class PDFObjects{constructor(){Bt(this,it);Bt(this,et,Object.create(null))}get(j,ot=null){if(ot){const at=Gt(this,it,cr).call(this,j);return at.capability.promise.then(()=>ot(at.data)),null}const pt=ft(this,et)[j];if(!(pt!=null&&pt.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${j}.`);return pt.data}has(j){const ot=ft(this,et)[j];return(ot==null?void 0:ot.capability.settled)||!1}resolve(j,ot=null){const pt=Gt(this,it,cr).call(this,j);pt.data=ot,pt.capability.resolve()}clear(){var j;for(const ot in ft(this,et)){const{data:pt}=ft(this,et)[ot];(j=pt==null?void 0:pt.bitmap)==null||j.close()}rn(this,et,Object.create(null))}}et=new WeakMap,it=new WeakSet,cr=function(j){const ot=ft(this,et)[j];return ot||(ft(this,et)[j]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(j){Bt(this,ut,null);rn(this,ut,j),this.onContinue=null}get promise(){return ft(this,ut).capability.promise}cancel(j=0){ft(this,ut).cancel(null,j)}get separateAnnots(){const{separateAnnots:j}=ft(this,ut).operatorList;if(!j)return!1;const{annotationCanvasMap:ot}=ft(this,ut);return j.form||j.canvas&&(ot==null?void 0:ot.size)>0}}ut=new WeakMap,exports.RenderTask=RenderTask;const At=class{constructor({callback:j,params:ot,objs:pt,commonObjs:at,annotationCanvasMap:vt,operatorList:kt,pageIndex:bt,canvasFactory:Mt,filterFactory:Wt,useRequestAnimationFrame:Yt=!1,pdfBug:Lt=!1,pageColors:jt=null}){this.callback=j,this.params=ot,this.objs=pt,this.commonObjs=at,this.annotationCanvasMap=vt,this.operatorListIdx=null,this.operatorList=kt,this._pageIndex=bt,this.canvasFactory=Mt,this.filterFactory=Wt,this._pdfBug=Lt,this.pageColors=jt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Yt===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=ot.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:j=!1,optionalContentConfig:ot}){var bt,Mt;if(this.cancelled)return;if(this._canvas){if(ft(At,_t).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");ft(At,_t).add(this._canvas)}this._pdfBug&&((bt=globalThis.StepperManager)!=null&&bt.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:pt,viewport:at,transform:vt,background:kt}=this.params;this.gfx=new _canvas.CanvasGraphics(pt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:ot},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:vt,viewport:at,transparency:j,background:kt}),this.operatorListIdx=0,this.graphicsReady=!0,(Mt=this.graphicsReadyCallback)==null||Mt.call(this)}cancel(j=null,ot=0){var pt;this.running=!1,this.cancelled=!0,(pt=this.gfx)==null||pt.endDrawing(),this._canvas&&ft(At,_t).delete(this._canvas),this.callback(j||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas",ot))}operatorListChanged(){var j;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(j=this.stepper)==null||j.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(this.pageColors),this._canvas&&ft(At,_t).delete(this._canvas),this.callback())))}};let InternalRenderTask=At;_t=new WeakMap,Bt(InternalRenderTask,_t,new WeakSet);const version="3.7.107";exports.version=version;const build="036f855dc";exports.build=build},(e,i,s)=>{var g,_,b,Rr,st;Object.defineProperty(i,"__esModule",{value:!0}),i.PrintAnnotationStorage=i.AnnotationStorage=void 0;var o=s(1),a=s(4),c=s(8);class d{constructor(){Bt(this,b);Bt(this,g,!1);Bt(this,_,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(nt,tt){const dt=ft(this,_).get(nt);return dt===void 0?tt:Object.assign(tt,dt)}getRawValue(nt){return ft(this,_).get(nt)}remove(nt){if(ft(this,_).delete(nt),ft(this,_).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const tt of ft(this,_).values())if(tt instanceof a.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(nt,tt){const dt=ft(this,_).get(nt);let et=!1;if(dt!==void 0)for(const[it,rt]of Object.entries(tt))dt[it]!==rt&&(et=!0,dt[it]=rt);else et=!0,ft(this,_).set(nt,tt);et&&Gt(this,b,Rr).call(this),tt instanceof a.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(tt.constructor._type)}has(nt){return ft(this,_).has(nt)}getAll(){return ft(this,_).size>0?(0,o.objectFromMap)(ft(this,_)):null}setAll(nt){for(const[tt,dt]of Object.entries(nt))this.setValue(tt,dt)}get size(){return ft(this,_).size}resetModified(){ft(this,g)&&(rn(this,g,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new h(this)}get serializable(){if(ft(this,_).size===0)return null;const nt=new Map;for(const[tt,dt]of ft(this,_)){const et=dt instanceof a.AnnotationEditor?dt.serialize():dt;et&&nt.set(tt,et)}return nt}static getHash(nt){if(!nt)return"";const tt=new c.MurmurHash3_64;for(const[dt,et]of nt)tt.update(`${dt}:${JSON.stringify(et)}`);return tt.hexdigest()}}g=new WeakMap,_=new WeakMap,b=new WeakSet,Rr=function(){ft(this,g)||(rn(this,g,!0),typeof this.onSetModified=="function"&&this.onSetModified())},i.AnnotationStorage=d;class h extends d{constructor(tt){super();Bt(this,st,null);rn(this,st,structuredClone(tt.serializable))}get print(){(0,o.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return ft(this,st)}}st=new WeakMap,i.PrintAnnotationStorage=h},(e,i,s)=>{var d,h,g,_,b,$;Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditor=void 0;var o=s(5),a=s(1);const st=class{constructor(nt){Bt(this,d,this.focusin.bind(this));Bt(this,h,this.focusout.bind(this));Bt(this,g,!1);Bt(this,_,!1);Bt(this,b,!1);Cn(this,"_uiManager",null);Bt(this,$,st._zIndex++);this.constructor===st&&(0,a.unreachable)("Cannot initialize AnnotationEditor."),this.parent=nt.parent,this.id=nt.id,this.width=this.height=null,this.pageIndex=nt.parent.pageIndex,this.name=nt.name,this.div=null,this._uiManager=nt.uiManager;const{rotation:tt,rawDims:{pageWidth:dt,pageHeight:et,pageX:it,pageY:rt}}=this.parent.viewport;this.rotation=tt,this.pageRotation=(360+tt-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[dt,et],this.pageTranslation=[it,rt];const[ut,_t]=this.parentDimensions;this.x=nt.x/ut,this.y=nt.y/_t,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,a.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}addCommands(nt){this._uiManager.addCommands(nt)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=ft(this,$)}setParent(nt){nt!==null&&(this.pageIndex=nt.pageIndex,this.pageDimensions=nt.pageDimensions),this.parent=nt}focusin(nt){ft(this,g)?rn(this,g,!1):this.parent.setSelected(this)}focusout(nt){var dt;if(!this.isAttachedToDOM)return;const tt=nt.relatedTarget;tt!=null&&tt.closest(`#${this.id}`)||(nt.preventDefault(),(dt=this.parent)!=null&&dt.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}dragstart(nt){const tt=this.parent.div.getBoundingClientRect();this.startX=nt.clientX-tt.x,this.startY=nt.clientY-tt.y,nt.dataTransfer.setData("text/plain",this.id),nt.dataTransfer.effectAllowed="move"}setAt(nt,tt,dt,et){const[it,rt]=this.parentDimensions;[dt,et]=this.screenToPageTranslation(dt,et),this.x=(nt+dt)/it,this.y=(tt+et)/rt,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(nt,tt){const[dt,et]=this.parentDimensions;[nt,tt]=this.screenToPageTranslation(nt,tt),this.x+=nt/dt,this.y+=tt/et,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(nt,tt){switch(this.parentRotation){case 90:return[tt,-nt];case 180:return[-nt,-tt];case 270:return[-tt,nt];default:return[nt,tt]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{realScale:nt}=this._uiManager.viewParameters,[tt,dt]=this.pageDimensions;return[tt*nt,dt*nt]}setDims(nt,tt){const[dt,et]=this.parentDimensions;this.div.style.width=`${100*nt/dt}%`,this.div.style.height=`${100*tt/et}%`}fixDims(){const{style:nt}=this.div,{height:tt,width:dt}=nt,et=dt.endsWith("%"),it=tt.endsWith("%");if(et&&it)return;const[rt,ut]=this.parentDimensions;et||(nt.width=`${100*parseFloat(dt)/rt}%`),it||(nt.height=`${100*parseFloat(tt)/ut}%`)}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",ft(this,d)),this.div.addEventListener("focusout",ft(this,h));const[nt,tt]=this.getInitialTranslation();return this.translate(nt,tt),(0,o.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(nt){const{isMac:tt}=a.FeatureTest.platform;if(nt.button!==0||nt.ctrlKey&&tt){nt.preventDefault();return}nt.ctrlKey&&!tt||nt.shiftKey||nt.metaKey&&tt?this.parent.toggleSelected(this):this.parent.setSelected(this),rn(this,g,!0)}getRect(nt,tt){const dt=this.parentScale,[et,it]=this.pageDimensions,[rt,ut]=this.pageTranslation,_t=nt/dt,At=tt/dt,gt=this.x*et,j=this.y*it,ot=this.width*et,pt=this.height*it;switch(this.rotation){case 0:return[gt+_t+rt,it-j-At-pt+ut,gt+_t+ot+rt,it-j-At+ut];case 90:return[gt+At+rt,it-j+_t+ut,gt+At+pt+rt,it-j+_t+ot+ut];case 180:return[gt-_t-ot+rt,it-j+At+ut,gt-_t+rt,it-j+At+pt+ut];case 270:return[gt-At-pt+rt,it-j-_t-ot+ut,gt-At+rt,it-j-_t+ut];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(nt,tt){const[dt,et,it,rt]=nt,ut=it-dt,_t=rt-et;switch(this.rotation){case 0:return[dt,tt-rt,ut,_t];case 90:return[dt,tt-et,_t,ut];case 180:return[it,tt-et,ut,_t];case 270:return[it,tt-rt,_t,ut];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){rn(this,b,!0)}disableEditMode(){rn(this,b,!1)}isInEditMode(){return ft(this,b)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var nt;(nt=this.div)==null||nt.addEventListener("focusin",ft(this,d))}serialize(){(0,a.unreachable)("An editor must be serializable")}static deserialize(nt,tt,dt){const et=new this.prototype.constructor({parent:tt,id:tt.getNextId(),uiManager:dt});et.rotation=nt.rotation;const[it,rt]=et.pageDimensions,[ut,_t,At,gt]=et.getRectInCurrentCoords(nt.rect,rt);return et.x=ut/it,et.y=_t/rt,et.width=At/it,et.height=gt/rt,et}remove(){this.div.removeEventListener("focusin",ft(this,d)),this.div.removeEventListener("focusout",ft(this,h)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var nt;(nt=this.div)==null||nt.classList.add("selectedEditor")}unselect(){var nt;(nt=this.div)==null||nt.classList.remove("selectedEditor")}updateParams(nt,tt){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return ft(this,_)}set isEditing(nt){rn(this,_,nt),nt?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}};let c=st;d=new WeakMap,h=new WeakMap,g=new WeakMap,_=new WeakMap,b=new WeakMap,$=new WeakMap,Cn(c,"_colorManager",new o.ColorManager),Cn(c,"_zIndex",1),i.AnnotationEditor=c},(e,i,s)=>{var st,lt,nt,tt,dt,et,Or,ut,_t,At,gt,j,ot,pt,at,vt,kt,bt,Mt,Wt,Yt,Lt,jt,Xt,Kt,tn,an,Ot,ht,mt,xt,Fr,Pt,ur,Tt,Mr,Ct,Ir,ct,Ln,Et,qn,Ft,Lr,zt,Dr,qt,dr,Jt,Kn,sn,hr;Object.defineProperty(i,"__esModule",{value:!0}),i.KeyboardManager=i.CommandManager=i.ColorManager=i.AnnotationEditorUIManager=void 0,i.bindEvents=c,i.opacityToHex=d;var o=s(1),a=s(6);function c(pn,Dt,on){for(const yn of on)Dt.addEventListener(yn,pn[yn].bind(pn))}function d(pn){return Math.round(Math.min(255,Math.max(1,255*pn))).toString(16).padStart(2,"0")}class h{constructor(){Bt(this,st,0)}getId(){return`${o.AnnotationEditorPrefix}${er(this,st)._++}`}}st=new WeakMap;class g{constructor(Dt=128){Bt(this,lt,[]);Bt(this,nt,!1);Bt(this,tt,void 0);Bt(this,dt,-1);rn(this,tt,Dt)}add({cmd:Dt,undo:on,mustExec:yn,type:_n=NaN,overwriteIfSameType:Qt=!1,keepUndo:Nt=!1}){if(yn&&Dt(),ft(this,nt))return;const $t={cmd:Dt,undo:on,type:_n};if(ft(this,dt)===-1){ft(this,lt).length>0&&(ft(this,lt).length=0),rn(this,dt,0),ft(this,lt).push($t);return}if(Qt&&ft(this,lt)[ft(this,dt)].type===_n){Nt&&($t.undo=ft(this,lt)[ft(this,dt)].undo),ft(this,lt)[ft(this,dt)]=$t;return}const ln=ft(this,dt)+1;ln===ft(this,tt)?ft(this,lt).splice(0,1):(rn(this,dt,ln),ln<ft(this,lt).length&&ft(this,lt).splice(ln)),ft(this,lt).push($t)}undo(){ft(this,dt)!==-1&&(rn(this,nt,!0),ft(this,lt)[ft(this,dt)].undo(),rn(this,nt,!1),rn(this,dt,ft(this,dt)-1))}redo(){ft(this,dt)<ft(this,lt).length-1&&(rn(this,dt,ft(this,dt)+1),rn(this,nt,!0),ft(this,lt)[ft(this,dt)].cmd(),rn(this,nt,!1))}hasSomethingToUndo(){return ft(this,dt)!==-1}hasSomethingToRedo(){return ft(this,dt)<ft(this,lt).length-1}destroy(){rn(this,lt,null)}}lt=new WeakMap,nt=new WeakMap,tt=new WeakMap,dt=new WeakMap,i.CommandManager=g;class _{constructor(Dt){Bt(this,et);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:on}=o.FeatureTest.platform;for(const[yn,_n]of Dt)for(const Qt of yn){const Nt=Qt.startsWith("mac+");on&&Nt?(this.callbacks.set(Qt.slice(4),_n),this.allKeys.add(Qt.split("+").at(-1))):!on&&!Nt&&(this.callbacks.set(Qt,_n),this.allKeys.add(Qt.split("+").at(-1)))}}exec(Dt,on){if(!this.allKeys.has(on.key))return;const yn=this.callbacks.get(Gt(this,et,Or).call(this,on));yn&&(yn.bind(Dt)(),on.stopPropagation(),on.preventDefault())}}et=new WeakSet,Or=function(Dt){Dt.altKey&&this.buffer.push("alt"),Dt.ctrlKey&&this.buffer.push("ctrl"),Dt.metaKey&&this.buffer.push("meta"),Dt.shiftKey&&this.buffer.push("shift"),this.buffer.push(Dt.key);const on=this.buffer.join("+");return this.buffer.length=0,on},i.KeyboardManager=_;const rt=class{get _colors(){const Dt=new Map([["CanvasText",null],["Canvas",null]]);return(0,a.getColorValues)(Dt),(0,o.shadow)(this,"_colors",Dt)}convert(Dt){const on=(0,a.getRGB)(Dt);if(!window.matchMedia("(forced-colors: active)").matches)return on;for(const[yn,_n]of this._colors)if(_n.every((Qt,Nt)=>Qt===on[Nt]))return rt._colorsMapping.get(yn);return on}getHexCode(Dt){const on=this._colors.get(Dt);return on?o.Util.makeHexColor(...on):Dt}};let b=rt;Cn(b,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]])),i.ColorManager=b;const fn=class{constructor(Dt,on,yn){Bt(this,xt);Bt(this,Pt);Bt(this,Tt);Bt(this,Ct);Bt(this,ct);Bt(this,Et);Bt(this,Ft);Bt(this,zt);Bt(this,qt);Bt(this,Jt);Bt(this,sn);Bt(this,ut,null);Bt(this,_t,new Map);Bt(this,At,new Map);Bt(this,gt,null);Bt(this,j,new g);Bt(this,ot,0);Bt(this,pt,null);Bt(this,at,new Set);Bt(this,vt,null);Bt(this,kt,new h);Bt(this,bt,!1);Bt(this,Mt,o.AnnotationEditorType.NONE);Bt(this,Wt,new Set);Bt(this,Yt,this.copy.bind(this));Bt(this,Lt,this.cut.bind(this));Bt(this,jt,this.paste.bind(this));Bt(this,Xt,this.keydown.bind(this));Bt(this,Kt,this.onEditingAction.bind(this));Bt(this,tn,this.onPageChanging.bind(this));Bt(this,an,this.onScaleChanging.bind(this));Bt(this,Ot,this.onRotationChanging.bind(this));Bt(this,ht,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Bt(this,mt,null);rn(this,mt,Dt),rn(this,vt,on),ft(this,vt)._on("editingaction",ft(this,Kt)),ft(this,vt)._on("pagechanging",ft(this,tn)),ft(this,vt)._on("scalechanging",ft(this,an)),ft(this,vt)._on("rotationchanging",ft(this,Ot)),rn(this,gt,yn),this.viewParameters={realScale:a.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){Gt(this,Pt,ur).call(this),ft(this,vt)._off("editingaction",ft(this,Kt)),ft(this,vt)._off("pagechanging",ft(this,tn)),ft(this,vt)._off("scalechanging",ft(this,an)),ft(this,vt)._off("rotationchanging",ft(this,Ot));for(const Dt of ft(this,At).values())Dt.destroy();ft(this,At).clear(),ft(this,_t).clear(),ft(this,at).clear(),rn(this,ut,null),ft(this,Wt).clear(),ft(this,j).destroy()}onPageChanging({pageNumber:Dt}){rn(this,ot,Dt-1)}focusMainContainer(){ft(this,mt).focus()}addShouldRescale(Dt){ft(this,at).add(Dt)}removeShouldRescale(Dt){ft(this,at).delete(Dt)}onScaleChanging({scale:Dt}){this.commitOrRemove(),this.viewParameters.realScale=Dt*a.PixelsPerInch.PDF_TO_CSS_UNITS;for(const on of ft(this,at))on.onScaleChanging()}onRotationChanging({pagesRotation:Dt}){this.commitOrRemove(),this.viewParameters.rotation=Dt}addToAnnotationStorage(Dt){!Dt.isEmpty()&&ft(this,gt)&&!ft(this,gt).has(Dt.id)&&ft(this,gt).setValue(Dt.id,Dt)}copy(Dt){if(Dt.preventDefault(),ft(this,ut)&&ft(this,ut).commitOrRemove(),!this.hasSelection)return;const on=[];for(const yn of ft(this,Wt))yn.isEmpty()||on.push(yn.serialize());on.length!==0&&Dt.clipboardData.setData("application/pdfjs",JSON.stringify(on))}cut(Dt){this.copy(Dt),this.delete()}paste(Dt){Dt.preventDefault();let on=Dt.clipboardData.getData("application/pdfjs");if(!on)return;try{on=JSON.parse(on)}catch(_n){(0,o.warn)(`paste: "${_n.message}".`);return}if(!Array.isArray(on))return;this.unselectAll();const yn=ft(this,At).get(ft(this,ot));try{const _n=[];for(const $t of on){const ln=yn.deserialize($t);if(!ln)return;_n.push(ln)}const Qt=()=>{for(const $t of _n)Gt(this,qt,dr).call(this,$t);Gt(this,sn,hr).call(this,_n)},Nt=()=>{for(const $t of _n)$t.remove()};this.addCommands({cmd:Qt,undo:Nt,mustExec:!0})}catch(_n){(0,o.warn)(`paste: "${_n.message}".`)}}keydown(Dt){var on;(on=this.getActive())!=null&&on.shouldGetKeyboardEvents()||fn._keyboardManager.exec(this,Dt)}onEditingAction(Dt){["undo","redo","delete","selectAll"].includes(Dt.name)&&this[Dt.name]()}setEditingState(Dt){Dt?(Gt(this,xt,Fr).call(this),Gt(this,Tt,Mr).call(this),Gt(this,ct,Ln).call(this,{isEditing:ft(this,Mt)!==o.AnnotationEditorType.NONE,isEmpty:Gt(this,Jt,Kn).call(this),hasSomethingToUndo:ft(this,j).hasSomethingToUndo(),hasSomethingToRedo:ft(this,j).hasSomethingToRedo(),hasSelectedEditor:!1})):(Gt(this,Pt,ur).call(this),Gt(this,Ct,Ir).call(this),Gt(this,ct,Ln).call(this,{isEditing:!1}))}registerEditorTypes(Dt){if(!ft(this,pt)){rn(this,pt,Dt);for(const on of ft(this,pt))Gt(this,Et,qn).call(this,on.defaultPropertiesToUpdate)}}getId(){return ft(this,kt).getId()}get currentLayer(){return ft(this,At).get(ft(this,ot))}get currentPageIndex(){return ft(this,ot)}addLayer(Dt){ft(this,At).set(Dt.pageIndex,Dt),ft(this,bt)?Dt.enable():Dt.disable()}removeLayer(Dt){ft(this,At).delete(Dt.pageIndex)}updateMode(Dt){if(rn(this,Mt,Dt),Dt===o.AnnotationEditorType.NONE)this.setEditingState(!1),Gt(this,zt,Dr).call(this);else{this.setEditingState(!0),Gt(this,Ft,Lr).call(this);for(const on of ft(this,At).values())on.updateMode(Dt)}}updateToolbar(Dt){Dt!==ft(this,Mt)&&ft(this,vt).dispatch("switchannotationeditormode",{source:this,mode:Dt})}updateParams(Dt,on){if(ft(this,pt)){for(const yn of ft(this,Wt))yn.updateParams(Dt,on);for(const yn of ft(this,pt))yn.updateDefaultParams(Dt,on)}}getEditors(Dt){const on=[];for(const yn of ft(this,_t).values())yn.pageIndex===Dt&&on.push(yn);return on}getEditor(Dt){return ft(this,_t).get(Dt)}addEditor(Dt){ft(this,_t).set(Dt.id,Dt)}removeEditor(Dt){var on;ft(this,_t).delete(Dt.id),this.unselect(Dt),(on=ft(this,gt))==null||on.remove(Dt.id)}setActiveEditor(Dt){ft(this,ut)!==Dt&&(rn(this,ut,Dt),Dt&&Gt(this,Et,qn).call(this,Dt.propertiesToUpdate))}toggleSelected(Dt){if(ft(this,Wt).has(Dt)){ft(this,Wt).delete(Dt),Dt.unselect(),Gt(this,ct,Ln).call(this,{hasSelectedEditor:this.hasSelection});return}ft(this,Wt).add(Dt),Dt.select(),Gt(this,Et,qn).call(this,Dt.propertiesToUpdate),Gt(this,ct,Ln).call(this,{hasSelectedEditor:!0})}setSelected(Dt){for(const on of ft(this,Wt))on!==Dt&&on.unselect();ft(this,Wt).clear(),ft(this,Wt).add(Dt),Dt.select(),Gt(this,Et,qn).call(this,Dt.propertiesToUpdate),Gt(this,ct,Ln).call(this,{hasSelectedEditor:!0})}isSelected(Dt){return ft(this,Wt).has(Dt)}unselect(Dt){Dt.unselect(),ft(this,Wt).delete(Dt),Gt(this,ct,Ln).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return ft(this,Wt).size!==0}undo(){ft(this,j).undo(),Gt(this,ct,Ln).call(this,{hasSomethingToUndo:ft(this,j).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Gt(this,Jt,Kn).call(this)})}redo(){ft(this,j).redo(),Gt(this,ct,Ln).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:ft(this,j).hasSomethingToRedo(),isEmpty:Gt(this,Jt,Kn).call(this)})}addCommands(Dt){ft(this,j).add(Dt),Gt(this,ct,Ln).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Gt(this,Jt,Kn).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Dt=[...ft(this,Wt)],on=()=>{for(const _n of Dt)_n.remove()},yn=()=>{for(const _n of Dt)Gt(this,qt,dr).call(this,_n)};this.addCommands({cmd:on,undo:yn,mustExec:!0})}commitOrRemove(){var Dt;(Dt=ft(this,ut))==null||Dt.commitOrRemove()}selectAll(){for(const Dt of ft(this,Wt))Dt.commit();Gt(this,sn,hr).call(this,ft(this,_t).values())}unselectAll(){if(ft(this,ut)){ft(this,ut).commitOrRemove();return}if(ft(this,Wt).size!==0){for(const Dt of ft(this,Wt))Dt.unselect();ft(this,Wt).clear(),Gt(this,ct,Ln).call(this,{hasSelectedEditor:!1})}}isActive(Dt){return ft(this,ut)===Dt}getActive(){return ft(this,ut)}getMode(){return ft(this,Mt)}};let $=fn;ut=new WeakMap,_t=new WeakMap,At=new WeakMap,gt=new WeakMap,j=new WeakMap,ot=new WeakMap,pt=new WeakMap,at=new WeakMap,vt=new WeakMap,kt=new WeakMap,bt=new WeakMap,Mt=new WeakMap,Wt=new WeakMap,Yt=new WeakMap,Lt=new WeakMap,jt=new WeakMap,Xt=new WeakMap,Kt=new WeakMap,tn=new WeakMap,an=new WeakMap,Ot=new WeakMap,ht=new WeakMap,mt=new WeakMap,xt=new WeakSet,Fr=function(){ft(this,mt).addEventListener("keydown",ft(this,Xt))},Pt=new WeakSet,ur=function(){ft(this,mt).removeEventListener("keydown",ft(this,Xt))},Tt=new WeakSet,Mr=function(){document.addEventListener("copy",ft(this,Yt)),document.addEventListener("cut",ft(this,Lt)),document.addEventListener("paste",ft(this,jt))},Ct=new WeakSet,Ir=function(){document.removeEventListener("copy",ft(this,Yt)),document.removeEventListener("cut",ft(this,Lt)),document.removeEventListener("paste",ft(this,jt))},ct=new WeakSet,Ln=function(Dt){Object.entries(Dt).some(([yn,_n])=>ft(this,ht)[yn]!==_n)&&ft(this,vt).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(ft(this,ht),Dt)})},Et=new WeakSet,qn=function(Dt){ft(this,vt).dispatch("annotationeditorparamschanged",{source:this,details:Dt})},Ft=new WeakSet,Lr=function(){if(!ft(this,bt)){rn(this,bt,!0);for(const Dt of ft(this,At).values())Dt.enable()}},zt=new WeakSet,Dr=function(){if(this.unselectAll(),ft(this,bt)){rn(this,bt,!1);for(const Dt of ft(this,At).values())Dt.disable()}},qt=new WeakSet,dr=function(Dt){const on=ft(this,At).get(Dt.pageIndex);on?on.addOrRebuild(Dt):this.addEditor(Dt)},Jt=new WeakSet,Kn=function(){if(ft(this,_t).size===0)return!0;if(ft(this,_t).size===1)for(const Dt of ft(this,_t).values())return Dt.isEmpty();return!1},sn=new WeakSet,hr=function(Dt){ft(this,Wt).clear();for(const on of Dt)on.isEmpty()||(ft(this,Wt).add(on),on.select());Gt(this,ct,Ln).call(this,{hasSelectedEditor:!0})},Cn($,"_keyboardManager",new _([[["ctrl+a","mac+meta+a"],fn.prototype.selectAll],[["ctrl+z","mac+meta+z"],fn.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],fn.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],fn.prototype.delete],[["Escape","mac+Escape"],fn.prototype.unselectAll]])),i.AnnotationEditorUIManager=$},(e,i,s)=>{var Yt,Lt,jt,Xt,Kt,tn,an,Ot,ht,Wn,xt,Un,Pt,Dn;Object.defineProperty(i,"__esModule",{value:!0}),i.StatTimer=i.RenderingCancelledException=i.PixelsPerInch=i.PageViewport=i.PDFDateString=i.DOMStandardFontDataFactory=i.DOMSVGFactory=i.DOMFilterFactory=i.DOMCanvasFactory=i.DOMCMapReaderFactory=i.AnnotationPrefix=void 0,i.deprecated=gt,i.getColorValues=vt,i.getCurrentTransform=kt,i.getCurrentTransformInverse=bt,i.getFilenameFromUrl=it,i.getPdfFilenameFromUrl=rt,i.getRGB=at,i.getXfaPageViewport=pt,i.isDataScheme=dt,i.isPdfFile=et,i.isValidFetchUrl=_t,i.loadScript=At,i.setLayerDimensions=Mt;var o=s(7),a=s(1);const c="http://www.w3.org/2000/svg",d="pdfjs_internal_id_";i.AnnotationPrefix=d;const Wt=class{};let h=Wt;Cn(h,"CSS",96),Cn(h,"PDF",72),Cn(h,"PDF_TO_CSS_UNITS",Wt.CSS/Wt.PDF),i.PixelsPerInch=h;class g extends o.BaseFilterFactory{constructor({docId:Ct,ownerDocument:_e=globalThis.document}={}){super();Bt(this,ht);Bt(this,xt);Bt(this,Pt);Bt(this,Yt,void 0);Bt(this,Lt,void 0);Bt(this,jt,void 0);Bt(this,Xt,void 0);Bt(this,Kt,void 0);Bt(this,tn,void 0);Bt(this,an,void 0);Bt(this,Ot,0);rn(this,jt,Ct),rn(this,Xt,_e)}addFilter(Ct){if(!Ct)return"none";let _e=ft(this,ht,Wn).get(Ct);if(_e)return _e;let ct,yt,Et,St;if(Ct.length===1){const qt=Ct[0],en=new Array(256);for(let Jt=0;Jt<256;Jt++)en[Jt]=qt[Jt]/255;St=ct=yt=Et=en.join(",")}else{const[qt,en,Jt]=Ct,Zt=new Array(256),sn=new Array(256),dn=new Array(256);for(let fn=0;fn<256;fn++)Zt[fn]=qt[fn]/255,sn[fn]=en[fn]/255,dn[fn]=Jt[fn]/255;ct=Zt.join(","),yt=sn.join(","),Et=dn.join(","),St=`${ct}${yt}${Et}`}if(_e=ft(this,ht,Wn).get(St),_e)return ft(this,ht,Wn).set(Ct,_e),_e;const Ft=`g_${ft(this,jt)}_transfer_map_${er(this,Ot)._++}`,Ht=`url(#${Ft})`;ft(this,ht,Wn).set(Ct,Ht),ft(this,ht,Wn).set(St,Ht);const zt=ft(this,Xt).createElementNS(c,"filter",c);zt.setAttribute("id",Ft),zt.setAttribute("color-interpolation-filters","sRGB");const Vt=ft(this,Xt).createElementNS(c,"feComponentTransfer");return zt.append(Vt),Gt(this,Pt,Dn).call(this,Vt,"feFuncR",ct),Gt(this,Pt,Dn).call(this,Vt,"feFuncG",yt),Gt(this,Pt,Dn).call(this,Vt,"feFuncB",Et),ft(this,xt,Un).append(zt),Ht}addHCMFilter(Ct,_e){var Jt;const ct=`${Ct}-${_e}`;if(ft(this,tn)===ct)return ft(this,an);if(rn(this,tn,ct),rn(this,an,"none"),(Jt=ft(this,Kt))==null||Jt.remove(),!Ct||!_e)return ft(this,an);ft(this,xt,Un).style.color=Ct,Ct=getComputedStyle(ft(this,xt,Un)).getPropertyValue("color");const yt=at(Ct);Ct=a.Util.makeHexColor(...yt),ft(this,xt,Un).style.color=_e,_e=getComputedStyle(ft(this,xt,Un)).getPropertyValue("color");const Et=at(_e);if(_e=a.Util.makeHexColor(...Et),ft(this,xt,Un).style.color="",Ct==="#000000"&&_e==="#ffffff"||Ct===_e)return ft(this,an);const St=new Array(256);for(let Zt=0;Zt<=255;Zt++){const sn=Zt/255;St[Zt]=sn<=.03928?sn/12.92:((sn+.055)/1.055)**2.4}const Ft=St.join(","),Ht=`g_${ft(this,jt)}_hcm_filter`,zt=rn(this,Kt,ft(this,Xt).createElementNS(c,"filter",c));zt.setAttribute("id",Ht),zt.setAttribute("color-interpolation-filters","sRGB");let Vt=ft(this,Xt).createElementNS(c,"feComponentTransfer");zt.append(Vt),Gt(this,Pt,Dn).call(this,Vt,"feFuncR",Ft),Gt(this,Pt,Dn).call(this,Vt,"feFuncG",Ft),Gt(this,Pt,Dn).call(this,Vt,"feFuncB",Ft);const qt=ft(this,Xt).createElementNS(c,"feColorMatrix");qt.setAttribute("type","matrix"),qt.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),zt.append(qt),Vt=ft(this,Xt).createElementNS(c,"feComponentTransfer"),zt.append(Vt);const en=(Zt,sn)=>{const dn=yt[Zt]/255,fn=Et[Zt]/255,pn=new Array(sn+1);for(let Dt=0;Dt<=sn;Dt++)pn[Dt]=dn+Dt/sn*(fn-dn);return pn.join(",")};return Gt(this,Pt,Dn).call(this,Vt,"feFuncR",en(0,5)),Gt(this,Pt,Dn).call(this,Vt,"feFuncG",en(1,5)),Gt(this,Pt,Dn).call(this,Vt,"feFuncB",en(2,5)),ft(this,xt,Un).append(zt),rn(this,an,`url(#${Ht})`),ft(this,an)}destroy(Ct=!1){Ct&&ft(this,an)||(ft(this,Lt)&&(ft(this,Lt).parentNode.parentNode.remove(),rn(this,Lt,null)),ft(this,Yt)&&(ft(this,Yt).clear(),rn(this,Yt,null)),rn(this,Ot,0))}}Yt=new WeakMap,Lt=new WeakMap,jt=new WeakMap,Xt=new WeakMap,Kt=new WeakMap,tn=new WeakMap,an=new WeakMap,Ot=new WeakMap,ht=new WeakSet,Wn=function(){return ft(this,Yt)||rn(this,Yt,new Map)},xt=new WeakSet,Un=function(){if(!ft(this,Lt)){const Ct=ft(this,Xt).createElement("div"),{style:_e}=Ct;_e.visibility="hidden",_e.contain="strict",_e.width=_e.height=0,_e.position="absolute",_e.top=_e.left=0,_e.zIndex=-1;const ct=ft(this,Xt).createElementNS(c,"svg");ct.setAttribute("width",0),ct.setAttribute("height",0),rn(this,Lt,ft(this,Xt).createElementNS(c,"defs")),Ct.append(ct),ct.append(ft(this,Lt)),ft(this,Xt).body.append(Ct)}return ft(this,Lt)},Pt=new WeakSet,Dn=function(Ct,_e,ct){const yt=ft(this,Xt).createElementNS(c,_e);yt.setAttribute("type","discrete"),yt.setAttribute("tableValues",ct),Ct.append(yt)},i.DOMFilterFactory=g;class _ extends o.BaseCanvasFactory{constructor({ownerDocument:wt=globalThis.document}={}){super(),this._document=wt}_createCanvas(wt,Ct){const _e=this._document.createElement("canvas");return _e.width=wt,_e.height=Ct,_e}}i.DOMCanvasFactory=_;async function b(Tt,wt=!1){if(_t(Tt,document.baseURI)){const Ct=await fetch(Tt);if(!Ct.ok)throw new Error(Ct.statusText);return wt?new Uint8Array(await Ct.arrayBuffer()):(0,a.stringToBytes)(await Ct.text())}return new Promise((Ct,_e)=>{const ct=new XMLHttpRequest;ct.open("GET",Tt,!0),wt&&(ct.responseType="arraybuffer"),ct.onreadystatechange=()=>{if(ct.readyState===XMLHttpRequest.DONE){if(ct.status===200||ct.status===0){let yt;if(wt&&ct.response?yt=new Uint8Array(ct.response):!wt&&ct.responseText&&(yt=(0,a.stringToBytes)(ct.responseText)),yt){Ct(yt);return}}_e(new Error(ct.statusText))}},ct.send(null)})}class $ extends o.BaseCMapReaderFactory{_fetchData(wt,Ct){return b(wt,this.isCompressed).then(_e=>({cMapData:_e,compressionType:Ct}))}}i.DOMCMapReaderFactory=$;class st extends o.BaseStandardFontDataFactory{_fetchData(wt){return b(wt,!0)}}i.DOMStandardFontDataFactory=st;class lt extends o.BaseSVGFactory{_createSVG(wt){return document.createElementNS(c,wt)}}i.DOMSVGFactory=lt;class nt{constructor({viewBox:wt,scale:Ct,rotation:_e,offsetX:ct=0,offsetY:yt=0,dontFlip:Et=!1}){this.viewBox=wt,this.scale=Ct,this.rotation=_e,this.offsetX=ct,this.offsetY=yt;const St=(wt[2]+wt[0])/2,Ft=(wt[3]+wt[1])/2;let Ht,zt,Vt,qt;switch(_e%=360,_e<0&&(_e+=360),_e){case 180:Ht=-1,zt=0,Vt=0,qt=1;break;case 90:Ht=0,zt=1,Vt=1,qt=0;break;case 270:Ht=0,zt=-1,Vt=-1,qt=0;break;case 0:Ht=1,zt=0,Vt=0,qt=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Et&&(Vt=-Vt,qt=-qt);let en,Jt,Zt,sn;Ht===0?(en=Math.abs(Ft-wt[1])*Ct+ct,Jt=Math.abs(St-wt[0])*Ct+yt,Zt=(wt[3]-wt[1])*Ct,sn=(wt[2]-wt[0])*Ct):(en=Math.abs(St-wt[0])*Ct+ct,Jt=Math.abs(Ft-wt[1])*Ct+yt,Zt=(wt[2]-wt[0])*Ct,sn=(wt[3]-wt[1])*Ct),this.transform=[Ht*Ct,zt*Ct,Vt*Ct,qt*Ct,en-Ht*Ct*St-Vt*Ct*Ft,Jt-zt*Ct*St-qt*Ct*Ft],this.width=Zt,this.height=sn}get rawDims(){const{viewBox:wt}=this;return(0,a.shadow)(this,"rawDims",{pageWidth:wt[2]-wt[0],pageHeight:wt[3]-wt[1],pageX:wt[0],pageY:wt[1]})}clone({scale:wt=this.scale,rotation:Ct=this.rotation,offsetX:_e=this.offsetX,offsetY:ct=this.offsetY,dontFlip:yt=!1}={}){return new nt({viewBox:this.viewBox.slice(),scale:wt,rotation:Ct,offsetX:_e,offsetY:ct,dontFlip:yt})}convertToViewportPoint(wt,Ct){return a.Util.applyTransform([wt,Ct],this.transform)}convertToViewportRectangle(wt){const Ct=a.Util.applyTransform([wt[0],wt[1]],this.transform),_e=a.Util.applyTransform([wt[2],wt[3]],this.transform);return[Ct[0],Ct[1],_e[0],_e[1]]}convertToPdfPoint(wt,Ct){return a.Util.applyInverseTransform([wt,Ct],this.transform)}}i.PageViewport=nt;class tt extends a.BaseException{constructor(wt,Ct,_e=0){super(wt,"RenderingCancelledException"),this.type=Ct,this.extraDelay=_e}}i.RenderingCancelledException=tt;function dt(Tt){const wt=Tt.length;let Ct=0;for(;Ct<wt&&Tt[Ct].trim()==="";)Ct++;return Tt.substring(Ct,Ct+5).toLowerCase()==="data:"}function et(Tt){return typeof Tt=="string"&&/\.pdf$/i.test(Tt)}function it(Tt,wt=!1){return wt||([Tt]=Tt.split(/[#?]/,1)),Tt.substring(Tt.lastIndexOf("/")+1)}function rt(Tt,wt="document.pdf"){if(typeof Tt!="string")return wt;if(dt(Tt))return(0,a.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),wt;const Ct=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,_e=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,ct=Ct.exec(Tt);let yt=_e.exec(ct[1])||_e.exec(ct[2])||_e.exec(ct[3]);if(yt&&(yt=yt[0],yt.includes("%")))try{yt=_e.exec(decodeURIComponent(yt))[0]}catch{}return yt||wt}class ut{constructor(){Cn(this,"started",Object.create(null));Cn(this,"times",[])}time(wt){wt in this.started&&(0,a.warn)(`Timer is already running for ${wt}`),this.started[wt]=Date.now()}timeEnd(wt){wt in this.started||(0,a.warn)(`Timer has not been started for ${wt}`),this.times.push({name:wt,start:this.started[wt],end:Date.now()}),delete this.started[wt]}toString(){const wt=[];let Ct=0;for(const{name:_e}of this.times)Ct=Math.max(_e.length,Ct);for(const{name:_e,start:ct,end:yt}of this.times)wt.push(`${_e.padEnd(Ct)} ${yt-ct}ms
`);return wt.join("")}}i.StatTimer=ut;function _t(Tt,wt){try{const{protocol:Ct}=wt?new URL(Tt,wt):new URL(Tt);return Ct==="http:"||Ct==="https:"}catch{return!1}}function At(Tt,wt=!1){return new Promise((Ct,_e)=>{const ct=document.createElement("script");ct.src=Tt,ct.onload=function(yt){wt&&ct.remove(),Ct(yt)},ct.onerror=function(){_e(new Error(`Cannot load script at: ${ct.src}`))},(document.head||document.documentElement).append(ct)})}function gt(Tt){console.log("Deprecated API usage: "+Tt)}let j;class ot{static toDateObject(wt){if(!wt||typeof wt!="string")return null;j||(j=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Ct=j.exec(wt);if(!Ct)return null;const _e=parseInt(Ct[1],10);let ct=parseInt(Ct[2],10);ct=ct>=1&&ct<=12?ct-1:0;let yt=parseInt(Ct[3],10);yt=yt>=1&&yt<=31?yt:1;let Et=parseInt(Ct[4],10);Et=Et>=0&&Et<=23?Et:0;let St=parseInt(Ct[5],10);St=St>=0&&St<=59?St:0;let Ft=parseInt(Ct[6],10);Ft=Ft>=0&&Ft<=59?Ft:0;const Ht=Ct[7]||"Z";let zt=parseInt(Ct[8],10);zt=zt>=0&&zt<=23?zt:0;let Vt=parseInt(Ct[9],10)||0;return Vt=Vt>=0&&Vt<=59?Vt:0,Ht==="-"?(Et+=zt,St+=Vt):Ht==="+"&&(Et-=zt,St-=Vt),new Date(Date.UTC(_e,ct,yt,Et,St,Ft))}}i.PDFDateString=ot;function pt(Tt,{scale:wt=1,rotation:Ct=0}){const{width:_e,height:ct}=Tt.attributes.style,yt=[0,0,parseInt(_e),parseInt(ct)];return new nt({viewBox:yt,scale:wt,rotation:Ct})}function at(Tt){if(Tt.startsWith("#")){const wt=parseInt(Tt.slice(1),16);return[(wt&16711680)>>16,(wt&65280)>>8,wt&255]}return Tt.startsWith("rgb(")?Tt.slice(4,-1).split(",").map(wt=>parseInt(wt)):Tt.startsWith("rgba(")?Tt.slice(5,-1).split(",").map(wt=>parseInt(wt)).slice(0,3):((0,a.warn)(`Not a valid color format: "${Tt}"`),[0,0,0])}function vt(Tt){const wt=document.createElement("span");wt.style.visibility="hidden",document.body.append(wt);for(const Ct of Tt.keys()){wt.style.color=Ct;const _e=window.getComputedStyle(wt).color;Tt.set(Ct,at(_e))}wt.remove()}function kt(Tt){const{a:wt,b:Ct,c:_e,d:ct,e:yt,f:Et}=Tt.getTransform();return[wt,Ct,_e,ct,yt,Et]}function bt(Tt){const{a:wt,b:Ct,c:_e,d:ct,e:yt,f:Et}=Tt.getTransform().invertSelf();return[wt,Ct,_e,ct,yt,Et]}function Mt(Tt,wt,Ct=!1,_e=!0){if(wt instanceof nt){const{pageWidth:ct,pageHeight:yt}=wt.rawDims,{style:Et}=Tt,St=`calc(var(--scale-factor) * ${ct}px)`,Ft=`calc(var(--scale-factor) * ${yt}px)`;!Ct||wt.rotation%180===0?(Et.width=St,Et.height=Ft):(Et.width=Ft,Et.height=St)}_e&&Tt.setAttribute("data-main-rotation",wt.rotation)}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BaseStandardFontDataFactory=i.BaseSVGFactory=i.BaseFilterFactory=i.BaseCanvasFactory=i.BaseCMapReaderFactory=void 0;var o=s(1);class a{constructor(){this.constructor===a&&(0,o.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(b){return"none"}addHCMFilter(b,$){return"none"}destroy(b=!1){}}i.BaseFilterFactory=a;class c{constructor(){this.constructor===c&&(0,o.unreachable)("Cannot initialize BaseCanvasFactory.")}create(b,$){if(b<=0||$<=0)throw new Error("Invalid canvas size");const st=this._createCanvas(b,$);return{canvas:st,context:st.getContext("2d")}}reset(b,$,st){if(!b.canvas)throw new Error("Canvas is not specified");if($<=0||st<=0)throw new Error("Invalid canvas size");b.canvas.width=$,b.canvas.height=st}destroy(b){if(!b.canvas)throw new Error("Canvas is not specified");b.canvas.width=0,b.canvas.height=0,b.canvas=null,b.context=null}_createCanvas(b,$){(0,o.unreachable)("Abstract method `_createCanvas` called.")}}i.BaseCanvasFactory=c;class d{constructor({baseUrl:b=null,isCompressed:$=!0}){this.constructor===d&&(0,o.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=b,this.isCompressed=$}async fetch({name:b}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!b)throw new Error("CMap name must be specified.");const $=this.baseUrl+b+(this.isCompressed?".bcmap":""),st=this.isCompressed?o.CMapCompressionType.BINARY:o.CMapCompressionType.NONE;return this._fetchData($,st).catch(lt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${$}`)})}_fetchData(b,$){(0,o.unreachable)("Abstract method `_fetchData` called.")}}i.BaseCMapReaderFactory=d;class h{constructor({baseUrl:b=null}){this.constructor===h&&(0,o.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=b}async fetch({filename:b}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!b)throw new Error("Font filename must be specified.");const $=`${this.baseUrl}${b}`;return this._fetchData($).catch(st=>{throw new Error(`Unable to load font data at: ${$}`)})}_fetchData(b){(0,o.unreachable)("Abstract method `_fetchData` called.")}}i.BaseStandardFontDataFactory=h;class g{constructor(){this.constructor===g&&(0,o.unreachable)("Cannot initialize BaseSVGFactory.")}create(b,$,st=!1){if(b<=0||$<=0)throw new Error("Invalid SVG dimensions");const lt=this._createSVG("svg:svg");return lt.setAttribute("version","1.1"),st||(lt.setAttribute("width",`${b}px`),lt.setAttribute("height",`${$}px`)),lt.setAttribute("preserveAspectRatio","none"),lt.setAttribute("viewBox",`0 0 ${b} ${$}`),lt}createElement(b){if(typeof b!="string")throw new Error("Invalid SVG element type");return this._createSVG(b)}_createSVG(b){(0,o.unreachable)("Abstract method `_createSVG` called.")}}i.BaseSVGFactory=g},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.MurmurHash3_64=void 0;var o=s(1);const a=3285377520,c=4294901760,d=65535;class h{constructor(_){this.h1=_?_&4294967295:a,this.h2=_?_&4294967295:a}update(_){let b,$;if(typeof _=="string"){b=new Uint8Array(_.length*2),$=0;for(let gt=0,j=_.length;gt<j;gt++){const ot=_.charCodeAt(gt);ot<=255?b[$++]=ot:(b[$++]=ot>>>8,b[$++]=ot&255)}}else if((0,o.isArrayBuffer)(_))b=_.slice(),$=b.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const st=$>>2,lt=$-st*4,nt=new Uint32Array(b.buffer,0,st);let tt=0,dt=0,et=this.h1,it=this.h2;const rt=3432918353,ut=461845907,_t=rt&d,At=ut&d;for(let gt=0;gt<st;gt++)gt&1?(tt=nt[gt],tt=tt*rt&c|tt*_t&d,tt=tt<<15|tt>>>17,tt=tt*ut&c|tt*At&d,et^=tt,et=et<<13|et>>>19,et=et*5+3864292196):(dt=nt[gt],dt=dt*rt&c|dt*_t&d,dt=dt<<15|dt>>>17,dt=dt*ut&c|dt*At&d,it^=dt,it=it<<13|it>>>19,it=it*5+3864292196);switch(tt=0,lt){case 3:tt^=b[st*4+2]<<16;case 2:tt^=b[st*4+1]<<8;case 1:tt^=b[st*4],tt=tt*rt&c|tt*_t&d,tt=tt<<15|tt>>>17,tt=tt*ut&c|tt*At&d,st&1?et^=tt:it^=tt}this.h1=et,this.h2=it}hexdigest(){let _=this.h1,b=this.h2;return _^=b>>>1,_=_*3981806797&c|_*36045&d,b=b*4283543511&c|((b<<16|_>>>16)*2950163797&c)>>>16,_^=b>>>1,_=_*444984403&c|_*60499&d,b=b*3301882366&c|((b<<16|_>>>16)*3120437893&c)>>>16,_^=b>>>1,(_>>>0).toString(16).padStart(8,"0")+(b>>>0).toString(16).padStart(8,"0")}}i.MurmurHash3_64=h},(e,i,s)=>{var h;Object.defineProperty(i,"__esModule",{value:!0}),i.FontLoader=i.FontFaceObject=void 0;var o=s(1),a=s(10);class c{constructor({ownerDocument:_=globalThis.document,styleElement:b=null}){Bt(this,h,new Set);this._document=_,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(_){this.nativeFontFaces.add(_),this._document.fonts.add(_)}removeNativeFontFace(_){this.nativeFontFaces.delete(_),this._document.fonts.delete(_)}insertRule(_){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const b=this.styleElement.sheet;b.insertRule(_,b.cssRules.length)}clear(){for(const _ of this.nativeFontFaces)this._document.fonts.delete(_);this.nativeFontFaces.clear(),ft(this,h).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(_){if(!(!_||ft(this,h).has(_.loadedName))){if((0,o.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:b,src:$,style:st}=_,lt=new FontFace(b,$,st);this.addNativeFontFace(lt);try{await lt.load(),ft(this,h).add(b)}catch{(0,o.warn)(`Cannot load system font: ${_.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(lt)}return}(0,o.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(_){if(_.attached||_.missingFile&&!_.systemFontInfo)return;if(_.attached=!0,_.systemFontInfo){await this.loadSystemFont(_.systemFontInfo);return}if(this.isFontLoadingAPISupported){const $=_.createNativeFontFace();if($){this.addNativeFontFace($);try{await $.loaded}catch(st){throw(0,o.warn)(`Failed to load font '${$.family}': '${st}'.`),_.disableFontFace=!0,st}}return}const b=_.createFontFaceRule();if(b){if(this.insertRule(b),this.isSyncFontLoadingSupported)return;await new Promise($=>{const st=this._queueLoadingCallback($);this._prepareFontLoadEvent(_,st)})}}get isFontLoadingAPISupported(){var b;const _=!!((b=this._document)!=null&&b.fonts);return(0,o.shadow)(this,"isFontLoadingAPISupported",_)}get isSyncFontLoadingSupported(){let _=!1;return(a.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(_=!0),(0,o.shadow)(this,"isSyncFontLoadingSupported",_)}_queueLoadingCallback(_){function b(){for((0,o.assert)(!st.done,"completeRequest() cannot be called twice."),st.done=!0;$.length>0&&$[0].done;){const lt=$.shift();setTimeout(lt.callback,0)}}const{loadingRequests:$}=this,st={done:!1,complete:b,callback:_};return $.push(st),st}get _loadTestFont(){const _=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,o.shadow)(this,"_loadTestFont",_)}_prepareFontLoadEvent(_,b){function $(vt,kt){return vt.charCodeAt(kt)<<24|vt.charCodeAt(kt+1)<<16|vt.charCodeAt(kt+2)<<8|vt.charCodeAt(kt+3)&255}function st(vt,kt,bt,Mt){const Wt=vt.substring(0,kt),Yt=vt.substring(kt+bt);return Wt+Mt+Yt}let lt,nt;const tt=this._document.createElement("canvas");tt.width=1,tt.height=1;const dt=tt.getContext("2d");let et=0;function it(vt,kt){if(++et>30){(0,o.warn)("Load test font never loaded."),kt();return}if(dt.font="30px "+vt,dt.fillText(".",0,20),dt.getImageData(0,0,1,1).data[3]>0){kt();return}setTimeout(it.bind(null,vt,kt))}const rt=`lt${Date.now()}${this.loadTestFontId++}`;let ut=this._loadTestFont;ut=st(ut,976,rt.length,rt);const At=16,gt=1482184792;let j=$(ut,At);for(lt=0,nt=rt.length-3;lt<nt;lt+=4)j=j-gt+$(rt,lt)|0;lt<rt.length&&(j=j-gt+$(rt+"XXX",lt)|0),ut=st(ut,At,4,(0,o.string32)(j));const ot=`url(data:font/opentype;base64,${btoa(ut)});`,pt=`@font-face {font-family:"${rt}";src:${ot}}`;this.insertRule(pt);const at=this._document.createElement("div");at.style.visibility="hidden",at.style.width=at.style.height="10px",at.style.position="absolute",at.style.top=at.style.left="0px";for(const vt of[_.loadedName,rt]){const kt=this._document.createElement("span");kt.textContent="Hi",kt.style.fontFamily=vt,at.append(kt)}this._document.body.append(at),it(rt,()=>{at.remove(),b.complete()})}}h=new WeakMap,i.FontLoader=c;class d{constructor(_,{isEvalSupported:b=!0,disableFontFace:$=!1,ignoreErrors:st=!1,inspectFont:lt=null}){this.compiledGlyphs=Object.create(null);for(const nt in _)this[nt]=_[nt];this.isEvalSupported=b!==!1,this.disableFontFace=$===!0,this.ignoreErrors=st===!0,this._inspectFont=lt}createNativeFontFace(){var b;if(!this.data||this.disableFontFace)return null;let _;if(!this.cssFontInfo)_=new FontFace(this.loadedName,this.data,{});else{const $={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&($.style=`oblique ${this.cssFontInfo.italicAngle}deg`),_=new FontFace(this.cssFontInfo.fontFamily,this.data,$)}return(b=this._inspectFont)==null||b.call(this,this),_}createFontFaceRule(){var st;if(!this.data||this.disableFontFace)return null;const _=(0,o.bytesToString)(this.data),b=`url(data:${this.mimetype};base64,${btoa(_)});`;let $;if(!this.cssFontInfo)$=`@font-face {font-family:"${this.loadedName}";src:${b}}`;else{let lt=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(lt+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),$=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${lt}src:${b}}`}return(st=this._inspectFont)==null||st.call(this,this,b),$}getPathGenerator(_,b){if(this.compiledGlyphs[b]!==void 0)return this.compiledGlyphs[b];let $;try{$=_.get(this.loadedName+"_path_"+b)}catch(st){if(!this.ignoreErrors)throw st;return(0,o.warn)(`getPathGenerator - ignoring character: "${st}".`),this.compiledGlyphs[b]=function(lt,nt){}}if(this.isEvalSupported&&o.FeatureTest.isEvalSupported){const st=[];for(const lt of $){const nt=lt.args!==void 0?lt.args.join(","):"";st.push("c.",lt.cmd,"(",nt,`);
`)}return this.compiledGlyphs[b]=new Function("c","size",st.join(""))}return this.compiledGlyphs[b]=function(st,lt){for(const nt of $)nt.cmd==="scale"&&(nt.args=[lt,-lt]),st[nt.cmd].apply(st,nt.args)}}}i.FontFaceObject=d},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.isNodeJS=void 0;const s=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");i.isNodeJS=s},(e,i,s)=>{var jt,fr,Kt,pr;Object.defineProperty(i,"__esModule",{value:!0}),i.CanvasGraphics=void 0;var o=s(1),a=s(6),c=s(12),d=s(13),h=s(10);const g=16,_=100,b=4096,$=15,st=10,lt=1e3,nt=16;function tt(Ot,ht){if(Ot._removeMirroring)throw new Error("Context is already forwarding operations.");Ot.__originalSave=Ot.save,Ot.__originalRestore=Ot.restore,Ot.__originalRotate=Ot.rotate,Ot.__originalScale=Ot.scale,Ot.__originalTranslate=Ot.translate,Ot.__originalTransform=Ot.transform,Ot.__originalSetTransform=Ot.setTransform,Ot.__originalResetTransform=Ot.resetTransform,Ot.__originalClip=Ot.clip,Ot.__originalMoveTo=Ot.moveTo,Ot.__originalLineTo=Ot.lineTo,Ot.__originalBezierCurveTo=Ot.bezierCurveTo,Ot.__originalRect=Ot.rect,Ot.__originalClosePath=Ot.closePath,Ot.__originalBeginPath=Ot.beginPath,Ot._removeMirroring=()=>{Ot.save=Ot.__originalSave,Ot.restore=Ot.__originalRestore,Ot.rotate=Ot.__originalRotate,Ot.scale=Ot.__originalScale,Ot.translate=Ot.__originalTranslate,Ot.transform=Ot.__originalTransform,Ot.setTransform=Ot.__originalSetTransform,Ot.resetTransform=Ot.__originalResetTransform,Ot.clip=Ot.__originalClip,Ot.moveTo=Ot.__originalMoveTo,Ot.lineTo=Ot.__originalLineTo,Ot.bezierCurveTo=Ot.__originalBezierCurveTo,Ot.rect=Ot.__originalRect,Ot.closePath=Ot.__originalClosePath,Ot.beginPath=Ot.__originalBeginPath,delete Ot._removeMirroring},Ot.save=function(){ht.save(),this.__originalSave()},Ot.restore=function(){ht.restore(),this.__originalRestore()},Ot.translate=function(xt,Rt){ht.translate(xt,Rt),this.__originalTranslate(xt,Rt)},Ot.scale=function(xt,Rt){ht.scale(xt,Rt),this.__originalScale(xt,Rt)},Ot.transform=function(xt,Rt,Pt,It,Tt,wt){ht.transform(xt,Rt,Pt,It,Tt,wt),this.__originalTransform(xt,Rt,Pt,It,Tt,wt)},Ot.setTransform=function(xt,Rt,Pt,It,Tt,wt){ht.setTransform(xt,Rt,Pt,It,Tt,wt),this.__originalSetTransform(xt,Rt,Pt,It,Tt,wt)},Ot.resetTransform=function(){ht.resetTransform(),this.__originalResetTransform()},Ot.rotate=function(xt){ht.rotate(xt),this.__originalRotate(xt)},Ot.clip=function(xt){ht.clip(xt),this.__originalClip(xt)},Ot.moveTo=function(mt,xt){ht.moveTo(mt,xt),this.__originalMoveTo(mt,xt)},Ot.lineTo=function(mt,xt){ht.lineTo(mt,xt),this.__originalLineTo(mt,xt)},Ot.bezierCurveTo=function(mt,xt,Rt,Pt,It,Tt){ht.bezierCurveTo(mt,xt,Rt,Pt,It,Tt),this.__originalBezierCurveTo(mt,xt,Rt,Pt,It,Tt)},Ot.rect=function(mt,xt,Rt,Pt){ht.rect(mt,xt,Rt,Pt),this.__originalRect(mt,xt,Rt,Pt)},Ot.closePath=function(){ht.closePath(),this.__originalClosePath()},Ot.beginPath=function(){ht.beginPath(),this.__originalBeginPath()}}class dt{constructor(ht){this.canvasFactory=ht,this.cache=Object.create(null)}getCanvas(ht,mt,xt){let Rt;return this.cache[ht]!==void 0?(Rt=this.cache[ht],this.canvasFactory.reset(Rt,mt,xt)):(Rt=this.canvasFactory.create(mt,xt),this.cache[ht]=Rt),Rt}delete(ht){delete this.cache[ht]}clear(){for(const ht in this.cache){const mt=this.cache[ht];this.canvasFactory.destroy(mt),delete this.cache[ht]}}}function et(Ot,ht,mt,xt,Rt,Pt,It,Tt,wt,Ct){const[_e,ct,yt,Et,St,Ft]=(0,a.getCurrentTransform)(Ot);if(ct===0&&yt===0){const Vt=It*_e+St,qt=Math.round(Vt),en=Tt*Et+Ft,Jt=Math.round(en),Zt=(It+wt)*_e+St,sn=Math.abs(Math.round(Zt)-qt)||1,dn=(Tt+Ct)*Et+Ft,fn=Math.abs(Math.round(dn)-Jt)||1;return Ot.setTransform(Math.sign(_e),0,0,Math.sign(Et),qt,Jt),Ot.drawImage(ht,mt,xt,Rt,Pt,0,0,sn,fn),Ot.setTransform(_e,ct,yt,Et,St,Ft),[sn,fn]}if(_e===0&&Et===0){const Vt=Tt*yt+St,qt=Math.round(Vt),en=It*ct+Ft,Jt=Math.round(en),Zt=(Tt+Ct)*yt+St,sn=Math.abs(Math.round(Zt)-qt)||1,dn=(It+wt)*ct+Ft,fn=Math.abs(Math.round(dn)-Jt)||1;return Ot.setTransform(0,Math.sign(ct),Math.sign(yt),0,qt,Jt),Ot.drawImage(ht,mt,xt,Rt,Pt,0,0,fn,sn),Ot.setTransform(_e,ct,yt,Et,St,Ft),[fn,sn]}Ot.drawImage(ht,mt,xt,Rt,Pt,It,Tt,wt,Ct);const Ht=Math.hypot(_e,ct),zt=Math.hypot(yt,Et);return[Ht*wt,zt*Ct]}function it(Ot){const{width:ht,height:mt}=Ot;if(ht>lt||mt>lt)return null;const xt=1e3,Rt=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Pt=ht+1;let It=new Uint8Array(Pt*(mt+1)),Tt,wt,Ct;const _e=ht+7&-8;let ct=new Uint8Array(_e*mt),yt=0;for(const zt of Ot.data){let Vt=128;for(;Vt>0;)ct[yt++]=zt&Vt?0:255,Vt>>=1}let Et=0;for(yt=0,ct[yt]!==0&&(It[0]=1,++Et),wt=1;wt<ht;wt++)ct[yt]!==ct[yt+1]&&(It[wt]=ct[yt]?2:1,++Et),yt++;for(ct[yt]!==0&&(It[wt]=2,++Et),Tt=1;Tt<mt;Tt++){yt=Tt*_e,Ct=Tt*Pt,ct[yt-_e]!==ct[yt]&&(It[Ct]=ct[yt]?1:8,++Et);let zt=(ct[yt]?4:0)+(ct[yt-_e]?8:0);for(wt=1;wt<ht;wt++)zt=(zt>>2)+(ct[yt+1]?4:0)+(ct[yt-_e+1]?8:0),Rt[zt]&&(It[Ct+wt]=Rt[zt],++Et),yt++;if(ct[yt-_e]!==ct[yt]&&(It[Ct+wt]=ct[yt]?2:4,++Et),Et>xt)return null}for(yt=_e*(mt-1),Ct=Tt*Pt,ct[yt]!==0&&(It[Ct]=8,++Et),wt=1;wt<ht;wt++)ct[yt]!==ct[yt+1]&&(It[Ct+wt]=ct[yt]?4:8,++Et),yt++;if(ct[yt]!==0&&(It[Ct+wt]=4,++Et),Et>xt)return null;const St=new Int32Array([0,Pt,-1,0,-Pt,0,0,0,1]),Ft=new Path2D;for(Tt=0;Et&&Tt<=mt;Tt++){let zt=Tt*Pt;const Vt=zt+ht;for(;zt<Vt&&!It[zt];)zt++;if(zt===Vt)continue;Ft.moveTo(zt%Pt,Tt);const qt=zt;let en=It[zt];do{const Jt=St[en];do zt+=Jt;while(!It[zt]);const Zt=It[zt];Zt!==5&&Zt!==10?(en=Zt,It[zt]=0):(en=Zt&51*en>>4,It[zt]&=en>>2|en<<2),Ft.lineTo(zt%Pt,zt/Pt|0),It[zt]||--Et}while(qt!==zt);--Tt}return ct=null,It=null,function(zt){zt.save(),zt.scale(1/ht,-1/mt),zt.translate(0,-mt),zt.fill(Ft),zt.beginPath(),zt.restore()}}class rt{constructor(ht,mt){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=o.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=o.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,ht,mt])}clone(){const ht=Object.create(this);return ht.clipBox=this.clipBox.slice(),ht}setCurrentPoint(ht,mt){this.x=ht,this.y=mt}updatePathMinMax(ht,mt,xt){[mt,xt]=o.Util.applyTransform([mt,xt],ht),this.minX=Math.min(this.minX,mt),this.minY=Math.min(this.minY,xt),this.maxX=Math.max(this.maxX,mt),this.maxY=Math.max(this.maxY,xt)}updateRectMinMax(ht,mt){const xt=o.Util.applyTransform(mt,ht),Rt=o.Util.applyTransform(mt.slice(2),ht);this.minX=Math.min(this.minX,xt[0],Rt[0]),this.minY=Math.min(this.minY,xt[1],Rt[1]),this.maxX=Math.max(this.maxX,xt[0],Rt[0]),this.maxY=Math.max(this.maxY,xt[1],Rt[1])}updateScalingPathMinMax(ht,mt){o.Util.scaleMinMax(ht,mt),this.minX=Math.min(this.minX,mt[0]),this.maxX=Math.max(this.maxX,mt[1]),this.minY=Math.min(this.minY,mt[2]),this.maxY=Math.max(this.maxY,mt[3])}updateCurvePathMinMax(ht,mt,xt,Rt,Pt,It,Tt,wt,Ct,_e){const ct=o.Util.bezierBoundingBox(mt,xt,Rt,Pt,It,Tt,wt,Ct);if(_e){_e[0]=Math.min(_e[0],ct[0],ct[2]),_e[1]=Math.max(_e[1],ct[0],ct[2]),_e[2]=Math.min(_e[2],ct[1],ct[3]),_e[3]=Math.max(_e[3],ct[1],ct[3]);return}this.updateRectMinMax(ht,ct)}getPathBoundingBox(ht=c.PathType.FILL,mt=null){const xt=[this.minX,this.minY,this.maxX,this.maxY];if(ht===c.PathType.STROKE){mt||(0,o.unreachable)("Stroke bounding box must include transform.");const Rt=o.Util.singularValueDecompose2dScale(mt),Pt=Rt[0]*this.lineWidth/2,It=Rt[1]*this.lineWidth/2;xt[0]-=Pt,xt[1]-=It,xt[2]+=Pt,xt[3]+=It}return xt}updateClipFromPath(){const ht=o.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(ht||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(ht){this.clipBox=ht,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(ht=c.PathType.FILL,mt=null){return o.Util.intersect(this.clipBox,this.getPathBoundingBox(ht,mt))}}function ut(Ot,ht){if(typeof ImageData<"u"&&ht instanceof ImageData){Ot.putImageData(ht,0,0);return}const mt=ht.height,xt=ht.width,Rt=mt%nt,Pt=(mt-Rt)/nt,It=Rt===0?Pt:Pt+1,Tt=Ot.createImageData(xt,nt);let wt=0,Ct;const _e=ht.data,ct=Tt.data;let yt,Et,St,Ft;if(ht.kind===o.ImageKind.GRAYSCALE_1BPP){const Ht=_e.byteLength,zt=new Uint32Array(ct.buffer,0,ct.byteLength>>2),Vt=zt.length,qt=xt+7>>3,en=4294967295,Jt=o.FeatureTest.isLittleEndian?4278190080:255;for(yt=0;yt<It;yt++){for(St=yt<Pt?nt:Rt,Ct=0,Et=0;Et<St;Et++){const Zt=Ht-wt;let sn=0;const dn=Zt>qt?xt:Zt*8-7,fn=dn&-8;let pn=0,Dt=0;for(;sn<fn;sn+=8)Dt=_e[wt++],zt[Ct++]=Dt&128?en:Jt,zt[Ct++]=Dt&64?en:Jt,zt[Ct++]=Dt&32?en:Jt,zt[Ct++]=Dt&16?en:Jt,zt[Ct++]=Dt&8?en:Jt,zt[Ct++]=Dt&4?en:Jt,zt[Ct++]=Dt&2?en:Jt,zt[Ct++]=Dt&1?en:Jt;for(;sn<dn;sn++)pn===0&&(Dt=_e[wt++],pn=128),zt[Ct++]=Dt&pn?en:Jt,pn>>=1}for(;Ct<Vt;)zt[Ct++]=0;Ot.putImageData(Tt,0,yt*nt)}}else if(ht.kind===o.ImageKind.RGBA_32BPP){for(Et=0,Ft=xt*nt*4,yt=0;yt<Pt;yt++)ct.set(_e.subarray(wt,wt+Ft)),wt+=Ft,Ot.putImageData(Tt,0,Et),Et+=nt;yt<It&&(Ft=xt*Rt*4,ct.set(_e.subarray(wt,wt+Ft)),Ot.putImageData(Tt,0,Et))}else if(ht.kind===o.ImageKind.RGB_24BPP)for(St=nt,Ft=xt*St,yt=0;yt<It;yt++){for(yt>=Pt&&(St=Rt,Ft=xt*St),Ct=0,Et=Ft;Et--;)ct[Ct++]=_e[wt++],ct[Ct++]=_e[wt++],ct[Ct++]=_e[wt++],ct[Ct++]=255;Ot.putImageData(Tt,0,yt*nt)}else throw new Error(`bad image kind: ${ht.kind}`)}function _t(Ot,ht){if(ht.bitmap){Ot.drawImage(ht.bitmap,0,0);return}const mt=ht.height,xt=ht.width,Rt=mt%nt,Pt=(mt-Rt)/nt,It=Rt===0?Pt:Pt+1,Tt=Ot.createImageData(xt,nt);let wt=0;const Ct=ht.data,_e=Tt.data;for(let ct=0;ct<It;ct++){const yt=ct<Pt?nt:Rt;({srcPos:wt}=(0,d.convertBlackAndWhiteToRGBA)({src:Ct,srcPos:wt,dest:_e,width:xt,height:yt,nonBlackColor:0})),Ot.putImageData(Tt,0,ct*nt)}}function At(Ot,ht){const mt=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const xt of mt)Ot[xt]!==void 0&&(ht[xt]=Ot[xt]);Ot.setLineDash!==void 0&&(ht.setLineDash(Ot.getLineDash()),ht.lineDashOffset=Ot.lineDashOffset)}function gt(Ot){Ot.strokeStyle=Ot.fillStyle="#000000",Ot.fillRule="nonzero",Ot.globalAlpha=1,Ot.lineWidth=1,Ot.lineCap="butt",Ot.lineJoin="miter",Ot.miterLimit=10,Ot.globalCompositeOperation="source-over",Ot.font="10px sans-serif",Ot.setLineDash!==void 0&&(Ot.setLineDash([]),Ot.lineDashOffset=0),h.isNodeJS||(Ot.filter="none")}function j(Ot,ht,mt,xt){const Rt=Ot.length;for(let Pt=3;Pt<Rt;Pt+=4){const It=Ot[Pt];if(It===0)Ot[Pt-3]=ht,Ot[Pt-2]=mt,Ot[Pt-1]=xt;else if(It<255){const Tt=255-It;Ot[Pt-3]=Ot[Pt-3]*It+ht*Tt>>8,Ot[Pt-2]=Ot[Pt-2]*It+mt*Tt>>8,Ot[Pt-1]=Ot[Pt-1]*It+xt*Tt>>8}}}function ot(Ot,ht,mt){const xt=Ot.length,Rt=1/255;for(let Pt=3;Pt<xt;Pt+=4){const It=mt?mt[Ot[Pt]]:Ot[Pt];ht[Pt]=ht[Pt]*It*Rt|0}}function pt(Ot,ht,mt){const xt=Ot.length;for(let Rt=3;Rt<xt;Rt+=4){const Pt=Ot[Rt-3]*77+Ot[Rt-2]*152+Ot[Rt-1]*28;ht[Rt]=mt?ht[Rt]*mt[Pt>>8]>>8:ht[Rt]*Pt>>16}}function at(Ot,ht,mt,xt,Rt,Pt,It,Tt,wt,Ct,_e){const ct=!!Pt,yt=ct?Pt[0]:0,Et=ct?Pt[1]:0,St=ct?Pt[2]:0;let Ft;Rt==="Luminosity"?Ft=pt:Ft=ot;const zt=Math.min(xt,Math.ceil(1048576/mt));for(let Vt=0;Vt<xt;Vt+=zt){const qt=Math.min(zt,xt-Vt),en=Ot.getImageData(Tt-Ct,Vt+(wt-_e),mt,qt),Jt=ht.getImageData(Tt,Vt+wt,mt,qt);ct&&j(en.data,yt,Et,St),Ft(en.data,Jt.data,It),ht.putImageData(Jt,Tt,Vt+wt)}}function vt(Ot,ht,mt,xt){const Rt=xt[0],Pt=xt[1],It=xt[2]-Rt,Tt=xt[3]-Pt;It===0||Tt===0||(at(ht.context,mt,It,Tt,ht.subtype,ht.backdrop,ht.transferMap,Rt,Pt,ht.offsetX,ht.offsetY),Ot.save(),Ot.globalAlpha=1,Ot.globalCompositeOperation="source-over",Ot.setTransform(1,0,0,1,0,0),Ot.drawImage(mt.canvas,0,0),Ot.restore())}function kt(Ot,ht){const mt=o.Util.singularValueDecompose2dScale(Ot);mt[0]=Math.fround(mt[0]),mt[1]=Math.fround(mt[1]);const xt=Math.fround((globalThis.devicePixelRatio||1)*a.PixelsPerInch.PDF_TO_CSS_UNITS);return ht!==void 0?ht:mt[0]<=xt||mt[1]<=xt}const bt=["butt","round","square"],Mt=["miter","round","bevel"],Wt={},Yt={},an=class{constructor(ht,mt,xt,Rt,Pt,{optionalContentConfig:It,markedContentStack:Tt=null},wt,Ct){Bt(this,jt);Bt(this,Kt);this.ctx=ht,this.current=new rt(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=mt,this.objs=xt,this.canvasFactory=Rt,this.filterFactory=Pt,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Tt||[],this.optionalContentConfig=It,this.cachedCanvases=new dt(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=wt,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Ct,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(ht,mt=null){return typeof ht=="string"?ht.startsWith("g_")?this.commonObjs.get(ht):this.objs.get(ht):mt}beginDrawing({transform:ht,viewport:mt,transparency:xt=!1,background:Rt=null}){const Pt=this.ctx.canvas.width,It=this.ctx.canvas.height,Tt=this.ctx.fillStyle;if(this.ctx.fillStyle=Rt||"#ffffff",this.ctx.fillRect(0,0,Pt,It),this.ctx.fillStyle=Tt,xt){const wt=this.cachedCanvases.getCanvas("transparent",Pt,It);this.compositeCtx=this.ctx,this.transparentCanvas=wt.canvas,this.ctx=wt.context,this.ctx.save(),this.ctx.transform(...(0,a.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),gt(this.ctx),ht&&(this.ctx.transform(...ht),this.outputScaleX=ht[0],this.outputScaleY=ht[0]),this.ctx.transform(...mt.transform),this.viewportScale=mt.scale,this.baseTransform=(0,a.getCurrentTransform)(this.ctx)}executeOperatorList(ht,mt,xt,Rt){const Pt=ht.argsArray,It=ht.fnArray;let Tt=mt||0;const wt=Pt.length;if(wt===Tt)return Tt;const Ct=wt-Tt>st&&typeof xt=="function",_e=Ct?Date.now()+$:0;let ct=0;const yt=this.commonObjs,Et=this.objs;let St;for(;;){if(Rt!==void 0&&Tt===Rt.nextBreakPoint)return Rt.breakIt(Tt,xt),Tt;if(St=It[Tt],St!==o.OPS.dependency)this[St].apply(this,Pt[Tt]);else for(const Ft of Pt[Tt]){const Ht=Ft.startsWith("g_")?yt:Et;if(!Ht.has(Ft))return Ht.get(Ft,xt),Tt}if(Tt++,Tt===wt)return Tt;if(Ct&&++ct>st){if(Date.now()>_e)return xt(),Tt;ct=0}}}endDrawing(){Gt(this,jt,fr).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const ht of this._cachedBitmapsMap.values()){for(const mt of ht.values())typeof HTMLCanvasElement<"u"&&mt instanceof HTMLCanvasElement&&(mt.width=mt.height=0);ht.clear()}this._cachedBitmapsMap.clear(),Gt(this,Kt,pr).call(this)}_scaleImage(ht,mt){const xt=ht.width,Rt=ht.height;let Pt=Math.max(Math.hypot(mt[0],mt[1]),1),It=Math.max(Math.hypot(mt[2],mt[3]),1),Tt=xt,wt=Rt,Ct="prescale1",_e,ct;for(;Pt>2&&Tt>1||It>2&&wt>1;){let yt=Tt,Et=wt;Pt>2&&Tt>1&&(yt=Tt>=16384?Math.floor(Tt/2)-1||1:Math.ceil(Tt/2),Pt/=Tt/yt),It>2&&wt>1&&(Et=wt>=16384?Math.floor(wt/2)-1||1:Math.ceil(wt)/2,It/=wt/Et),_e=this.cachedCanvases.getCanvas(Ct,yt,Et),ct=_e.context,ct.clearRect(0,0,yt,Et),ct.drawImage(ht,0,0,Tt,wt,0,0,yt,Et),ht=_e.canvas,Tt=yt,wt=Et,Ct=Ct==="prescale1"?"prescale2":"prescale1"}return{img:ht,paintWidth:Tt,paintHeight:wt}}_createMaskCanvas(ht){const mt=this.ctx,{width:xt,height:Rt}=ht,Pt=this.current.fillColor,It=this.current.patternFill,Tt=(0,a.getCurrentTransform)(mt);let wt,Ct,_e,ct;if((ht.bitmap||ht.data)&&ht.count>1){const sn=ht.bitmap||ht.data.buffer;Ct=JSON.stringify(It?Tt:[Tt.slice(0,4),Pt]),wt=this._cachedBitmapsMap.get(sn),wt||(wt=new Map,this._cachedBitmapsMap.set(sn,wt));const dn=wt.get(Ct);if(dn&&!It){const fn=Math.round(Math.min(Tt[0],Tt[2])+Tt[4]),pn=Math.round(Math.min(Tt[1],Tt[3])+Tt[5]);return{canvas:dn,offsetX:fn,offsetY:pn}}_e=dn}_e||(ct=this.cachedCanvases.getCanvas("maskCanvas",xt,Rt),_t(ct.context,ht));let yt=o.Util.transform(Tt,[1/xt,0,0,-1/Rt,0,0]);yt=o.Util.transform(yt,[1,0,0,1,0,-Rt]);const Et=o.Util.applyTransform([0,0],yt),St=o.Util.applyTransform([xt,Rt],yt),Ft=o.Util.normalizeRect([Et[0],Et[1],St[0],St[1]]),Ht=Math.round(Ft[2]-Ft[0])||1,zt=Math.round(Ft[3]-Ft[1])||1,Vt=this.cachedCanvases.getCanvas("fillCanvas",Ht,zt),qt=Vt.context,en=Math.min(Et[0],St[0]),Jt=Math.min(Et[1],St[1]);qt.translate(-en,-Jt),qt.transform(...yt),_e||(_e=this._scaleImage(ct.canvas,(0,a.getCurrentTransformInverse)(qt)),_e=_e.img,wt&&It&&wt.set(Ct,_e)),qt.imageSmoothingEnabled=kt((0,a.getCurrentTransform)(qt),ht.interpolate),et(qt,_e,0,0,_e.width,_e.height,0,0,xt,Rt),qt.globalCompositeOperation="source-in";const Zt=o.Util.transform((0,a.getCurrentTransformInverse)(qt),[1,0,0,1,-en,-Jt]);return qt.fillStyle=It?Pt.getPattern(mt,this,Zt,c.PathType.FILL):Pt,qt.fillRect(0,0,xt,Rt),wt&&!It&&(this.cachedCanvases.delete("fillCanvas"),wt.set(Ct,Vt.canvas)),{canvas:Vt.canvas,offsetX:Math.round(en),offsetY:Math.round(Jt)}}setLineWidth(ht){ht!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=ht,this.ctx.lineWidth=ht}setLineCap(ht){this.ctx.lineCap=bt[ht]}setLineJoin(ht){this.ctx.lineJoin=Mt[ht]}setMiterLimit(ht){this.ctx.miterLimit=ht}setDash(ht,mt){const xt=this.ctx;xt.setLineDash!==void 0&&(xt.setLineDash(ht),xt.lineDashOffset=mt)}setRenderingIntent(ht){}setFlatness(ht){}setGState(ht){for(const[mt,xt]of ht)switch(mt){case"LW":this.setLineWidth(xt);break;case"LC":this.setLineCap(xt);break;case"LJ":this.setLineJoin(xt);break;case"ML":this.setMiterLimit(xt);break;case"D":this.setDash(xt[0],xt[1]);break;case"RI":this.setRenderingIntent(xt);break;case"FL":this.setFlatness(xt);break;case"Font":this.setFont(xt[0],xt[1]);break;case"CA":this.current.strokeAlpha=xt;break;case"ca":this.current.fillAlpha=xt,this.ctx.globalAlpha=xt;break;case"BM":this.ctx.globalCompositeOperation=xt;break;case"SMask":this.current.activeSMask=xt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(xt);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const ht=this.inSMaskMode;this.current.activeSMask&&!ht?this.beginSMaskMode():!this.current.activeSMask&&ht&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const ht=this.ctx.canvas.width,mt=this.ctx.canvas.height,xt="smaskGroupAt"+this.groupLevel,Rt=this.cachedCanvases.getCanvas(xt,ht,mt);this.suspendedCtx=this.ctx,this.ctx=Rt.context;const Pt=this.ctx;Pt.setTransform(...(0,a.getCurrentTransform)(this.suspendedCtx)),At(this.suspendedCtx,Pt),tt(Pt,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),At(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(ht){if(!this.current.activeSMask)return;ht?(ht[0]=Math.floor(ht[0]),ht[1]=Math.floor(ht[1]),ht[2]=Math.ceil(ht[2]),ht[3]=Math.ceil(ht[3])):ht=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const mt=this.current.activeSMask,xt=this.suspendedCtx;vt(xt,mt,this.ctx,ht),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(At(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const ht=this.current;this.stateStack.push(ht),this.current=ht.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),At(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(ht,mt,xt,Rt,Pt,It){this.ctx.transform(ht,mt,xt,Rt,Pt,It),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(ht,mt,xt){const Rt=this.ctx,Pt=this.current;let It=Pt.x,Tt=Pt.y,wt,Ct;const _e=(0,a.getCurrentTransform)(Rt),ct=_e[0]===0&&_e[3]===0||_e[1]===0&&_e[2]===0,yt=ct?xt.slice(0):null;for(let Et=0,St=0,Ft=ht.length;Et<Ft;Et++)switch(ht[Et]|0){case o.OPS.rectangle:It=mt[St++],Tt=mt[St++];const Ht=mt[St++],zt=mt[St++],Vt=It+Ht,qt=Tt+zt;Rt.moveTo(It,Tt),Ht===0||zt===0?Rt.lineTo(Vt,qt):(Rt.lineTo(Vt,Tt),Rt.lineTo(Vt,qt),Rt.lineTo(It,qt)),ct||Pt.updateRectMinMax(_e,[It,Tt,Vt,qt]),Rt.closePath();break;case o.OPS.moveTo:It=mt[St++],Tt=mt[St++],Rt.moveTo(It,Tt),ct||Pt.updatePathMinMax(_e,It,Tt);break;case o.OPS.lineTo:It=mt[St++],Tt=mt[St++],Rt.lineTo(It,Tt),ct||Pt.updatePathMinMax(_e,It,Tt);break;case o.OPS.curveTo:wt=It,Ct=Tt,It=mt[St+4],Tt=mt[St+5],Rt.bezierCurveTo(mt[St],mt[St+1],mt[St+2],mt[St+3],It,Tt),Pt.updateCurvePathMinMax(_e,wt,Ct,mt[St],mt[St+1],mt[St+2],mt[St+3],It,Tt,yt),St+=6;break;case o.OPS.curveTo2:wt=It,Ct=Tt,Rt.bezierCurveTo(It,Tt,mt[St],mt[St+1],mt[St+2],mt[St+3]),Pt.updateCurvePathMinMax(_e,wt,Ct,It,Tt,mt[St],mt[St+1],mt[St+2],mt[St+3],yt),It=mt[St+2],Tt=mt[St+3],St+=4;break;case o.OPS.curveTo3:wt=It,Ct=Tt,It=mt[St+2],Tt=mt[St+3],Rt.bezierCurveTo(mt[St],mt[St+1],It,Tt,It,Tt),Pt.updateCurvePathMinMax(_e,wt,Ct,mt[St],mt[St+1],It,Tt,It,Tt,yt),St+=4;break;case o.OPS.closePath:Rt.closePath();break}ct&&Pt.updateScalingPathMinMax(_e,yt),Pt.setCurrentPoint(It,Tt)}closePath(){this.ctx.closePath()}stroke(ht=!0){const mt=this.ctx,xt=this.current.strokeColor;mt.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof xt=="object"&&(xt!=null&&xt.getPattern)?(mt.save(),mt.strokeStyle=xt.getPattern(mt,this,(0,a.getCurrentTransformInverse)(mt),c.PathType.STROKE),this.rescaleAndStroke(!1),mt.restore()):this.rescaleAndStroke(!0)),ht&&this.consumePath(this.current.getClippedPathBoundingBox()),mt.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(ht=!0){const mt=this.ctx,xt=this.current.fillColor,Rt=this.current.patternFill;let Pt=!1;Rt&&(mt.save(),mt.fillStyle=xt.getPattern(mt,this,(0,a.getCurrentTransformInverse)(mt),c.PathType.FILL),Pt=!0);const It=this.current.getClippedPathBoundingBox();this.contentVisible&&It!==null&&(this.pendingEOFill?(mt.fill("evenodd"),this.pendingEOFill=!1):mt.fill()),Pt&&mt.restore(),ht&&this.consumePath(It)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Wt}eoClip(){this.pendingClip=Yt}beginText(){this.current.textMatrix=o.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const ht=this.pendingTextPaths,mt=this.ctx;if(ht===void 0){mt.beginPath();return}mt.save(),mt.beginPath();for(const xt of ht)mt.setTransform(...xt.transform),mt.translate(xt.x,xt.y),xt.addToPath(mt,xt.fontSize);mt.restore(),mt.clip(),mt.beginPath(),delete this.pendingTextPaths}setCharSpacing(ht){this.current.charSpacing=ht}setWordSpacing(ht){this.current.wordSpacing=ht}setHScale(ht){this.current.textHScale=ht/100}setLeading(ht){this.current.leading=-ht}setFont(ht,mt){var _e;const xt=this.commonObjs.get(ht),Rt=this.current;if(!xt)throw new Error(`Can't find font for ${ht}`);if(Rt.fontMatrix=xt.fontMatrix||o.FONT_IDENTITY_MATRIX,(Rt.fontMatrix[0]===0||Rt.fontMatrix[3]===0)&&(0,o.warn)("Invalid font matrix for font "+ht),mt<0?(mt=-mt,Rt.fontDirection=-1):Rt.fontDirection=1,this.current.font=xt,this.current.fontSize=mt,xt.isType3Font)return;const Pt=xt.loadedName||"sans-serif",It=((_e=xt.systemFontInfo)==null?void 0:_e.css)||`"${Pt}", ${xt.fallbackName}`;let Tt="normal";xt.black?Tt="900":xt.bold&&(Tt="bold");const wt=xt.italic?"italic":"normal";let Ct=mt;mt<g?Ct=g:mt>_&&(Ct=_),this.current.fontSizeScale=mt/Ct,this.ctx.font=`${wt} ${Tt} ${Ct}px ${It}`}setTextRenderingMode(ht){this.current.textRenderingMode=ht}setTextRise(ht){this.current.textRise=ht}moveText(ht,mt){this.current.x=this.current.lineX+=ht,this.current.y=this.current.lineY+=mt}setLeadingMoveText(ht,mt){this.setLeading(-mt),this.moveText(ht,mt)}setTextMatrix(ht,mt,xt,Rt,Pt,It){this.current.textMatrix=[ht,mt,xt,Rt,Pt,It],this.current.textMatrixScale=Math.hypot(ht,mt),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(ht,mt,xt,Rt){const Pt=this.ctx,It=this.current,Tt=It.font,wt=It.textRenderingMode,Ct=It.fontSize/It.fontSizeScale,_e=wt&o.TextRenderingMode.FILL_STROKE_MASK,ct=!!(wt&o.TextRenderingMode.ADD_TO_PATH_FLAG),yt=It.patternFill&&!Tt.missingFile;let Et;(Tt.disableFontFace||ct||yt)&&(Et=Tt.getPathGenerator(this.commonObjs,ht)),Tt.disableFontFace||yt?(Pt.save(),Pt.translate(mt,xt),Pt.beginPath(),Et(Pt,Ct),Rt&&Pt.setTransform(...Rt),(_e===o.TextRenderingMode.FILL||_e===o.TextRenderingMode.FILL_STROKE)&&Pt.fill(),(_e===o.TextRenderingMode.STROKE||_e===o.TextRenderingMode.FILL_STROKE)&&Pt.stroke(),Pt.restore()):((_e===o.TextRenderingMode.FILL||_e===o.TextRenderingMode.FILL_STROKE)&&Pt.fillText(ht,mt,xt),(_e===o.TextRenderingMode.STROKE||_e===o.TextRenderingMode.FILL_STROKE)&&Pt.strokeText(ht,mt,xt)),ct&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,a.getCurrentTransform)(Pt),x:mt,y:xt,fontSize:Ct,addToPath:Et})}get isFontSubpixelAAEnabled(){const{context:ht}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);ht.scale(1.5,1),ht.fillText("I",0,10);const mt=ht.getImageData(0,0,10,10).data;let xt=!1;for(let Rt=3;Rt<mt.length;Rt+=4)if(mt[Rt]>0&&mt[Rt]<255){xt=!0;break}return(0,o.shadow)(this,"isFontSubpixelAAEnabled",xt)}showText(ht){const mt=this.current,xt=mt.font;if(xt.isType3Font)return this.showType3Text(ht);const Rt=mt.fontSize;if(Rt===0)return;const Pt=this.ctx,It=mt.fontSizeScale,Tt=mt.charSpacing,wt=mt.wordSpacing,Ct=mt.fontDirection,_e=mt.textHScale*Ct,ct=ht.length,yt=xt.vertical,Et=yt?1:-1,St=xt.defaultVMetrics,Ft=Rt*mt.fontMatrix[0],Ht=mt.textRenderingMode===o.TextRenderingMode.FILL&&!xt.disableFontFace&&!mt.patternFill;Pt.save(),Pt.transform(...mt.textMatrix),Pt.translate(mt.x,mt.y+mt.textRise),Ct>0?Pt.scale(_e,-1):Pt.scale(_e,1);let zt;if(mt.patternFill){Pt.save();const Zt=mt.fillColor.getPattern(Pt,this,(0,a.getCurrentTransformInverse)(Pt),c.PathType.FILL);zt=(0,a.getCurrentTransform)(Pt),Pt.restore(),Pt.fillStyle=Zt}let Vt=mt.lineWidth;const qt=mt.textMatrixScale;if(qt===0||Vt===0){const Zt=mt.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;(Zt===o.TextRenderingMode.STROKE||Zt===o.TextRenderingMode.FILL_STROKE)&&(Vt=this.getSinglePixelWidth())}else Vt/=qt;if(It!==1&&(Pt.scale(It,It),Vt/=It),Pt.lineWidth=Vt,xt.isInvalidPDFjsFont){const Zt=[];let sn=0;for(const dn of ht)Zt.push(dn.unicode),sn+=dn.width;Pt.fillText(Zt.join(""),0,0),mt.x+=sn*Ft*_e,Pt.restore(),this.compose();return}let en=0,Jt;for(Jt=0;Jt<ct;++Jt){const Zt=ht[Jt];if(typeof Zt=="number"){en+=Et*Zt*Rt/1e3;continue}let sn=!1;const dn=(Zt.isSpace?wt:0)+Tt,fn=Zt.fontChar,pn=Zt.accent;let Dt,on,yn=Zt.width;if(yt){const Qt=Zt.vmetric||St,Nt=-(Zt.vmetric?Qt[1]:yn*.5)*Ft,$t=Qt[2]*Ft;yn=Qt?-Qt[0]:yn,Dt=Nt/It,on=(en+$t)/It}else Dt=en/It,on=0;if(xt.remeasure&&yn>0){const Qt=Pt.measureText(fn).width*1e3/Rt*It;if(yn<Qt&&this.isFontSubpixelAAEnabled){const Nt=yn/Qt;sn=!0,Pt.save(),Pt.scale(Nt,1),Dt/=Nt}else yn!==Qt&&(Dt+=(yn-Qt)/2e3*Rt/It)}if(this.contentVisible&&(Zt.isInFont||xt.missingFile)){if(Ht&&!pn)Pt.fillText(fn,Dt,on);else if(this.paintChar(fn,Dt,on,zt),pn){const Qt=Dt+Rt*pn.offset.x/It,Nt=on-Rt*pn.offset.y/It;this.paintChar(pn.fontChar,Qt,Nt,zt)}}let _n;yt?_n=yn*Ft-dn*Ct:_n=yn*Ft+dn*Ct,en+=_n,sn&&Pt.restore()}yt?mt.y-=en:mt.x+=en*_e,Pt.restore(),this.compose()}showType3Text(ht){const mt=this.ctx,xt=this.current,Rt=xt.font,Pt=xt.fontSize,It=xt.fontDirection,Tt=Rt.vertical?1:-1,wt=xt.charSpacing,Ct=xt.wordSpacing,_e=xt.textHScale*It,ct=xt.fontMatrix||o.FONT_IDENTITY_MATRIX,yt=ht.length,Et=xt.textRenderingMode===o.TextRenderingMode.INVISIBLE;let St,Ft,Ht,zt;if(!(Et||Pt===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,mt.save(),mt.transform(...xt.textMatrix),mt.translate(xt.x,xt.y),mt.scale(_e,It),St=0;St<yt;++St){if(Ft=ht[St],typeof Ft=="number"){zt=Tt*Ft*Pt/1e3,this.ctx.translate(zt,0),xt.x+=zt*_e;continue}const Vt=(Ft.isSpace?Ct:0)+wt,qt=Rt.charProcOperatorList[Ft.operatorListId];if(!qt){(0,o.warn)(`Type3 character "${Ft.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Ft,this.save(),mt.scale(Pt,Pt),mt.transform(...ct),this.executeOperatorList(qt),this.restore()),Ht=o.Util.applyTransform([Ft.width,0],ct)[0]*Pt+Vt,mt.translate(Ht,0),xt.x+=Ht*_e}mt.restore(),this.processingType3=null}}setCharWidth(ht,mt){}setCharWidthAndBounds(ht,mt,xt,Rt,Pt,It){this.ctx.rect(xt,Rt,Pt-xt,It-Rt),this.ctx.clip(),this.endPath()}getColorN_Pattern(ht){let mt;if(ht[0]==="TilingPattern"){const xt=ht[1],Rt=this.baseTransform||(0,a.getCurrentTransform)(this.ctx),Pt={createCanvasGraphics:It=>new an(It,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};mt=new c.TilingPattern(ht,xt,this.ctx,Pt,Rt)}else mt=this._getPattern(ht[1],ht[2]);return mt}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(ht,mt,xt){const Rt=o.Util.makeHexColor(ht,mt,xt);this.ctx.strokeStyle=Rt,this.current.strokeColor=Rt}setFillRGBColor(ht,mt,xt){const Rt=o.Util.makeHexColor(ht,mt,xt);this.ctx.fillStyle=Rt,this.current.fillColor=Rt,this.current.patternFill=!1}_getPattern(ht,mt=null){let xt;return this.cachedPatterns.has(ht)?xt=this.cachedPatterns.get(ht):(xt=(0,c.getShadingPattern)(this.getObject(ht)),this.cachedPatterns.set(ht,xt)),mt&&(xt.matrix=mt),xt}shadingFill(ht){if(!this.contentVisible)return;const mt=this.ctx;this.save();const xt=this._getPattern(ht);mt.fillStyle=xt.getPattern(mt,this,(0,a.getCurrentTransformInverse)(mt),c.PathType.SHADING);const Rt=(0,a.getCurrentTransformInverse)(mt);if(Rt){const Pt=mt.canvas,It=Pt.width,Tt=Pt.height,wt=o.Util.applyTransform([0,0],Rt),Ct=o.Util.applyTransform([0,Tt],Rt),_e=o.Util.applyTransform([It,0],Rt),ct=o.Util.applyTransform([It,Tt],Rt),yt=Math.min(wt[0],Ct[0],_e[0],ct[0]),Et=Math.min(wt[1],Ct[1],_e[1],ct[1]),St=Math.max(wt[0],Ct[0],_e[0],ct[0]),Ft=Math.max(wt[1],Ct[1],_e[1],ct[1]);this.ctx.fillRect(yt,Et,St-yt,Ft-Et)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,o.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,o.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(ht,mt){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(ht)&&ht.length===6&&this.transform(...ht),this.baseTransform=(0,a.getCurrentTransform)(this.ctx),mt)){const xt=mt[2]-mt[0],Rt=mt[3]-mt[1];this.ctx.rect(mt[0],mt[1],xt,Rt),this.current.updateRectMinMax((0,a.getCurrentTransform)(this.ctx),mt),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(ht){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const mt=this.ctx;ht.isolated||(0,o.info)("TODO: Support non-isolated groups."),ht.knockout&&(0,o.warn)("Knockout groups not supported.");const xt=(0,a.getCurrentTransform)(mt);if(ht.matrix&&mt.transform(...ht.matrix),!ht.bbox)throw new Error("Bounding box is required.");let Rt=o.Util.getAxialAlignedBoundingBox(ht.bbox,(0,a.getCurrentTransform)(mt));const Pt=[0,0,mt.canvas.width,mt.canvas.height];Rt=o.Util.intersect(Rt,Pt)||[0,0,0,0];const It=Math.floor(Rt[0]),Tt=Math.floor(Rt[1]);let wt=Math.max(Math.ceil(Rt[2])-It,1),Ct=Math.max(Math.ceil(Rt[3])-Tt,1),_e=1,ct=1;wt>b&&(_e=wt/b,wt=b),Ct>b&&(ct=Ct/b,Ct=b),this.current.startNewPathAndClipBox([0,0,wt,Ct]);let yt="groupAt"+this.groupLevel;ht.smask&&(yt+="_smask_"+this.smaskCounter++%2);const Et=this.cachedCanvases.getCanvas(yt,wt,Ct),St=Et.context;St.scale(1/_e,1/ct),St.translate(-It,-Tt),St.transform(...xt),ht.smask?this.smaskStack.push({canvas:Et.canvas,context:St,offsetX:It,offsetY:Tt,scaleX:_e,scaleY:ct,subtype:ht.smask.subtype,backdrop:ht.smask.backdrop,transferMap:ht.smask.transferMap||null,startTransformInverse:null}):(mt.setTransform(1,0,0,1,0,0),mt.translate(It,Tt),mt.scale(_e,ct),mt.save()),At(mt,St),this.ctx=St,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(mt),this.groupLevel++}endGroup(ht){if(!this.contentVisible)return;this.groupLevel--;const mt=this.ctx,xt=this.groupStack.pop();if(this.ctx=xt,this.ctx.imageSmoothingEnabled=!1,ht.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Rt=(0,a.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Rt);const Pt=o.Util.getAxialAlignedBoundingBox([0,0,mt.canvas.width,mt.canvas.height],Rt);this.ctx.drawImage(mt.canvas,0,0),this.ctx.restore(),this.compose(Pt)}}beginAnnotation(ht,mt,xt,Rt,Pt){if(Gt(this,jt,fr).call(this),gt(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(mt)&&mt.length===4){const It=mt[2]-mt[0],Tt=mt[3]-mt[1];if(Pt&&this.annotationCanvasMap){xt=xt.slice(),xt[4]-=mt[0],xt[5]-=mt[1],mt=mt.slice(),mt[0]=mt[1]=0,mt[2]=It,mt[3]=Tt;const[wt,Ct]=o.Util.singularValueDecompose2dScale((0,a.getCurrentTransform)(this.ctx)),{viewportScale:_e}=this,ct=Math.ceil(It*this.outputScaleX*_e),yt=Math.ceil(Tt*this.outputScaleY*_e);this.annotationCanvas=this.canvasFactory.create(ct,yt);const{canvas:Et,context:St}=this.annotationCanvas;this.annotationCanvasMap.set(ht,Et),this.annotationCanvas.savedCtx=this.ctx,this.ctx=St,this.ctx.save(),this.ctx.setTransform(wt,0,0,-Ct,0,Tt*Ct),gt(this.ctx)}else gt(this.ctx),this.ctx.rect(mt[0],mt[1],It,Tt),this.ctx.clip(),this.endPath()}this.current=new rt(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...xt),this.transform(...Rt)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Gt(this,Kt,pr).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(ht){if(!this.contentVisible)return;const mt=ht.count;ht=this.getObject(ht.data,ht),ht.count=mt;const xt=this.ctx,Rt=this.processingType3;if(Rt&&(Rt.compiled===void 0&&(Rt.compiled=it(ht)),Rt.compiled)){Rt.compiled(xt);return}const Pt=this._createMaskCanvas(ht),It=Pt.canvas;xt.save(),xt.setTransform(1,0,0,1,0,0),xt.drawImage(It,Pt.offsetX,Pt.offsetY),xt.restore(),this.compose()}paintImageMaskXObjectRepeat(ht,mt,xt=0,Rt=0,Pt,It){if(!this.contentVisible)return;ht=this.getObject(ht.data,ht);const Tt=this.ctx;Tt.save();const wt=(0,a.getCurrentTransform)(Tt);Tt.transform(mt,xt,Rt,Pt,0,0);const Ct=this._createMaskCanvas(ht);Tt.setTransform(1,0,0,1,Ct.offsetX-wt[4],Ct.offsetY-wt[5]);for(let _e=0,ct=It.length;_e<ct;_e+=2){const yt=o.Util.transform(wt,[mt,xt,Rt,Pt,It[_e],It[_e+1]]),[Et,St]=o.Util.applyTransform([0,0],yt);Tt.drawImage(Ct.canvas,Et,St)}Tt.restore(),this.compose()}paintImageMaskXObjectGroup(ht){if(!this.contentVisible)return;const mt=this.ctx,xt=this.current.fillColor,Rt=this.current.patternFill;for(const Pt of ht){const{data:It,width:Tt,height:wt,transform:Ct}=Pt,_e=this.cachedCanvases.getCanvas("maskCanvas",Tt,wt),ct=_e.context;ct.save();const yt=this.getObject(It,Pt);_t(ct,yt),ct.globalCompositeOperation="source-in",ct.fillStyle=Rt?xt.getPattern(ct,this,(0,a.getCurrentTransformInverse)(mt),c.PathType.FILL):xt,ct.fillRect(0,0,Tt,wt),ct.restore(),mt.save(),mt.transform(...Ct),mt.scale(1,-1),et(mt,_e.canvas,0,0,Tt,wt,0,-1,1,1),mt.restore()}this.compose()}paintImageXObject(ht){if(!this.contentVisible)return;const mt=this.getObject(ht);if(!mt){(0,o.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(mt)}paintImageXObjectRepeat(ht,mt,xt,Rt){if(!this.contentVisible)return;const Pt=this.getObject(ht);if(!Pt){(0,o.warn)("Dependent image isn't ready yet");return}const It=Pt.width,Tt=Pt.height,wt=[];for(let Ct=0,_e=Rt.length;Ct<_e;Ct+=2)wt.push({transform:[mt,0,0,xt,Rt[Ct],Rt[Ct+1]],x:0,y:0,w:It,h:Tt});this.paintInlineImageXObjectGroup(Pt,wt)}applyTransferMapsToCanvas(ht){return this.current.transferMaps!=="none"&&(ht.filter=this.current.transferMaps,ht.drawImage(ht.canvas,0,0),ht.filter="none"),ht.canvas}applyTransferMapsToBitmap(ht){if(this.current.transferMaps==="none")return ht.bitmap;const{bitmap:mt,width:xt,height:Rt}=ht,Pt=this.cachedCanvases.getCanvas("inlineImage",xt,Rt),It=Pt.context;return It.filter=this.current.transferMaps,It.drawImage(mt,0,0),It.filter="none",Pt.canvas}paintInlineImageXObject(ht){if(!this.contentVisible)return;const mt=ht.width,xt=ht.height,Rt=this.ctx;this.save(),h.isNodeJS||(Rt.filter="none"),Rt.scale(1/mt,-1/xt);let Pt;if(ht.bitmap)Pt=this.applyTransferMapsToBitmap(ht);else if(typeof HTMLElement=="function"&&ht instanceof HTMLElement||!ht.data)Pt=ht;else{const wt=this.cachedCanvases.getCanvas("inlineImage",mt,xt).context;ut(wt,ht),Pt=this.applyTransferMapsToCanvas(wt)}const It=this._scaleImage(Pt,(0,a.getCurrentTransformInverse)(Rt));Rt.imageSmoothingEnabled=kt((0,a.getCurrentTransform)(Rt),ht.interpolate),et(Rt,It.img,0,0,It.paintWidth,It.paintHeight,0,-xt,mt,xt),this.compose(),this.restore()}paintInlineImageXObjectGroup(ht,mt){if(!this.contentVisible)return;const xt=this.ctx;let Rt;if(ht.bitmap)Rt=ht.bitmap;else{const Pt=ht.width,It=ht.height,wt=this.cachedCanvases.getCanvas("inlineImage",Pt,It).context;ut(wt,ht),Rt=this.applyTransferMapsToCanvas(wt)}for(const Pt of mt)xt.save(),xt.transform(...Pt.transform),xt.scale(1,-1),et(xt,Rt,Pt.x,Pt.y,Pt.w,Pt.h,0,-1,1,1),xt.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(ht){}markPointProps(ht,mt){}beginMarkedContent(ht){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(ht,mt){ht==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(mt)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(ht){const mt=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(ht);const xt=this.ctx;this.pendingClip&&(mt||(this.pendingClip===Yt?xt.clip("evenodd"):xt.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),xt.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const ht=(0,a.getCurrentTransform)(this.ctx);if(ht[1]===0&&ht[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(ht[0]),Math.abs(ht[3]));else{const mt=Math.abs(ht[0]*ht[3]-ht[2]*ht[1]),xt=Math.hypot(ht[0],ht[2]),Rt=Math.hypot(ht[1],ht[3]);this._cachedGetSinglePixelWidth=Math.max(xt,Rt)/mt}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:ht}=this.current,{a:mt,b:xt,c:Rt,d:Pt}=this.ctx.getTransform();let It,Tt;if(xt===0&&Rt===0){const wt=Math.abs(mt),Ct=Math.abs(Pt);if(wt===Ct)if(ht===0)It=Tt=1/wt;else{const _e=wt*ht;It=Tt=_e<1?1/_e:1}else if(ht===0)It=1/wt,Tt=1/Ct;else{const _e=wt*ht,ct=Ct*ht;It=_e<1?1/_e:1,Tt=ct<1?1/ct:1}}else{const wt=Math.abs(mt*Pt-xt*Rt),Ct=Math.hypot(mt,xt),_e=Math.hypot(Rt,Pt);if(ht===0)It=_e/wt,Tt=Ct/wt;else{const ct=ht*wt;It=_e>ct?_e/ct:1,Tt=Ct>ct?Ct/ct:1}}this._cachedScaleForStroking[0]=It,this._cachedScaleForStroking[1]=Tt}return this._cachedScaleForStroking}rescaleAndStroke(ht){const{ctx:mt}=this,{lineWidth:xt}=this.current,[Rt,Pt]=this.getScaleForStroking();if(mt.lineWidth=xt||1,Rt===1&&Pt===1){mt.stroke();return}const It=mt.getLineDash();if(ht&&mt.save(),mt.scale(Rt,Pt),It.length>0){const Tt=Math.max(Rt,Pt);mt.setLineDash(It.map(wt=>wt/Tt)),mt.lineDashOffset/=Tt}mt.stroke(),ht&&mt.restore()}isContentVisible(){for(let ht=this.markedContentStack.length-1;ht>=0;ht--)if(!this.markedContentStack[ht].visible)return!1;return!0}};let Lt=an;jt=new WeakSet,fr=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Kt=new WeakSet,pr=function(){if(this.pageColors){const ht=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(ht!=="none"){const mt=this.ctx.filter;this.ctx.filter=ht,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=mt}}},i.CanvasGraphics=Lt;for(const Ot in o.OPS)Lt.prototype[Ot]!==void 0&&(Lt.prototype[o.OPS[Ot]]=Lt.prototype[Ot])},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TilingPattern=i.PathType=void 0,i.getShadingPattern=lt;var o=s(1),a=s(6);const c={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};i.PathType=c;function d(et,it){if(!it)return;const rt=it[2]-it[0],ut=it[3]-it[1],_t=new Path2D;_t.rect(it[0],it[1],rt,ut),et.clip(_t)}class h{constructor(){this.constructor===h&&(0,o.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,o.unreachable)("Abstract method `getPattern` called.")}}class g extends h{constructor(it){super(),this._type=it[1],this._bbox=it[2],this._colorStops=it[3],this._p0=it[4],this._p1=it[5],this._r0=it[6],this._r1=it[7],this.matrix=null}_createGradient(it){let rt;this._type==="axial"?rt=it.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(rt=it.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const ut of this._colorStops)rt.addColorStop(ut[0],ut[1]);return rt}getPattern(it,rt,ut,_t){let At;if(_t===c.STROKE||_t===c.FILL){const gt=rt.current.getClippedPathBoundingBox(_t,(0,a.getCurrentTransform)(it))||[0,0,0,0],j=Math.ceil(gt[2]-gt[0])||1,ot=Math.ceil(gt[3]-gt[1])||1,pt=rt.cachedCanvases.getCanvas("pattern",j,ot,!0),at=pt.context;at.clearRect(0,0,at.canvas.width,at.canvas.height),at.beginPath(),at.rect(0,0,at.canvas.width,at.canvas.height),at.translate(-gt[0],-gt[1]),ut=o.Util.transform(ut,[1,0,0,1,gt[0],gt[1]]),at.transform(...rt.baseTransform),this.matrix&&at.transform(...this.matrix),d(at,this._bbox),at.fillStyle=this._createGradient(at),at.fill(),At=it.createPattern(pt.canvas,"no-repeat");const vt=new DOMMatrix(ut);At.setTransform(vt)}else d(it,this._bbox),At=this._createGradient(it);return At}}function _(et,it,rt,ut,_t,At,gt,j){const ot=it.coords,pt=it.colors,at=et.data,vt=et.width*4;let kt;ot[rt+1]>ot[ut+1]&&(kt=rt,rt=ut,ut=kt,kt=At,At=gt,gt=kt),ot[ut+1]>ot[_t+1]&&(kt=ut,ut=_t,_t=kt,kt=gt,gt=j,j=kt),ot[rt+1]>ot[ut+1]&&(kt=rt,rt=ut,ut=kt,kt=At,At=gt,gt=kt);const bt=(ot[rt]+it.offsetX)*it.scaleX,Mt=(ot[rt+1]+it.offsetY)*it.scaleY,Wt=(ot[ut]+it.offsetX)*it.scaleX,Yt=(ot[ut+1]+it.offsetY)*it.scaleY,Lt=(ot[_t]+it.offsetX)*it.scaleX,jt=(ot[_t+1]+it.offsetY)*it.scaleY;if(Mt>=jt)return;const Xt=pt[At],Kt=pt[At+1],tn=pt[At+2],an=pt[gt],Ot=pt[gt+1],ht=pt[gt+2],mt=pt[j],xt=pt[j+1],Rt=pt[j+2],Pt=Math.round(Mt),It=Math.round(jt);let Tt,wt,Ct,_e,ct,yt,Et,St;for(let Ft=Pt;Ft<=It;Ft++){if(Ft<Yt){let en;Ft<Mt?en=0:en=(Mt-Ft)/(Mt-Yt),Tt=bt-(bt-Wt)*en,wt=Xt-(Xt-an)*en,Ct=Kt-(Kt-Ot)*en,_e=tn-(tn-ht)*en}else{let en;Ft>jt?en=1:Yt===jt?en=0:en=(Yt-Ft)/(Yt-jt),Tt=Wt-(Wt-Lt)*en,wt=an-(an-mt)*en,Ct=Ot-(Ot-xt)*en,_e=ht-(ht-Rt)*en}let Ht;Ft<Mt?Ht=0:Ft>jt?Ht=1:Ht=(Mt-Ft)/(Mt-jt),ct=bt-(bt-Lt)*Ht,yt=Xt-(Xt-mt)*Ht,Et=Kt-(Kt-xt)*Ht,St=tn-(tn-Rt)*Ht;const zt=Math.round(Math.min(Tt,ct)),Vt=Math.round(Math.max(Tt,ct));let qt=vt*Ft+zt*4;for(let en=zt;en<=Vt;en++)Ht=(Tt-en)/(Tt-ct),Ht<0?Ht=0:Ht>1&&(Ht=1),at[qt++]=wt-(wt-yt)*Ht|0,at[qt++]=Ct-(Ct-Et)*Ht|0,at[qt++]=_e-(_e-St)*Ht|0,at[qt++]=255}}function b(et,it,rt){const ut=it.coords,_t=it.colors;let At,gt;switch(it.type){case"lattice":const j=it.verticesPerRow,ot=Math.floor(ut.length/j)-1,pt=j-1;for(At=0;At<ot;At++){let at=At*j;for(let vt=0;vt<pt;vt++,at++)_(et,rt,ut[at],ut[at+1],ut[at+j],_t[at],_t[at+1],_t[at+j]),_(et,rt,ut[at+j+1],ut[at+1],ut[at+j],_t[at+j+1],_t[at+1],_t[at+j])}break;case"triangles":for(At=0,gt=ut.length;At<gt;At+=3)_(et,rt,ut[At],ut[At+1],ut[At+2],_t[At],_t[At+1],_t[At+2]);break;default:throw new Error("illegal figure")}}class $ extends h{constructor(it){super(),this._coords=it[2],this._colors=it[3],this._figures=it[4],this._bounds=it[5],this._bbox=it[7],this._background=it[8],this.matrix=null}_createMeshCanvas(it,rt,ut){const j=Math.floor(this._bounds[0]),ot=Math.floor(this._bounds[1]),pt=Math.ceil(this._bounds[2])-j,at=Math.ceil(this._bounds[3])-ot,vt=Math.min(Math.ceil(Math.abs(pt*it[0]*1.1)),3e3),kt=Math.min(Math.ceil(Math.abs(at*it[1]*1.1)),3e3),bt=pt/vt,Mt=at/kt,Wt={coords:this._coords,colors:this._colors,offsetX:-j,offsetY:-ot,scaleX:1/bt,scaleY:1/Mt},Yt=vt+2*2,Lt=kt+2*2,jt=ut.getCanvas("mesh",Yt,Lt,!1),Xt=jt.context,Kt=Xt.createImageData(vt,kt);if(rt){const an=Kt.data;for(let Ot=0,ht=an.length;Ot<ht;Ot+=4)an[Ot]=rt[0],an[Ot+1]=rt[1],an[Ot+2]=rt[2],an[Ot+3]=255}for(const an of this._figures)b(Kt,an,Wt);return Xt.putImageData(Kt,2,2),{canvas:jt.canvas,offsetX:j-2*bt,offsetY:ot-2*Mt,scaleX:bt,scaleY:Mt}}getPattern(it,rt,ut,_t){d(it,this._bbox);let At;if(_t===c.SHADING)At=o.Util.singularValueDecompose2dScale((0,a.getCurrentTransform)(it));else if(At=o.Util.singularValueDecompose2dScale(rt.baseTransform),this.matrix){const j=o.Util.singularValueDecompose2dScale(this.matrix);At=[At[0]*j[0],At[1]*j[1]]}const gt=this._createMeshCanvas(At,_t===c.SHADING?null:this._background,rt.cachedCanvases);return _t!==c.SHADING&&(it.setTransform(...rt.baseTransform),this.matrix&&it.transform(...this.matrix)),it.translate(gt.offsetX,gt.offsetY),it.scale(gt.scaleX,gt.scaleY),it.createPattern(gt.canvas,"no-repeat")}}class st extends h{getPattern(){return"hotpink"}}function lt(et){switch(et[0]){case"RadialAxial":return new g(et);case"Mesh":return new $(et);case"Dummy":return new st}throw new Error(`Unknown IR type: ${et[0]}`)}const nt={COLORED:1,UNCOLORED:2},dt=class{constructor(it,rt,ut,_t,At){this.operatorList=it[2],this.matrix=it[3]||[1,0,0,1,0,0],this.bbox=it[4],this.xstep=it[5],this.ystep=it[6],this.paintType=it[7],this.tilingType=it[8],this.color=rt,this.ctx=ut,this.canvasGraphicsFactory=_t,this.baseTransform=At}createPatternCanvas(it){const rt=this.operatorList,ut=this.bbox,_t=this.xstep,At=this.ystep,gt=this.paintType,j=this.tilingType,ot=this.color,pt=this.canvasGraphicsFactory;(0,o.info)("TilingType: "+j);const at=ut[0],vt=ut[1],kt=ut[2],bt=ut[3],Mt=o.Util.singularValueDecompose2dScale(this.matrix),Wt=o.Util.singularValueDecompose2dScale(this.baseTransform),Yt=[Mt[0]*Wt[0],Mt[1]*Wt[1]],Lt=this.getSizeAndScale(_t,this.ctx.canvas.width,Yt[0]),jt=this.getSizeAndScale(At,this.ctx.canvas.height,Yt[1]),Xt=it.cachedCanvases.getCanvas("pattern",Lt.size,jt.size,!0),Kt=Xt.context,tn=pt.createCanvasGraphics(Kt);tn.groupLevel=it.groupLevel,this.setFillAndStrokeStyleToContext(tn,gt,ot);let an=at,Ot=vt,ht=kt,mt=bt;return at<0&&(an=0,ht+=Math.abs(at)),vt<0&&(Ot=0,mt+=Math.abs(vt)),Kt.translate(-(Lt.scale*an),-(jt.scale*Ot)),tn.transform(Lt.scale,0,0,jt.scale,0,0),Kt.save(),this.clipBbox(tn,an,Ot,ht,mt),tn.baseTransform=(0,a.getCurrentTransform)(tn.ctx),tn.executeOperatorList(rt),tn.endDrawing(),{canvas:Xt.canvas,scaleX:Lt.scale,scaleY:jt.scale,offsetX:an,offsetY:Ot}}getSizeAndScale(it,rt,ut){it=Math.abs(it);const _t=Math.max(dt.MAX_PATTERN_SIZE,rt);let At=Math.ceil(it*ut);return At>=_t?At=_t:ut=At/it,{scale:ut,size:At}}clipBbox(it,rt,ut,_t,At){const gt=_t-rt,j=At-ut;it.ctx.rect(rt,ut,gt,j),it.current.updateRectMinMax((0,a.getCurrentTransform)(it.ctx),[rt,ut,_t,At]),it.clip(),it.endPath()}setFillAndStrokeStyleToContext(it,rt,ut){const _t=it.ctx,At=it.current;switch(rt){case nt.COLORED:const gt=this.ctx;_t.fillStyle=gt.fillStyle,_t.strokeStyle=gt.strokeStyle,At.fillColor=gt.fillStyle,At.strokeColor=gt.strokeStyle;break;case nt.UNCOLORED:const j=o.Util.makeHexColor(ut[0],ut[1],ut[2]);_t.fillStyle=j,_t.strokeStyle=j,At.fillColor=j,At.strokeColor=j;break;default:throw new o.FormatError(`Unsupported paint type: ${rt}`)}}getPattern(it,rt,ut,_t){let At=ut;_t!==c.SHADING&&(At=o.Util.transform(At,rt.baseTransform),this.matrix&&(At=o.Util.transform(At,this.matrix)));const gt=this.createPatternCanvas(rt);let j=new DOMMatrix(At);j=j.translate(gt.offsetX,gt.offsetY),j=j.scale(1/gt.scaleX,1/gt.scaleY);const ot=it.createPattern(gt.canvas,"repeat");return ot.setTransform(j),ot}};let tt=dt;Cn(tt,"MAX_PATTERN_SIZE",3e3),i.TilingPattern=tt},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.convertBlackAndWhiteToRGBA=c,i.convertToRGBA=a,i.grayToRGBA=h;var o=s(1);function a(g){switch(g.kind){case o.ImageKind.GRAYSCALE_1BPP:return c(g);case o.ImageKind.RGB_24BPP:return d(g)}return null}function c({src:g,srcPos:_=0,dest:b,width:$,height:st,nonBlackColor:lt=4294967295,inverseDecode:nt=!1}){const tt=o.FeatureTest.isLittleEndian?4278190080:255,[dt,et]=nt?[lt,tt]:[tt,lt],it=$>>3,rt=$&7,ut=g.length;b=new Uint32Array(b.buffer);let _t=0;for(let At=0;At<st;At++){for(const j=_+it;_<j;_++){const ot=_<ut?g[_]:255;b[_t++]=ot&128?et:dt,b[_t++]=ot&64?et:dt,b[_t++]=ot&32?et:dt,b[_t++]=ot&16?et:dt,b[_t++]=ot&8?et:dt,b[_t++]=ot&4?et:dt,b[_t++]=ot&2?et:dt,b[_t++]=ot&1?et:dt}if(rt===0)continue;const gt=_<ut?g[_++]:255;for(let j=0;j<rt;j++)b[_t++]=gt&1<<7-j?et:dt}return{srcPos:_,destPos:_t}}function d({src:g,srcPos:_=0,dest:b,destPos:$=0,width:st,height:lt}){let nt=0;const tt=g.length>>2,dt=new Uint32Array(g.buffer,_,tt);if(o.FeatureTest.isLittleEndian){for(;nt<tt-2;nt+=3,$+=4){const et=dt[nt],it=dt[nt+1],rt=dt[nt+2];b[$]=et|4278190080,b[$+1]=et>>>24|it<<8|4278190080,b[$+2]=it>>>16|rt<<16|4278190080,b[$+3]=rt>>>8|4278190080}for(let et=nt*4,it=g.length;et<it;et+=3)b[$++]=g[et]|g[et+1]<<8|g[et+2]<<16|4278190080}else{for(;nt<tt-2;nt+=3,$+=4){const et=dt[nt],it=dt[nt+1],rt=dt[nt+2];b[$]=et|255,b[$+1]=et<<24|it>>>8|255,b[$+2]=it<<16|rt>>>16|255,b[$+3]=rt<<8|255}for(let et=nt*4,it=g.length;et<it;et+=3)b[$++]=g[et]<<24|g[et+1]<<16|g[et+2]<<8|255}return{srcPos:_,destPos:$}}function h(g,_){if(o.FeatureTest.isLittleEndian)for(let b=0,$=g.length;b<$;b++)_[b]=g[b]*65793|4278190080;else for(let b=0,$=g.length;b<$;b++)_[b]=g[b]*16843008|255}},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.GlobalWorkerOptions=void 0;const s=Object.create(null);i.GlobalWorkerOptions=s,s.workerPort=null,s.workerSrc=""},(e,i,s)=>{var g,jr,b,Nr,st,nr;Object.defineProperty(i,"__esModule",{value:!0}),i.MessageHandler=void 0;var o=s(1);const a={UNKNOWN:0,DATA:1,ERROR:2},c={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function d(nt){switch(nt instanceof Error||typeof nt=="object"&&nt!==null||(0,o.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),nt.name){case"AbortException":return new o.AbortException(nt.message);case"MissingPDFException":return new o.MissingPDFException(nt.message);case"PasswordException":return new o.PasswordException(nt.message,nt.code);case"UnexpectedResponseException":return new o.UnexpectedResponseException(nt.message,nt.status);case"UnknownErrorException":return new o.UnknownErrorException(nt.message,nt.details);default:return new o.UnknownErrorException(nt.message,nt.toString())}}class h{constructor(tt,dt,et){Bt(this,g);Bt(this,b);Bt(this,st);this.sourceName=tt,this.targetName=dt,this.comObj=et,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=it=>{const rt=it.data;if(rt.targetName!==this.sourceName)return;if(rt.stream){Gt(this,b,Nr).call(this,rt);return}if(rt.callback){const _t=rt.callbackId,At=this.callbackCapabilities[_t];if(!At)throw new Error(`Cannot resolve callback ${_t}`);if(delete this.callbackCapabilities[_t],rt.callback===a.DATA)At.resolve(rt.data);else if(rt.callback===a.ERROR)At.reject(d(rt.reason));else throw new Error("Unexpected callback case");return}const ut=this.actionHandler[rt.action];if(!ut)throw new Error(`Unknown action from worker: ${rt.action}`);if(rt.callbackId){const _t=this.sourceName,At=rt.sourceName;new Promise(function(gt){gt(ut(rt.data))}).then(function(gt){et.postMessage({sourceName:_t,targetName:At,callback:a.DATA,callbackId:rt.callbackId,data:gt})},function(gt){et.postMessage({sourceName:_t,targetName:At,callback:a.ERROR,callbackId:rt.callbackId,reason:d(gt)})});return}if(rt.streamId){Gt(this,g,jr).call(this,rt);return}ut(rt.data)},et.addEventListener("message",this._onComObjOnMessage)}on(tt,dt){const et=this.actionHandler;if(et[tt])throw new Error(`There is already an actionName called "${tt}"`);et[tt]=dt}send(tt,dt,et){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:tt,data:dt},et)}sendWithPromise(tt,dt,et){const it=this.callbackId++,rt=new o.PromiseCapability;this.callbackCapabilities[it]=rt;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:tt,callbackId:it,data:dt},et)}catch(ut){rt.reject(ut)}return rt.promise}sendWithStream(tt,dt,et,it){const rt=this.streamId++,ut=this.sourceName,_t=this.targetName,At=this.comObj;return new ReadableStream({start:gt=>{const j=new o.PromiseCapability;return this.streamControllers[rt]={controller:gt,startCall:j,pullCall:null,cancelCall:null,isClosed:!1},At.postMessage({sourceName:ut,targetName:_t,action:tt,streamId:rt,data:dt,desiredSize:gt.desiredSize},it),j.promise},pull:gt=>{const j=new o.PromiseCapability;return this.streamControllers[rt].pullCall=j,At.postMessage({sourceName:ut,targetName:_t,stream:c.PULL,streamId:rt,desiredSize:gt.desiredSize}),j.promise},cancel:gt=>{(0,o.assert)(gt instanceof Error,"cancel must have a valid reason");const j=new o.PromiseCapability;return this.streamControllers[rt].cancelCall=j,this.streamControllers[rt].isClosed=!0,At.postMessage({sourceName:ut,targetName:_t,stream:c.CANCEL,streamId:rt,reason:d(gt)}),j.promise}},et)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}g=new WeakSet,jr=function(tt){const dt=tt.streamId,et=this.sourceName,it=tt.sourceName,rt=this.comObj,ut=this,_t=this.actionHandler[tt.action],At={enqueue(gt,j=1,ot){if(this.isCancelled)return;const pt=this.desiredSize;this.desiredSize-=j,pt>0&&this.desiredSize<=0&&(this.sinkCapability=new o.PromiseCapability,this.ready=this.sinkCapability.promise),rt.postMessage({sourceName:et,targetName:it,stream:c.ENQUEUE,streamId:dt,chunk:gt},ot)},close(){this.isCancelled||(this.isCancelled=!0,rt.postMessage({sourceName:et,targetName:it,stream:c.CLOSE,streamId:dt}),delete ut.streamSinks[dt])},error(gt){(0,o.assert)(gt instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,rt.postMessage({sourceName:et,targetName:it,stream:c.ERROR,streamId:dt,reason:d(gt)}))},sinkCapability:new o.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:tt.desiredSize,ready:null};At.sinkCapability.resolve(),At.ready=At.sinkCapability.promise,this.streamSinks[dt]=At,new Promise(function(gt){gt(_t(tt.data,At))}).then(function(){rt.postMessage({sourceName:et,targetName:it,stream:c.START_COMPLETE,streamId:dt,success:!0})},function(gt){rt.postMessage({sourceName:et,targetName:it,stream:c.START_COMPLETE,streamId:dt,reason:d(gt)})})},b=new WeakSet,Nr=function(tt){const dt=tt.streamId,et=this.sourceName,it=tt.sourceName,rt=this.comObj,ut=this.streamControllers[dt],_t=this.streamSinks[dt];switch(tt.stream){case c.START_COMPLETE:tt.success?ut.startCall.resolve():ut.startCall.reject(d(tt.reason));break;case c.PULL_COMPLETE:tt.success?ut.pullCall.resolve():ut.pullCall.reject(d(tt.reason));break;case c.PULL:if(!_t){rt.postMessage({sourceName:et,targetName:it,stream:c.PULL_COMPLETE,streamId:dt,success:!0});break}_t.desiredSize<=0&&tt.desiredSize>0&&_t.sinkCapability.resolve(),_t.desiredSize=tt.desiredSize,new Promise(function(At){var gt;At((gt=_t.onPull)==null?void 0:gt.call(_t))}).then(function(){rt.postMessage({sourceName:et,targetName:it,stream:c.PULL_COMPLETE,streamId:dt,success:!0})},function(At){rt.postMessage({sourceName:et,targetName:it,stream:c.PULL_COMPLETE,streamId:dt,reason:d(At)})});break;case c.ENQUEUE:if((0,o.assert)(ut,"enqueue should have stream controller"),ut.isClosed)break;ut.controller.enqueue(tt.chunk);break;case c.CLOSE:if((0,o.assert)(ut,"close should have stream controller"),ut.isClosed)break;ut.isClosed=!0,ut.controller.close(),Gt(this,st,nr).call(this,ut,dt);break;case c.ERROR:(0,o.assert)(ut,"error should have stream controller"),ut.controller.error(d(tt.reason)),Gt(this,st,nr).call(this,ut,dt);break;case c.CANCEL_COMPLETE:tt.success?ut.cancelCall.resolve():ut.cancelCall.reject(d(tt.reason)),Gt(this,st,nr).call(this,ut,dt);break;case c.CANCEL:if(!_t)break;new Promise(function(At){var gt;At((gt=_t.onCancel)==null?void 0:gt.call(_t,d(tt.reason)))}).then(function(){rt.postMessage({sourceName:et,targetName:it,stream:c.CANCEL_COMPLETE,streamId:dt,success:!0})},function(At){rt.postMessage({sourceName:et,targetName:it,stream:c.CANCEL_COMPLETE,streamId:dt,reason:d(At)})}),_t.sinkCapability.reject(d(tt.reason)),_t.isCancelled=!0,delete this.streamSinks[dt];break;default:throw new Error("Unexpected stream case")}},st=new WeakSet,nr=async function(tt,dt){var et,it,rt;await Promise.allSettled([(et=tt.startCall)==null?void 0:et.promise,(it=tt.pullCall)==null?void 0:it.promise,(rt=tt.cancelCall)==null?void 0:rt.promise]),delete this.streamControllers[dt]},i.MessageHandler=h},(e,i,s)=>{var c,d;Object.defineProperty(i,"__esModule",{value:!0}),i.Metadata=void 0;var o=s(1);class a{constructor({parsedData:g,rawData:_}){Bt(this,c,void 0);Bt(this,d,void 0);rn(this,c,g),rn(this,d,_)}getRaw(){return ft(this,d)}get(g){return ft(this,c).get(g)??null}getAll(){return(0,o.objectFromMap)(ft(this,c))}has(g){return ft(this,c).has(g)}}c=new WeakMap,d=new WeakMap,i.Metadata=a},(e,i,s)=>{var g,_,b,$,st,lt,gr;Object.defineProperty(i,"__esModule",{value:!0}),i.OptionalContentConfig=void 0;var o=s(1),a=s(8);const c=Symbol("INTERNAL");class d{constructor(dt,et){Bt(this,g,!0);this.name=dt,this.intent=et}get visible(){return ft(this,g)}_setVisible(dt,et){dt!==c&&(0,o.unreachable)("Internal method `_setVisible` called."),rn(this,g,et)}}g=new WeakMap;class h{constructor(dt){Bt(this,lt);Bt(this,_,null);Bt(this,b,new Map);Bt(this,$,null);Bt(this,st,null);if(this.name=null,this.creator=null,dt!==null){this.name=dt.name,this.creator=dt.creator,rn(this,st,dt.order);for(const et of dt.groups)ft(this,b).set(et.id,new d(et.name,et.intent));if(dt.baseState==="OFF")for(const et of ft(this,b).values())et._setVisible(c,!1);for(const et of dt.on)ft(this,b).get(et)._setVisible(c,!0);for(const et of dt.off)ft(this,b).get(et)._setVisible(c,!1);rn(this,$,this.getHash())}}isVisible(dt){if(ft(this,b).size===0)return!0;if(!dt)return(0,o.warn)("Optional content group not defined."),!0;if(dt.type==="OCG")return ft(this,b).has(dt.id)?ft(this,b).get(dt.id).visible:((0,o.warn)(`Optional content group not found: ${dt.id}`),!0);if(dt.type==="OCMD"){if(dt.expression)return Gt(this,lt,gr).call(this,dt.expression);if(!dt.policy||dt.policy==="AnyOn"){for(const et of dt.ids){if(!ft(this,b).has(et))return(0,o.warn)(`Optional content group not found: ${et}`),!0;if(ft(this,b).get(et).visible)return!0}return!1}else if(dt.policy==="AllOn"){for(const et of dt.ids){if(!ft(this,b).has(et))return(0,o.warn)(`Optional content group not found: ${et}`),!0;if(!ft(this,b).get(et).visible)return!1}return!0}else if(dt.policy==="AnyOff"){for(const et of dt.ids){if(!ft(this,b).has(et))return(0,o.warn)(`Optional content group not found: ${et}`),!0;if(!ft(this,b).get(et).visible)return!0}return!1}else if(dt.policy==="AllOff"){for(const et of dt.ids){if(!ft(this,b).has(et))return(0,o.warn)(`Optional content group not found: ${et}`),!0;if(ft(this,b).get(et).visible)return!1}return!0}return(0,o.warn)(`Unknown optional content policy ${dt.policy}.`),!0}return(0,o.warn)(`Unknown group type ${dt.type}.`),!0}setVisibility(dt,et=!0){if(!ft(this,b).has(dt)){(0,o.warn)(`Optional content group not found: ${dt}`);return}ft(this,b).get(dt)._setVisible(c,!!et),rn(this,_,null)}get hasInitialVisibility(){return this.getHash()===ft(this,$)}getOrder(){return ft(this,b).size?ft(this,st)?ft(this,st).slice():[...ft(this,b).keys()]:null}getGroups(){return ft(this,b).size>0?(0,o.objectFromMap)(ft(this,b)):null}getGroup(dt){return ft(this,b).get(dt)||null}getHash(){if(ft(this,_)!==null)return ft(this,_);const dt=new a.MurmurHash3_64;for(const[et,it]of ft(this,b))dt.update(`${et}:${it.visible}`);return rn(this,_,dt.hexdigest())}}_=new WeakMap,b=new WeakMap,$=new WeakMap,st=new WeakMap,lt=new WeakSet,gr=function(dt){const et=dt.length;if(et<2)return!0;const it=dt[0];for(let rt=1;rt<et;rt++){const ut=dt[rt];let _t;if(Array.isArray(ut))_t=Gt(this,lt,gr).call(this,ut);else if(ft(this,b).has(ut))_t=ft(this,b).get(ut).visible;else return(0,o.warn)(`Optional content group not found: ${ut}`),!0;switch(it){case"And":if(!_t)return!1;break;case"Or":if(_t)return!0;break;case"Not":return!_t;default:return!0}}return it==="And"},i.OptionalContentConfig=h},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFDataTransportStream=void 0;var o=s(1),a=s(6);class c{constructor({length:_,initialData:b,progressiveDone:$=!1,contentDispositionFilename:st=null,disableRange:lt=!1,disableStream:nt=!1},tt){if((0,o.assert)(tt,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=$,this._contentDispositionFilename=st,(b==null?void 0:b.length)>0){const dt=b instanceof Uint8Array&&b.byteLength===b.buffer.byteLength?b.buffer:new Uint8Array(b).buffer;this._queuedChunks.push(dt)}this._pdfDataRangeTransport=tt,this._isStreamingSupported=!nt,this._isRangeSupported=!lt,this._contentLength=_,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((dt,et)=>{this._onReceiveData({begin:dt,chunk:et})}),this._pdfDataRangeTransport.addProgressListener((dt,et)=>{this._onProgress({loaded:dt,total:et})}),this._pdfDataRangeTransport.addProgressiveReadListener(dt=>{this._onReceiveData({chunk:dt})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:_,chunk:b}){const $=b instanceof Uint8Array&&b.byteLength===b.buffer.byteLength?b.buffer:new Uint8Array(b).buffer;if(_===void 0)this._fullRequestReader?this._fullRequestReader._enqueue($):this._queuedChunks.push($);else{const st=this._rangeReaders.some(function(lt){return lt._begin!==_?!1:(lt._enqueue($),!0)});(0,o.assert)(st,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var _;return((_=this._fullRequestReader)==null?void 0:_._loaded)??0}_onProgress(_){var b,$,st,lt;_.total===void 0?($=(b=this._rangeReaders[0])==null?void 0:b.onProgress)==null||$.call(b,{loaded:_.loaded}):(lt=(st=this._fullRequestReader)==null?void 0:st.onProgress)==null||lt.call(st,{loaded:_.loaded,total:_.total})}_onProgressiveDone(){var _;(_=this._fullRequestReader)==null||_.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(_){const b=this._rangeReaders.indexOf(_);b>=0&&this._rangeReaders.splice(b,1)}getFullReader(){(0,o.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const _=this._queuedChunks;return this._queuedChunks=null,new d(this,_,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(_,b){if(b<=this._progressiveDataLength)return null;const $=new h(this,_,b);return this._pdfDataRangeTransport.requestDataRange(_,b),this._rangeReaders.push($),$}cancelAllRequests(_){var b;(b=this._fullRequestReader)==null||b.cancel(_);for(const $ of this._rangeReaders.slice(0))$.cancel(_);this._pdfDataRangeTransport.abort()}}i.PDFDataTransportStream=c;class d{constructor(_,b,$=!1,st=null){this._stream=_,this._done=$||!1,this._filename=(0,a.isPdfFile)(st)?st:null,this._queuedChunks=b||[],this._loaded=0;for(const lt of this._queuedChunks)this._loaded+=lt.byteLength;this._requests=[],this._headersReady=Promise.resolve(),_._fullRequestReader=this,this.onProgress=null}_enqueue(_){this._done||(this._requests.length>0?this._requests.shift().resolve({value:_,done:!1}):this._queuedChunks.push(_),this._loaded+=_.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const _=new o.PromiseCapability;return this._requests.push(_),_.promise}cancel(_){this._done=!0;for(const b of this._requests)b.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class h{constructor(_,b,$){this._stream=_,this._begin=b,this._end=$,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(_){if(!this._done){if(this._requests.length===0)this._queuedChunk=_;else{this._requests.shift().resolve({value:_,done:!1});for(const $ of this._requests)$.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const b=this._queuedChunk;return this._queuedChunk=null,{value:b,done:!1}}if(this._done)return{value:void 0,done:!0};const _=new o.PromiseCapability;return this._requests.push(_),_.promise}cancel(_){this._done=!0;for(const b of this._requests)b.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaText=void 0;class s{static textContent(a){const c=[],d={items:c,styles:Object.create(null)};function h(g){var $;if(!g)return;let _=null;const b=g.name;if(b==="#text")_=g.value;else if(s.shouldBuildText(b))($=g==null?void 0:g.attributes)!=null&&$.textContent?_=g.attributes.textContent:g.value&&(_=g.value);else return;if(_!==null&&c.push({str:_}),!!g.children)for(const st of g.children)h(st)}return h(a),d}static shouldBuildText(a){return!(a==="textarea"||a==="input"||a==="option"||a==="select")}}i.XfaText=s},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.NodeStandardFontDataFactory=i.NodeFilterFactory=i.NodeCanvasFactory=i.NodeCMapReaderFactory=void 0;var o=s(7);const a=function(_){return new Promise((b,$)=>{require$$5.readFile(_,(lt,nt)=>{if(lt||!nt){$(new Error(lt));return}b(new Uint8Array(nt))})})};class c extends o.BaseFilterFactory{}i.NodeFilterFactory=c;class d extends o.BaseCanvasFactory{_createCanvas(b,$){return require$$5.createCanvas(b,$)}}i.NodeCanvasFactory=d;class h extends o.BaseCMapReaderFactory{_fetchData(b,$){return a(b).then(st=>({cMapData:st,compressionType:$}))}}i.NodeCMapReaderFactory=h;class g extends o.BaseStandardFontDataFactory{_fetchData(b){return a(b)}}i.NodeStandardFontDataFactory=g},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNodeStream=void 0;var o=s(1),a=s(22);const c=require$$5,d=require$$5,h=require$$5,g=require$$5,_=/^file:\/\/\/[a-zA-Z]:\//;function b(rt){const ut=g.parse(rt);return ut.protocol==="file:"||ut.host?ut:/^[a-z]:[/\\]/i.test(rt)?g.parse(`file:///${rt}`):(ut.host||(ut.protocol="file:"),ut)}class ${constructor(ut){this.source=ut,this.url=b(ut.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&ut.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var ut;return((ut=this._fullRequestReader)==null?void 0:ut._loaded)??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new et(this):new tt(this),this._fullRequestReader}getRangeReader(ut,_t){if(_t<=this._progressiveDataLength)return null;const At=this.isFsUrl?new it(this,ut,_t):new dt(this,ut,_t);return this._rangeRequestReaders.push(At),At}cancelAllRequests(ut){var _t;(_t=this._fullRequestReader)==null||_t.cancel(ut);for(const At of this._rangeRequestReaders.slice(0))At.cancel(ut)}}i.PDFNodeStream=$;class st{constructor(ut){this._url=ut.url,this._done=!1,this._storedError=null,this.onProgress=null;const _t=ut.source;this._contentLength=_t.length,this._loaded=0,this._filename=null,this._disableRange=_t.disableRange||!1,this._rangeChunkSize=_t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!_t.disableStream,this._isRangeSupported=!_t.disableRange,this._readableStream=null,this._readCapability=new o.PromiseCapability,this._headersCapability=new o.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var At;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const ut=this._readableStream.read();return ut===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=ut.length,(At=this.onProgress)==null||At.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(ut).buffer,done:!1})}cancel(ut){if(!this._readableStream){this._error(ut);return}this._readableStream.destroy(ut)}_error(ut){this._storedError=ut,this._readCapability.resolve()}_setReadableStream(ut){this._readableStream=ut,ut.on("readable",()=>{this._readCapability.resolve()}),ut.on("end",()=>{ut.destroy(),this._done=!0,this._readCapability.resolve()}),ut.on("error",_t=>{this._error(_t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new o.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class lt{constructor(ut){this._url=ut.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new o.PromiseCapability;const _t=ut.source;this._isStreamingSupported=!_t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var At;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const ut=this._readableStream.read();return ut===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=ut.length,(At=this.onProgress)==null||At.call(this,{loaded:this._loaded}),{value:new Uint8Array(ut).buffer,done:!1})}cancel(ut){if(!this._readableStream){this._error(ut);return}this._readableStream.destroy(ut)}_error(ut){this._storedError=ut,this._readCapability.resolve()}_setReadableStream(ut){this._readableStream=ut,ut.on("readable",()=>{this._readCapability.resolve()}),ut.on("end",()=>{ut.destroy(),this._done=!0,this._readCapability.resolve()}),ut.on("error",_t=>{this._error(_t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function nt(rt,ut){return{protocol:rt.protocol,auth:rt.auth,host:rt.hostname,port:rt.port,path:rt.path,method:"GET",headers:ut}}class tt extends st{constructor(ut){super(ut);const _t=At=>{if(At.statusCode===404){const pt=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=pt,this._headersCapability.reject(pt);return}this._headersCapability.resolve(),this._setReadableStream(At);const gt=pt=>this._readableStream.headers[pt.toLowerCase()],{allowRangeRequests:j,suggestedLength:ot}=(0,a.validateRangeRequestCapabilities)({getResponseHeader:gt,isHttp:ut.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=j,this._contentLength=ot||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(gt)};this._request=null,this._url.protocol==="http:"?this._request=d.request(nt(this._url,ut.httpHeaders),_t):this._request=h.request(nt(this._url,ut.httpHeaders),_t),this._request.on("error",At=>{this._storedError=At,this._headersCapability.reject(At)}),this._request.end()}}class dt extends lt{constructor(ut,_t,At){super(ut),this._httpHeaders={};for(const j in ut.httpHeaders){const ot=ut.httpHeaders[j];ot!==void 0&&(this._httpHeaders[j]=ot)}this._httpHeaders.Range=`bytes=${_t}-${At-1}`;const gt=j=>{if(j.statusCode===404){const ot=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=ot;return}this._setReadableStream(j)};this._request=null,this._url.protocol==="http:"?this._request=d.request(nt(this._url,this._httpHeaders),gt):this._request=h.request(nt(this._url,this._httpHeaders),gt),this._request.on("error",j=>{this._storedError=j}),this._request.end()}}class et extends st{constructor(ut){super(ut);let _t=decodeURIComponent(this._url.path);_.test(this._url.href)&&(_t=_t.replace(/^\//,"")),c.lstat(_t,(At,gt)=>{if(At){At.code==="ENOENT"&&(At=new o.MissingPDFException(`Missing PDF "${_t}".`)),this._storedError=At,this._headersCapability.reject(At);return}this._contentLength=gt.size,this._setReadableStream(c.createReadStream(_t)),this._headersCapability.resolve()})}}class it extends lt{constructor(ut,_t,At){super(ut);let gt=decodeURIComponent(this._url.path);_.test(this._url.href)&&(gt=gt.replace(/^\//,"")),this._setReadableStream(c.createReadStream(gt,{start:_t,end:At-1}))}}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createResponseStatusError=g,i.extractFilenameFromHeader=h,i.validateRangeRequestCapabilities=d,i.validateResponseStatus=_;var o=s(1),a=s(23),c=s(6);function d({getResponseHeader:b,isHttp:$,rangeChunkSize:st,disableRange:lt}){const nt={allowRangeRequests:!1,suggestedLength:void 0},tt=parseInt(b("Content-Length"),10);return!Number.isInteger(tt)||(nt.suggestedLength=tt,tt<=2*st)||lt||!$||b("Accept-Ranges")!=="bytes"||(b("Content-Encoding")||"identity")!=="identity"||(nt.allowRangeRequests=!0),nt}function h(b){const $=b("Content-Disposition");if($){let st=(0,a.getFilenameFromContentDispositionHeader)($);if(st.includes("%"))try{st=decodeURIComponent(st)}catch{}if((0,c.isPdfFile)(st))return st}return null}function g(b,$){return b===404||b===0&&$.startsWith("file:")?new o.MissingPDFException('Missing PDF "'+$+'".'):new o.UnexpectedResponseException(`Unexpected server response (${b}) while retrieving PDF "${$}".`,b)}function _(b){return b===200||b===206}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getFilenameFromContentDispositionHeader=a;var o=s(1);function a(c){let d=!0,h=g("filename\\*","i").exec(c);if(h){h=h[1];let tt=st(h);return tt=unescape(tt),tt=lt(tt),tt=nt(tt),b(tt)}if(h=$(c),h){const tt=nt(h);return b(tt)}if(h=g("filename","i").exec(c),h){h=h[1];let tt=st(h);return tt=nt(tt),b(tt)}function g(tt,dt){return new RegExp("(?:^|;)\\s*"+tt+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',dt)}function _(tt,dt){if(tt){if(!/^[\x00-\xFF]+$/.test(dt))return dt;try{const et=new TextDecoder(tt,{fatal:!0}),it=(0,o.stringToBytes)(dt);dt=et.decode(it),d=!1}catch{}}return dt}function b(tt){return d&&/[\x80-\xff]/.test(tt)&&(tt=_("utf-8",tt),d&&(tt=_("iso-8859-1",tt))),tt}function $(tt){const dt=[];let et;const it=g("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(et=it.exec(tt))!==null;){let[,ut,_t,At]=et;if(ut=parseInt(ut,10),ut in dt){if(ut===0)break;continue}dt[ut]=[_t,At]}const rt=[];for(let ut=0;ut<dt.length&&ut in dt;++ut){let[_t,At]=dt[ut];At=st(At),_t&&(At=unescape(At),ut===0&&(At=lt(At))),rt.push(At)}return rt.join("")}function st(tt){if(tt.startsWith('"')){const dt=tt.slice(1).split('\\"');for(let et=0;et<dt.length;++et){const it=dt[et].indexOf('"');it!==-1&&(dt[et]=dt[et].slice(0,it),dt.length=et+1),dt[et]=dt[et].replaceAll(/\\(.)/g,"$1")}tt=dt.join('"')}return tt}function lt(tt){const dt=tt.indexOf("'");if(dt===-1)return tt;const et=tt.slice(0,dt),rt=tt.slice(dt+1).replace(/^[^']*'/,"");return _(et,rt)}function nt(tt){return!tt.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(tt)?tt:tt.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(dt,et,it,rt){if(it==="q"||it==="Q")return rt=rt.replaceAll("_"," "),rt=rt.replaceAll(/=([0-9a-fA-F]{2})/g,function(ut,_t){return String.fromCharCode(parseInt(_t,16))}),_(et,rt);try{rt=atob(rt)}catch{}return _(et,rt)})}return""}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNetworkStream=void 0;var o=s(1),a=s(22);const c=200,d=206;function h(st){const lt=st.response;return typeof lt!="string"?lt:(0,o.stringToBytes)(lt).buffer}class g{constructor(lt,nt={}){this.url=lt,this.isHttp=/^https?:/i.test(lt),this.httpHeaders=this.isHttp&&nt.httpHeaders||Object.create(null),this.withCredentials=nt.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(lt,nt,tt){const dt={begin:lt,end:nt};for(const et in tt)dt[et]=tt[et];return this.request(dt)}requestFull(lt){return this.request(lt)}request(lt){const nt=new XMLHttpRequest,tt=this.currXhrId++,dt=this.pendingRequests[tt]={xhr:nt};nt.open("GET",this.url),nt.withCredentials=this.withCredentials;for(const et in this.httpHeaders){const it=this.httpHeaders[et];it!==void 0&&nt.setRequestHeader(et,it)}return this.isHttp&&"begin"in lt&&"end"in lt?(nt.setRequestHeader("Range",`bytes=${lt.begin}-${lt.end-1}`),dt.expectedStatus=d):dt.expectedStatus=c,nt.responseType="arraybuffer",lt.onError&&(nt.onerror=function(et){lt.onError(nt.status)}),nt.onreadystatechange=this.onStateChange.bind(this,tt),nt.onprogress=this.onProgress.bind(this,tt),dt.onHeadersReceived=lt.onHeadersReceived,dt.onDone=lt.onDone,dt.onError=lt.onError,dt.onProgress=lt.onProgress,nt.send(null),tt}onProgress(lt,nt){var dt;const tt=this.pendingRequests[lt];tt&&((dt=tt.onProgress)==null||dt.call(tt,nt))}onStateChange(lt,nt){var ut,_t,At;const tt=this.pendingRequests[lt];if(!tt)return;const dt=tt.xhr;if(dt.readyState>=2&&tt.onHeadersReceived&&(tt.onHeadersReceived(),delete tt.onHeadersReceived),dt.readyState!==4||!(lt in this.pendingRequests))return;if(delete this.pendingRequests[lt],dt.status===0&&this.isHttp){(ut=tt.onError)==null||ut.call(tt,dt.status);return}const et=dt.status||c;if(!(et===c&&tt.expectedStatus===d)&&et!==tt.expectedStatus){(_t=tt.onError)==null||_t.call(tt,dt.status);return}const rt=h(dt);if(et===d){const gt=dt.getResponseHeader("Content-Range"),j=/bytes (\d+)-(\d+)\/(\d+)/.exec(gt);tt.onDone({begin:parseInt(j[1],10),chunk:rt})}else rt?tt.onDone({begin:0,chunk:rt}):(At=tt.onError)==null||At.call(tt,dt.status)}getRequestXhr(lt){return this.pendingRequests[lt].xhr}isPendingRequest(lt){return lt in this.pendingRequests}abortRequest(lt){const nt=this.pendingRequests[lt].xhr;delete this.pendingRequests[lt],nt.abort()}}class _{constructor(lt){this._source=lt,this._manager=new g(lt.url,{httpHeaders:lt.httpHeaders,withCredentials:lt.withCredentials}),this._rangeChunkSize=lt.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(lt){const nt=this._rangeRequestReaders.indexOf(lt);nt>=0&&this._rangeRequestReaders.splice(nt,1)}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new b(this._manager,this._source),this._fullRequestReader}getRangeReader(lt,nt){const tt=new $(this._manager,lt,nt);return tt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(tt),tt}cancelAllRequests(lt){var nt;(nt=this._fullRequestReader)==null||nt.cancel(lt);for(const tt of this._rangeRequestReaders.slice(0))tt.cancel(lt)}}i.PDFNetworkStream=_;class b{constructor(lt,nt){this._manager=lt;const tt={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=nt.url,this._fullRequestId=lt.requestFull(tt),this._headersReceivedCapability=new o.PromiseCapability,this._disableRange=nt.disableRange||!1,this._contentLength=nt.length,this._rangeChunkSize=nt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const lt=this._fullRequestId,nt=this._manager.getRequestXhr(lt),tt=it=>nt.getResponseHeader(it),{allowRangeRequests:dt,suggestedLength:et}=(0,a.validateRangeRequestCapabilities)({getResponseHeader:tt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});dt&&(this._isRangeSupported=!0),this._contentLength=et||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(tt),this._isRangeSupported&&this._manager.abortRequest(lt),this._headersReceivedCapability.resolve()}_onDone(lt){if(lt&&(this._requests.length>0?this._requests.shift().resolve({value:lt.chunk,done:!1}):this._cachedChunks.push(lt.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const nt of this._requests)nt.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(lt){this._storedError=(0,a.createResponseStatusError)(lt,this._url),this._headersReceivedCapability.reject(this._storedError);for(const nt of this._requests)nt.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(lt){var nt;(nt=this.onProgress)==null||nt.call(this,{loaded:lt.loaded,total:lt.lengthComputable?lt.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const lt=new o.PromiseCapability;return this._requests.push(lt),lt.promise}cancel(lt){this._done=!0,this._headersReceivedCapability.reject(lt);for(const nt of this._requests)nt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class ${constructor(lt,nt,tt){this._manager=lt;const dt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=lt.url,this._requestId=lt.requestRange(nt,tt,dt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var lt;(lt=this.onClosed)==null||lt.call(this,this)}_onDone(lt){const nt=lt.chunk;this._requests.length>0?this._requests.shift().resolve({value:nt,done:!1}):this._queuedChunk=nt,this._done=!0;for(const tt of this._requests)tt.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(lt){this._storedError=(0,a.createResponseStatusError)(lt,this._url);for(const nt of this._requests)nt.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(lt){var nt;this.isStreamingSupported||(nt=this.onProgress)==null||nt.call(this,{loaded:lt.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const nt=this._queuedChunk;return this._queuedChunk=null,{value:nt,done:!1}}if(this._done)return{value:void 0,done:!0};const lt=new o.PromiseCapability;return this._requests.push(lt),lt.promise}cancel(lt){this._done=!0;for(const nt of this._requests)nt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFFetchStream=void 0;var o=s(1),a=s(22);function c($,st,lt){return{method:"GET",headers:$,signal:lt.signal,mode:"cors",credentials:st?"include":"same-origin",redirect:"follow"}}function d($){const st=new Headers;for(const lt in $){const nt=$[lt];nt!==void 0&&st.append(lt,nt)}return st}function h($){return $ instanceof Uint8Array?$.buffer:$ instanceof ArrayBuffer?$:((0,o.warn)(`getArrayBuffer - unexpected data format: ${$}`),new Uint8Array($).buffer)}class g{constructor(st){this.source=st,this.isHttp=/^https?:/i.test(st.url),this.httpHeaders=this.isHttp&&st.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var st;return((st=this._fullRequestReader)==null?void 0:st._loaded)??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new _(this),this._fullRequestReader}getRangeReader(st,lt){if(lt<=this._progressiveDataLength)return null;const nt=new b(this,st,lt);return this._rangeRequestReaders.push(nt),nt}cancelAllRequests(st){var lt;(lt=this._fullRequestReader)==null||lt.cancel(st);for(const nt of this._rangeRequestReaders.slice(0))nt.cancel(st)}}i.PDFFetchStream=g;class _{constructor(st){this._stream=st,this._reader=null,this._loaded=0,this._filename=null;const lt=st.source;this._withCredentials=lt.withCredentials||!1,this._contentLength=lt.length,this._headersCapability=new o.PromiseCapability,this._disableRange=lt.disableRange||!1,this._rangeChunkSize=lt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!lt.disableStream,this._isRangeSupported=!lt.disableRange,this._headers=d(this._stream.httpHeaders);const nt=lt.url;fetch(nt,c(this._headers,this._withCredentials,this._abortController)).then(tt=>{if(!(0,a.validateResponseStatus)(tt.status))throw(0,a.createResponseStatusError)(tt.status,nt);this._reader=tt.body.getReader(),this._headersCapability.resolve();const dt=rt=>tt.headers.get(rt),{allowRangeRequests:et,suggestedLength:it}=(0,a.validateRangeRequestCapabilities)({getResponseHeader:dt,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=et,this._contentLength=it||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(dt),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new o.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var nt;await this._headersCapability.promise;const{value:st,done:lt}=await this._reader.read();return lt?{value:st,done:lt}:(this._loaded+=st.byteLength,(nt=this.onProgress)==null||nt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:h(st),done:!1})}cancel(st){var lt;(lt=this._reader)==null||lt.cancel(st),this._abortController.abort()}}class b{constructor(st,lt,nt){this._stream=st,this._reader=null,this._loaded=0;const tt=st.source;this._withCredentials=tt.withCredentials||!1,this._readCapability=new o.PromiseCapability,this._isStreamingSupported=!tt.disableStream,this._abortController=new AbortController,this._headers=d(this._stream.httpHeaders),this._headers.append("Range",`bytes=${lt}-${nt-1}`);const dt=tt.url;fetch(dt,c(this._headers,this._withCredentials,this._abortController)).then(et=>{if(!(0,a.validateResponseStatus)(et.status))throw(0,a.createResponseStatusError)(et.status,dt);this._readCapability.resolve(),this._reader=et.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var nt;await this._readCapability.promise;const{value:st,done:lt}=await this._reader.read();return lt?{value:st,done:lt}:(this._loaded+=st.byteLength,(nt=this.onProgress)==null||nt.call(this,{loaded:this._loaded}),{value:h(st),done:!1})}cancel(st){var lt;(lt=this._reader)==null||lt.cancel(st),this._abortController.abort()}}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TextLayerRenderTask=void 0,i.renderTextLayer=tt,i.updateTextLayer=dt;var o=s(1),a=s(6);const c=1e5,d=30,h=.8,g=new Map;function _(et,it){let rt;if(it&&o.FeatureTest.isOffscreenCanvasSupported)rt=new OffscreenCanvas(et,et).getContext("2d",{alpha:!1});else{const ut=document.createElement("canvas");ut.width=ut.height=et,rt=ut.getContext("2d",{alpha:!1})}return rt}function b(et,it){const rt=g.get(et);if(rt)return rt;const ut=_(d,it);ut.font=`${d}px ${et}`;const _t=ut.measureText("");let At=_t.fontBoundingBoxAscent,gt=Math.abs(_t.fontBoundingBoxDescent);if(At){const ot=At/(At+gt);return g.set(et,ot),ut.canvas.width=ut.canvas.height=0,ot}ut.strokeStyle="red",ut.clearRect(0,0,d,d),ut.strokeText("g",0,0);let j=ut.getImageData(0,0,d,d).data;gt=0;for(let ot=j.length-1-3;ot>=0;ot-=4)if(j[ot]>0){gt=Math.ceil(ot/4/d);break}ut.clearRect(0,0,d,d),ut.strokeText("A",0,d),j=ut.getImageData(0,0,d,d).data,At=0;for(let ot=0,pt=j.length;ot<pt;ot+=4)if(j[ot]>0){At=d-Math.floor(ot/4/d);break}if(ut.canvas.width=ut.canvas.height=0,At){const ot=At/(At+gt);return g.set(et,ot),ot}return g.set(et,h),h}function $(et,it,rt){const ut=document.createElement("span"),_t={angle:0,canvasWidth:0,hasText:it.str!=="",hasEOL:it.hasEOL,fontSize:0};et._textDivs.push(ut);const At=o.Util.transform(et._transform,it.transform);let gt=Math.atan2(At[1],At[0]);const j=rt[it.fontName];j.vertical&&(gt+=Math.PI/2);const ot=Math.hypot(At[2],At[3]),pt=ot*b(j.fontFamily,et._isOffscreenCanvasSupported);let at,vt;gt===0?(at=At[4],vt=At[5]-pt):(at=At[4]+pt*Math.sin(gt),vt=At[5]-pt*Math.cos(gt));const kt="calc(var(--scale-factor)*",bt=ut.style;et._container===et._rootContainer?(bt.left=`${(100*at/et._pageWidth).toFixed(2)}%`,bt.top=`${(100*vt/et._pageHeight).toFixed(2)}%`):(bt.left=`${kt}${at.toFixed(2)}px)`,bt.top=`${kt}${vt.toFixed(2)}px)`),bt.fontSize=`${kt}${ot.toFixed(2)}px)`,bt.fontFamily=j.fontFamily,_t.fontSize=ot,ut.setAttribute("role","presentation"),ut.textContent=it.str,ut.dir=it.dir,et._fontInspectorEnabled&&(ut.dataset.fontName=it.fontName),gt!==0&&(_t.angle=gt*(180/Math.PI));let Mt=!1;if(it.str.length>1)Mt=!0;else if(it.str!==" "&&it.transform[0]!==it.transform[3]){const Wt=Math.abs(it.transform[0]),Yt=Math.abs(it.transform[3]);Wt!==Yt&&Math.max(Wt,Yt)/Math.min(Wt,Yt)>1.5&&(Mt=!0)}Mt&&(_t.canvasWidth=j.vertical?it.height:it.width),et._textDivProperties.set(ut,_t),et._isReadableStream&&et._layoutText(ut)}function st(et){const{div:it,scale:rt,properties:ut,ctx:_t,prevFontSize:At,prevFontFamily:gt}=et,{style:j}=it;let ot="";if(ut.canvasWidth!==0&&ut.hasText){const{fontFamily:pt}=j,{canvasWidth:at,fontSize:vt}=ut;(At!==vt||gt!==pt)&&(_t.font=`${vt*rt}px ${pt}`,et.prevFontSize=vt,et.prevFontFamily=pt);const{width:kt}=_t.measureText(it.textContent);kt>0&&(ot=`scaleX(${at*rt/kt})`)}ut.angle!==0&&(ot=`rotate(${ut.angle}deg) ${ot}`),ot.length>0&&(j.transform=ot)}function lt(et){if(et._canceled)return;const it=et._textDivs,rt=et._capability;if(it.length>c){rt.resolve();return}if(!et._isReadableStream)for(const _t of it)et._layoutText(_t);rt.resolve()}class nt{constructor({textContentSource:it,container:rt,viewport:ut,textDivs:_t,textDivProperties:At,textContentItemsStr:gt,isOffscreenCanvasSupported:j}){var kt;this._textContentSource=it,this._isReadableStream=it instanceof ReadableStream,this._container=this._rootContainer=rt,this._textDivs=_t||[],this._textContentItemsStr=gt||[],this._isOffscreenCanvasSupported=j,this._fontInspectorEnabled=!!((kt=globalThis.FontInspector)!=null&&kt.enabled),this._reader=null,this._textDivProperties=At||new WeakMap,this._canceled=!1,this._capability=new o.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:ut.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:_(0,j)};const{pageWidth:ot,pageHeight:pt,pageX:at,pageY:vt}=ut.rawDims;this._transform=[1,0,0,-1,-at,vt+pt],this._pageWidth=ot,this._pageHeight=pt,(0,a.setLayerDimensions)(rt,ut),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new o.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new o.AbortException("TextLayer task cancelled."))}_processItems(it,rt){for(const ut of it){if(ut.str===void 0){if(ut.type==="beginMarkedContentProps"||ut.type==="beginMarkedContent"){const _t=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),ut.id!==null&&this._container.setAttribute("id",`${ut.id}`),_t.append(this._container)}else ut.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(ut.str),$(this,ut,rt)}}_layoutText(it){const rt=this._layoutTextParams.properties=this._textDivProperties.get(it);if(this._layoutTextParams.div=it,st(this._layoutTextParams),rt.hasText&&this._container.append(it),rt.hasEOL){const ut=document.createElement("br");ut.setAttribute("role","presentation"),this._container.append(ut)}}_render(){const it=new o.PromiseCapability;let rt=Object.create(null);if(this._isReadableStream){const ut=()=>{this._reader.read().then(({value:_t,done:At})=>{if(At){it.resolve();return}Object.assign(rt,_t.styles),this._processItems(_t.items,rt),ut()},it.reject)};this._reader=this._textContentSource.getReader(),ut()}else if(this._textContentSource){const{items:ut,styles:_t}=this._textContentSource;this._processItems(ut,_t),it.resolve()}else throw new Error('No "textContentSource" parameter specified.');it.promise.then(()=>{rt=null,lt(this)},this._capability.reject)}}i.TextLayerRenderTask=nt;function tt(et){!et.textContentSource&&(et.textContent||et.textContentStream)&&((0,a.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),et.textContentSource=et.textContent||et.textContentStream);const{container:it,viewport:rt}=et,ut=getComputedStyle(it),_t=ut.getPropertyValue("visibility"),At=parseFloat(ut.getPropertyValue("--scale-factor"));_t==="visible"&&(!At||Math.abs(At-rt.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const gt=new nt(et);return gt._render(),gt}function dt({container:et,viewport:it,textDivs:rt,textDivProperties:ut,isOffscreenCanvasSupported:_t,mustRotate:At=!0,mustRescale:gt=!0}){if(At&&(0,a.setLayerDimensions)(et,{rotation:it.rotation}),gt){const j=_(0,_t),pt={prevFontSize:null,prevFontFamily:null,div:null,scale:it.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:j};for(const at of rt)pt.properties=ut.get(at),pt.div=at,st(pt)}}},(e,i,s)=>{var _,b,$,st,lt,nt,tt,dt,et,mr,rt,$r,_t,yr,gt,vr;Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditorLayer=void 0;var o=s(1),a=s(5),c=s(28),d=s(29),h=s(6);const ot=class{constructor(at){Bt(this,et);Bt(this,rt);Bt(this,_t);Bt(this,gt);Bt(this,_,void 0);Bt(this,b,!1);Bt(this,$,this.pointerup.bind(this));Bt(this,st,this.pointerdown.bind(this));Bt(this,lt,new Map);Bt(this,nt,!1);Bt(this,tt,!1);Bt(this,dt,void 0);ot._initialized||(ot._initialized=!0,c.FreeTextEditor.initialize(at.l10n),d.InkEditor.initialize(at.l10n)),at.uiManager.registerEditorTypes([c.FreeTextEditor,d.InkEditor]),rn(this,dt,at.uiManager),this.pageIndex=at.pageIndex,this.div=at.div,rn(this,_,at.accessibilityManager),ft(this,dt).addLayer(this)}get isEmpty(){return ft(this,lt).size===0}updateToolbar(at){ft(this,dt).updateToolbar(at)}updateMode(at=ft(this,dt).getMode()){Gt(this,gt,vr).call(this),at===o.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),ft(this,dt).unselectAll(),at!==o.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",at===o.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",at===o.AnnotationEditorType.INK),this.div.hidden=!1)}addInkEditorIfNeeded(at){if(!at&&ft(this,dt).getMode()!==o.AnnotationEditorType.INK)return;if(!at){for(const kt of ft(this,lt).values())if(kt.isEmpty()){kt.setInBackground();return}}Gt(this,_t,yr).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(at){ft(this,dt).setEditingState(at)}addCommands(at){ft(this,dt).addCommands(at)}enable(){this.div.style.pointerEvents="auto";for(const at of ft(this,lt).values())at.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const at of ft(this,lt).values())at.disableEditing();Gt(this,gt,vr).call(this),this.isEmpty&&(this.div.hidden=!0)}setActiveEditor(at){ft(this,dt).getActive()!==at&&ft(this,dt).setActiveEditor(at)}enableClick(){this.div.addEventListener("pointerdown",ft(this,st)),this.div.addEventListener("pointerup",ft(this,$))}disableClick(){this.div.removeEventListener("pointerdown",ft(this,st)),this.div.removeEventListener("pointerup",ft(this,$))}attach(at){ft(this,lt).set(at.id,at)}detach(at){var vt;ft(this,lt).delete(at.id),(vt=ft(this,_))==null||vt.removePointerInTextLayer(at.contentDiv)}remove(at){ft(this,dt).removeEditor(at),this.detach(at),at.div.style.display="none",setTimeout(()=>{at.div.style.display="",at.div.remove(),at.isAttachedToDOM=!1,document.activeElement===document.body&&ft(this,dt).focusMainContainer()},0),ft(this,tt)||this.addInkEditorIfNeeded(!1)}add(at){if(Gt(this,et,mr).call(this,at),ft(this,dt).addEditor(at),this.attach(at),!at.isAttachedToDOM){const vt=at.render();this.div.append(vt),at.isAttachedToDOM=!0}this.moveEditorInDOM(at),at.onceAdded(),ft(this,dt).addToAnnotationStorage(at)}moveEditorInDOM(at){var vt;(vt=ft(this,_))==null||vt.moveElementInDOM(this.div,at.div,at.contentDiv,!0)}addOrRebuild(at){at.needsToBeRebuilt()?at.rebuild():this.add(at)}addANewEditor(at){const vt=()=>{this.addOrRebuild(at)},kt=()=>{at.remove()};this.addCommands({cmd:vt,undo:kt,mustExec:!0})}addUndoableEditor(at){const vt=()=>{this.addOrRebuild(at)},kt=()=>{at.remove()};this.addCommands({cmd:vt,undo:kt,mustExec:!1})}getNextId(){return ft(this,dt).getId()}deserialize(at){switch(at.annotationType){case o.AnnotationEditorType.FREETEXT:return c.FreeTextEditor.deserialize(at,this,ft(this,dt));case o.AnnotationEditorType.INK:return d.InkEditor.deserialize(at,this,ft(this,dt))}return null}setSelected(at){ft(this,dt).setSelected(at)}toggleSelected(at){ft(this,dt).toggleSelected(at)}isSelected(at){return ft(this,dt).isSelected(at)}unselect(at){ft(this,dt).unselect(at)}pointerup(at){const{isMac:vt}=o.FeatureTest.platform;if(!(at.button!==0||at.ctrlKey&&vt)&&at.target===this.div&&ft(this,nt)){if(rn(this,nt,!1),!ft(this,b)){rn(this,b,!0);return}Gt(this,_t,yr).call(this,at)}}pointerdown(at){const{isMac:vt}=o.FeatureTest.platform;if(at.button!==0||at.ctrlKey&&vt||at.target!==this.div)return;rn(this,nt,!0);const kt=ft(this,dt).getActive();rn(this,b,!kt||kt.isEmpty())}drop(at){const vt=at.dataTransfer.getData("text/plain"),kt=ft(this,dt).getEditor(vt);if(!kt)return;at.preventDefault(),at.dataTransfer.dropEffect="move",Gt(this,et,mr).call(this,kt);const bt=this.div.getBoundingClientRect(),Mt=at.clientX-bt.x,Wt=at.clientY-bt.y;kt.translate(Mt-kt.startX,Wt-kt.startY),this.moveEditorInDOM(kt),kt.div.focus()}dragover(at){at.preventDefault()}destroy(){var at,vt;((at=ft(this,dt).getActive())==null?void 0:at.parent)===this&&ft(this,dt).setActiveEditor(null);for(const kt of ft(this,lt).values())(vt=ft(this,_))==null||vt.removePointerInTextLayer(kt.contentDiv),kt.setParent(null),kt.isAttachedToDOM=!1,kt.div.remove();this.div=null,ft(this,lt).clear(),ft(this,dt).removeLayer(this)}render({viewport:at}){this.viewport=at,(0,h.setLayerDimensions)(this.div,at),(0,a.bindEvents)(this,this.div,["dragover","drop"]);for(const vt of ft(this,dt).getEditors(this.pageIndex))this.add(vt);this.updateMode()}update({viewport:at}){ft(this,dt).commitOrRemove(),this.viewport=at,(0,h.setLayerDimensions)(this.div,{rotation:at.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:at,pageHeight:vt}=this.viewport.rawDims;return[at,vt]}};let g=ot;_=new WeakMap,b=new WeakMap,$=new WeakMap,st=new WeakMap,lt=new WeakMap,nt=new WeakMap,tt=new WeakMap,dt=new WeakMap,et=new WeakSet,mr=function(at){var vt;at.parent!==this&&(this.attach(at),(vt=at.parent)==null||vt.detach(at),at.setParent(this),at.div&&at.isAttachedToDOM&&(at.div.remove(),this.div.append(at.div)))},rt=new WeakSet,$r=function(at){switch(ft(this,dt).getMode()){case o.AnnotationEditorType.FREETEXT:return new c.FreeTextEditor(at);case o.AnnotationEditorType.INK:return new d.InkEditor(at)}return null},_t=new WeakSet,yr=function(at){const vt=this.getNextId(),kt=Gt(this,rt,$r).call(this,{parent:this,id:vt,x:at.offsetX,y:at.offsetY,uiManager:ft(this,dt)});return kt&&this.add(kt),kt},gt=new WeakSet,vr=function(){rn(this,tt,!0);for(const at of ft(this,lt).values())at.isEmpty()&&at.remove();rn(this,tt,!1)},Cn(g,"_initialized",!1),i.AnnotationEditorLayer=g},(e,i,s)=>{var h,g,_,b,$,st,lt,nt,tt,dt,Ur,it,Br,ut,zr,At,_r;Object.defineProperty(i,"__esModule",{value:!0}),i.FreeTextEditor=void 0;var o=s(1),a=s(5),c=s(4);const j=class extends c.AnnotationEditor{constructor(at){super({...at,name:"freeTextEditor"});Bt(this,dt);Bt(this,it);Bt(this,ut);Bt(this,At);Bt(this,h,this.editorDivBlur.bind(this));Bt(this,g,this.editorDivFocus.bind(this));Bt(this,_,this.editorDivInput.bind(this));Bt(this,b,this.editorDivKeydown.bind(this));Bt(this,$,void 0);Bt(this,st,"");Bt(this,lt,`${this.id}-editor`);Bt(this,nt,!1);Bt(this,tt,void 0);rn(this,$,at.color||j._defaultColor||c.AnnotationEditor._defaultLineColor),rn(this,tt,at.fontSize||j._defaultFontSize)}static initialize(at){this._l10nPromise=new Map(["free_text2_default_content","editor_free_text2_aria_label"].map(kt=>[kt,at.get(kt)]));const vt=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(vt.getPropertyValue("--freetext-padding"))}static updateDefaultParams(at,vt){switch(at){case o.AnnotationEditorParamsType.FREETEXT_SIZE:j._defaultFontSize=vt;break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:j._defaultColor=vt;break}}updateParams(at,vt){switch(at){case o.AnnotationEditorParamsType.FREETEXT_SIZE:Gt(this,dt,Ur).call(this,vt);break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:Gt(this,it,Br).call(this,vt);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,j._defaultFontSize],[o.AnnotationEditorParamsType.FREETEXT_COLOR,j._defaultColor||c.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,ft(this,tt)],[o.AnnotationEditorParamsType.FREETEXT_COLOR,ft(this,$)]]}getInitialTranslation(){const at=this.parentScale;return[-j._internalPadding*at,-(j._internalPadding+ft(this,tt))*at]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(o.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",ft(this,b)),this.editorDiv.addEventListener("focus",ft(this,g)),this.editorDiv.addEventListener("blur",ft(this,h)),this.editorDiv.addEventListener("input",ft(this,_)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",ft(this,lt)),this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",ft(this,b)),this.editorDiv.removeEventListener("focus",ft(this,g)),this.editorDiv.removeEventListener("blur",ft(this,h)),this.editorDiv.removeEventListener("input",ft(this,_)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(at){super.focusin(at),at.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing"),super.remove()}commit(){this.isInEditMode()&&(super.commit(),ft(this,nt)||(rn(this,nt,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),rn(this,st,Gt(this,ut,zr).call(this).trimEnd()),Gt(this,At,_r).call(this))}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(at){this.enableEditMode(),this.editorDiv.focus()}keydown(at){at.target===this.div&&at.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(at){j._keyboardManager.exec(this,at)}editorDivFocus(at){this.isEditing=!0}editorDivBlur(at){this.isEditing=!1}editorDivInput(at){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let at,vt;this.width&&(at=this.x,vt=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",ft(this,lt)),this.enableEditing(),j._l10nPromise.get("editor_free_text2_aria_label").then(bt=>{var Mt;return(Mt=this.editorDiv)==null?void 0:Mt.setAttribute("aria-label",bt)}),j._l10nPromise.get("free_text2_default_content").then(bt=>{var Mt;return(Mt=this.editorDiv)==null?void 0:Mt.setAttribute("default-content",bt)}),this.editorDiv.contentEditable=!0;const{style:kt}=this.editorDiv;if(kt.fontSize=`calc(${ft(this,tt)}px * var(--scale-factor))`,kt.color=ft(this,$),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,a.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[bt,Mt]=this.parentDimensions;this.setAt(at*bt,vt*Mt,this.width*bt,this.height*Mt);for(const Wt of ft(this,st).split(`
`)){const Yt=document.createElement("div");Yt.append(Wt?document.createTextNode(Wt):document.createElement("br")),this.editorDiv.append(Yt)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(at,vt,kt){const bt=super.deserialize(at,vt,kt);return rn(bt,tt,at.fontSize),rn(bt,$,o.Util.makeHexColor(...at.color)),rn(bt,st,at.value),bt}serialize(){if(this.isEmpty())return null;const at=j._internalPadding*this.parentScale,vt=this.getRect(at,at),kt=c.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:ft(this,$));return{annotationType:o.AnnotationEditorType.FREETEXT,color:kt,fontSize:ft(this,tt),value:ft(this,st),pageIndex:this.pageIndex,rect:vt,rotation:this.rotation}}};let d=j;h=new WeakMap,g=new WeakMap,_=new WeakMap,b=new WeakMap,$=new WeakMap,st=new WeakMap,lt=new WeakMap,nt=new WeakMap,tt=new WeakMap,dt=new WeakSet,Ur=function(at){const vt=bt=>{this.editorDiv.style.fontSize=`calc(${bt}px * var(--scale-factor))`,this.translate(0,-(bt-ft(this,tt))*this.parentScale),rn(this,tt,bt),Gt(this,At,_r).call(this)},kt=ft(this,tt);this.addCommands({cmd:()=>{vt(at)},undo:()=>{vt(kt)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},it=new WeakSet,Br=function(at){const vt=ft(this,$);this.addCommands({cmd:()=>{rn(this,$,this.editorDiv.style.color=at)},undo:()=>{rn(this,$,this.editorDiv.style.color=vt)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},ut=new WeakSet,zr=function(){const at=this.editorDiv.getElementsByTagName("div");if(at.length===0)return this.editorDiv.innerText;const vt=[];for(const kt of at)vt.push(kt.innerText.replace(/\r\n?|\n/,""));return vt.join(`
`)},At=new WeakSet,_r=function(){const[at,vt]=this.parentDimensions;let kt;if(this.isAttachedToDOM)kt=this.div.getBoundingClientRect();else{const{currentLayer:bt,div:Mt}=this,Wt=Mt.style.display;Mt.style.display="hidden",bt.div.append(this.div),kt=Mt.getBoundingClientRect(),Mt.remove(),Mt.style.display=Wt}this.width=kt.width/at,this.height=kt.height/vt},Cn(d,"_freeTextDefaultContent",""),Cn(d,"_l10nPromise"),Cn(d,"_internalPadding",0),Cn(d,"_defaultColor",null),Cn(d,"_defaultFontSize",10),Cn(d,"_keyboardManager",new a.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],j.prototype.commitOrRemove]])),Cn(d,"_type","freetext"),i.FreeTextEditor=d},(e,i,s)=>{var g,_,b,$,st,lt,nt,tt,dt,et,it,rt,ut,_t,At,gt,j,Hr,pt,Wr,vt,Vr,bt,Gr,Wt,br,Lt,qr,Xt,Sr,tn,Kr,Ot,Xr,mt,Yr,Rt,Qr,It,Jr,wt,Nn,_e,Er,yt,rr,St,ir,Ht,Vn,Vt,xr,en,sr,Zt,Zr,dn,_i,pn,es,on,ts,_n,Ar,Nt,or,ln,Gn,kn,wr;Object.defineProperty(i,"__esModule",{value:!0}),i.InkEditor=void 0;var o=s(1),a=s(4),c=s(5);const d=16,Tn=class extends a.AnnotationEditor{constructor(Ut){super({...Ut,name:"inkEditor"});Bt(this,j);Bt(this,pt);Bt(this,vt);Bt(this,bt);Bt(this,Wt);Bt(this,Lt);Bt(this,Xt);Bt(this,tn);Bt(this,Ot);Bt(this,mt);Bt(this,Rt);Bt(this,It);Bt(this,wt);Bt(this,_e);Bt(this,yt);Bt(this,St);Bt(this,Ht);Bt(this,Vt);Bt(this,en);Bt(this,dn);Bt(this,pn);Bt(this,on);Bt(this,_n);Bt(this,Nt);Bt(this,ln);Bt(this,kn);Bt(this,g,0);Bt(this,_,0);Bt(this,b,0);Bt(this,$,this.canvasContextMenu.bind(this));Bt(this,st,this.canvasPointermove.bind(this));Bt(this,lt,this.canvasPointerleave.bind(this));Bt(this,nt,this.canvasPointerup.bind(this));Bt(this,tt,this.canvasPointerdown.bind(this));Bt(this,dt,new Path2D);Bt(this,et,!1);Bt(this,it,!1);Bt(this,rt,!1);Bt(this,ut,null);Bt(this,_t,0);Bt(this,At,0);Bt(this,gt,null);this.color=Ut.color||null,this.thickness=Ut.thickness||null,this.opacity=Ut.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(Ut){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink2_aria_label"].map(nn=>[nn,Ut.get(nn)]))}static updateDefaultParams(Ut,nn){switch(Ut){case o.AnnotationEditorParamsType.INK_THICKNESS:Tn._defaultThickness=nn;break;case o.AnnotationEditorParamsType.INK_COLOR:Tn._defaultColor=nn;break;case o.AnnotationEditorParamsType.INK_OPACITY:Tn._defaultOpacity=nn/100;break}}updateParams(Ut,nn){switch(Ut){case o.AnnotationEditorParamsType.INK_THICKNESS:Gt(this,j,Hr).call(this,nn);break;case o.AnnotationEditorParamsType.INK_COLOR:Gt(this,pt,Wr).call(this,nn);break;case o.AnnotationEditorParamsType.INK_OPACITY:Gt(this,vt,Vr).call(this,nn);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,Tn._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,Tn._defaultColor||a.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(Tn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Tn._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,this.color||Tn._defaultColor||a.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??Tn._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(Gt(this,yt,rr).call(this),Gt(this,St,ir).call(this)),this.isAttachedToDOM||(this.parent.add(this),Gt(this,Ht,Vn).call(this)),Gt(this,ln,Gn).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,ft(this,ut).disconnect(),rn(this,ut,null),super.remove())}setParent(Ut){!this.parent&&Ut?this._uiManager.removeShouldRescale(this):this.parent&&Ut===null&&this._uiManager.addShouldRescale(this),super.setParent(Ut)}onScaleChanging(){const[Ut,nn]=this.parentDimensions,cn=this.width*Ut,un=this.height*nn;this.setDimensions(cn,un)}enableEditMode(){ft(this,et)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",ft(this,tt)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",ft(this,tt)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){ft(this,et)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),rn(this,et,!0),this.div.classList.add("disabled"),Gt(this,ln,Gn).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus({preventScroll:!0}))}focusin(Ut){super.focusin(Ut),this.enableEditMode()}canvasPointerdown(Ut){Ut.button!==0||!this.isInEditMode()||ft(this,et)||(this.setInForeground(),Ut.preventDefault(),Ut.type!=="mouse"&&this.div.focus(),Gt(this,Lt,qr).call(this,Ut.offsetX,Ut.offsetY))}canvasContextMenu(Ut){Ut.preventDefault()}canvasPointermove(Ut){Ut.preventDefault(),Gt(this,Xt,Sr).call(this,Ut.offsetX,Ut.offsetY)}canvasPointerup(Ut){Ut.preventDefault(),Gt(this,_e,Er).call(this,Ut)}canvasPointerleave(Ut){Gt(this,_e,Er).call(this,Ut)}render(){if(this.div)return this.div;let Ut,nn;this.width&&(Ut=this.x,nn=this.y),super.render(),Tn._l10nPromise.get("editor_ink2_aria_label").then(vn=>{var gn;return(gn=this.div)==null?void 0:gn.setAttribute("aria-label",vn)});const[cn,un,hn,mn]=Gt(this,bt,Gr).call(this);if(this.setAt(cn,un,0,0),this.setDims(hn,mn),Gt(this,yt,rr).call(this),this.width){const[vn,gn]=this.parentDimensions;this.setAt(Ut*vn,nn*gn,this.width*vn,this.height*gn),rn(this,rt,!0),Gt(this,Ht,Vn).call(this),this.setDims(this.width*vn,this.height*gn),Gt(this,wt,Nn).call(this),Gt(this,kn,wr).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Gt(this,St,ir).call(this),this.div}setDimensions(Ut,nn){const cn=Math.round(Ut),un=Math.round(nn);if(ft(this,_t)===cn&&ft(this,At)===un)return;rn(this,_t,cn),rn(this,At,un),this.canvas.style.visibility="hidden",ft(this,g)&&Math.abs(ft(this,g)-Ut/nn)>.01&&(nn=Math.ceil(Ut/ft(this,g)),this.setDims(Ut,nn));const[hn,mn]=this.parentDimensions;this.width=Ut/hn,this.height=nn/mn,ft(this,et)&&Gt(this,Vt,xr).call(this,Ut,nn),Gt(this,Ht,Vn).call(this),Gt(this,wt,Nn).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Ut,nn,cn){var An,wn;const un=super.deserialize(Ut,nn,cn);un.thickness=Ut.thickness,un.color=o.Util.makeHexColor(...Ut.color),un.opacity=Ut.opacity;const[hn,mn]=un.pageDimensions,vn=un.width*hn,gn=un.height*mn,xn=un.parentScale,bn=Ut.thickness/2;rn(un,g,vn/gn),rn(un,et,!0),rn(un,_t,Math.round(vn)),rn(un,At,Math.round(gn));for(const{bezier:Pn}of Ut.paths){const In=[];un.paths.push(In);let Fn=xn*(Pn[0]-bn),On=xn*(gn-Pn[1]-bn);for(let Mn=2,Xn=Pn.length;Mn<Xn;Mn+=6){const Yn=xn*(Pn[Mn]-bn),Qn=xn*(gn-Pn[Mn+1]-bn),Jn=xn*(Pn[Mn+2]-bn),Zn=xn*(gn-Pn[Mn+3]-bn),Tr=xn*(Pn[Mn+4]-bn),Pr=xn*(gn-Pn[Mn+5]-bn);In.push([[Fn,On],[Yn,Qn],[Jn,Zn],[Tr,Pr]]),Fn=Tr,On=Pr}const jn=Gt(this,Zt,Zr).call(this,In);un.bezierPath2D.push(jn)}const Sn=Gt(An=un,_n,Ar).call(An);return rn(un,b,Math.max(d,Sn[2]-Sn[0])),rn(un,_,Math.max(d,Sn[3]-Sn[1])),Gt(wn=un,Vt,xr).call(wn,vn,gn),un}serialize(){if(this.isEmpty())return null;const Ut=this.getRect(0,0),nn=this.rotation%180===0?Ut[3]-Ut[1]:Ut[2]-Ut[0],cn=a.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:o.AnnotationEditorType.INK,color:cn,thickness:this.thickness,opacity:this.opacity,paths:Gt(this,dn,_i).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,nn),pageIndex:this.pageIndex,rect:Ut,rotation:this.rotation}}};let h=Tn;g=new WeakMap,_=new WeakMap,b=new WeakMap,$=new WeakMap,st=new WeakMap,lt=new WeakMap,nt=new WeakMap,tt=new WeakMap,dt=new WeakMap,et=new WeakMap,it=new WeakMap,rt=new WeakMap,ut=new WeakMap,_t=new WeakMap,At=new WeakMap,gt=new WeakMap,j=new WeakSet,Hr=function(Ut){const nn=this.thickness;this.addCommands({cmd:()=>{this.thickness=Ut,Gt(this,ln,Gn).call(this)},undo:()=>{this.thickness=nn,Gt(this,ln,Gn).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},pt=new WeakSet,Wr=function(Ut){const nn=this.color;this.addCommands({cmd:()=>{this.color=Ut,Gt(this,wt,Nn).call(this)},undo:()=>{this.color=nn,Gt(this,wt,Nn).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},vt=new WeakSet,Vr=function(Ut){Ut/=100;const nn=this.opacity;this.addCommands({cmd:()=>{this.opacity=Ut,Gt(this,wt,Nn).call(this)},undo:()=>{this.opacity=nn,Gt(this,wt,Nn).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},bt=new WeakSet,Gr=function(){const{parentRotation:Ut,parentDimensions:[nn,cn]}=this;switch(Ut){case 90:return[0,cn,cn,nn];case 180:return[nn,cn,nn,cn];case 270:return[nn,0,cn,nn];default:return[0,0,nn,cn]}},Wt=new WeakSet,br=function(){const{ctx:Ut,color:nn,opacity:cn,thickness:un,parentScale:hn,scaleFactor:mn}=this;Ut.lineWidth=un*hn/mn,Ut.lineCap="round",Ut.lineJoin="round",Ut.miterLimit=10,Ut.strokeStyle=`${nn}${(0,c.opacityToHex)(cn)}`},Lt=new WeakSet,qr=function(Ut,nn){this.canvas.addEventListener("contextmenu",ft(this,$)),this.canvas.addEventListener("pointerleave",ft(this,lt)),this.canvas.addEventListener("pointermove",ft(this,st)),this.canvas.addEventListener("pointerup",ft(this,nt)),this.canvas.removeEventListener("pointerdown",ft(this,tt)),this.isEditing=!0,ft(this,rt)||(rn(this,rt,!0),Gt(this,Ht,Vn).call(this),this.thickness||(this.thickness=Tn._defaultThickness),this.color||(this.color=Tn._defaultColor||a.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=Tn._defaultOpacity)),this.currentPath.push([Ut,nn]),rn(this,it,!1),Gt(this,Wt,br).call(this),rn(this,gt,()=>{Gt(this,mt,Yr).call(this),ft(this,gt)&&window.requestAnimationFrame(ft(this,gt))}),window.requestAnimationFrame(ft(this,gt))},Xt=new WeakSet,Sr=function(Ut,nn){const[cn,un]=this.currentPath.at(-1);if(this.currentPath.length>1&&Ut===cn&&nn===un)return;const hn=this.currentPath;let mn=ft(this,dt);if(hn.push([Ut,nn]),rn(this,it,!0),hn.length<=2){mn.moveTo(...hn[0]),mn.lineTo(Ut,nn);return}hn.length===3&&(rn(this,dt,mn=new Path2D),mn.moveTo(...hn[0])),Gt(this,Rt,Qr).call(this,mn,...hn.at(-3),...hn.at(-2),Ut,nn)},tn=new WeakSet,Kr=function(){if(this.currentPath.length===0)return;const Ut=this.currentPath.at(-1);ft(this,dt).lineTo(...Ut)},Ot=new WeakSet,Xr=function(Ut,nn){rn(this,gt,null),Ut=Math.min(Math.max(Ut,0),this.canvas.width),nn=Math.min(Math.max(nn,0),this.canvas.height),Gt(this,Xt,Sr).call(this,Ut,nn),Gt(this,tn,Kr).call(this);let cn;if(this.currentPath.length!==1)cn=Gt(this,It,Jr).call(this);else{const gn=[Ut,nn];cn=[[gn,gn.slice(),gn.slice(),gn]]}const un=ft(this,dt),hn=this.currentPath;this.currentPath=[],rn(this,dt,new Path2D);const mn=()=>{this.allRawPaths.push(hn),this.paths.push(cn),this.bezierPath2D.push(un),this.rebuild()},vn=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Gt(this,yt,rr).call(this),Gt(this,St,ir).call(this)),Gt(this,ln,Gn).call(this))};this.addCommands({cmd:mn,undo:vn,mustExec:!0})},mt=new WeakSet,Yr=function(){if(!ft(this,it))return;rn(this,it,!1);const Ut=Math.ceil(this.thickness*this.parentScale),nn=this.currentPath.slice(-3),cn=nn.map(mn=>mn[0]),un=nn.map(mn=>mn[1]);Math.min(...cn)-Ut,Math.max(...cn)+Ut,Math.min(...un)-Ut,Math.max(...un)+Ut;const{ctx:hn}=this;hn.save(),hn.clearRect(0,0,this.canvas.width,this.canvas.height);for(const mn of this.bezierPath2D)hn.stroke(mn);hn.stroke(ft(this,dt)),hn.restore()},Rt=new WeakSet,Qr=function(Ut,nn,cn,un,hn,mn,vn){const gn=(nn+un)/2,xn=(cn+hn)/2,bn=(un+mn)/2,Sn=(hn+vn)/2;Ut.bezierCurveTo(gn+2*(un-gn)/3,xn+2*(hn-xn)/3,bn+2*(un-bn)/3,Sn+2*(hn-Sn)/3,bn,Sn)},It=new WeakSet,Jr=function(){const Ut=this.currentPath;if(Ut.length<=2)return[[Ut[0],Ut[0],Ut.at(-1),Ut.at(-1)]];const nn=[];let cn,[un,hn]=Ut[0];for(cn=1;cn<Ut.length-2;cn++){const[An,wn]=Ut[cn],[Pn,In]=Ut[cn+1],Fn=(An+Pn)/2,On=(wn+In)/2,jn=[un+2*(An-un)/3,hn+2*(wn-hn)/3],Mn=[Fn+2*(An-Fn)/3,On+2*(wn-On)/3];nn.push([[un,hn],jn,Mn,[Fn,On]]),[un,hn]=[Fn,On]}const[mn,vn]=Ut[cn],[gn,xn]=Ut[cn+1],bn=[un+2*(mn-un)/3,hn+2*(vn-hn)/3],Sn=[gn+2*(mn-gn)/3,xn+2*(vn-xn)/3];return nn.push([[un,hn],bn,Sn,[gn,xn]]),nn},wt=new WeakSet,Nn=function(){if(this.isEmpty()){Gt(this,en,sr).call(this);return}Gt(this,Wt,br).call(this);const{canvas:Ut,ctx:nn}=this;nn.setTransform(1,0,0,1,0,0),nn.clearRect(0,0,Ut.width,Ut.height),Gt(this,en,sr).call(this);for(const cn of this.bezierPath2D)nn.stroke(cn)},_e=new WeakSet,Er=function(Ut){this.canvas.removeEventListener("pointerleave",ft(this,lt)),this.canvas.removeEventListener("pointermove",ft(this,st)),this.canvas.removeEventListener("pointerup",ft(this,nt)),this.canvas.addEventListener("pointerdown",ft(this,tt)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",ft(this,$))},10),Gt(this,Ot,Xr).call(this,Ut.offsetX,Ut.offsetY),this.addToAnnotationStorage(),this.setInBackground()},yt=new WeakSet,rr=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",Tn._l10nPromise.get("editor_ink_canvas_aria_label").then(Ut=>{var nn;return(nn=this.canvas)==null?void 0:nn.setAttribute("aria-label",Ut)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},St=new WeakSet,ir=function(){rn(this,ut,new ResizeObserver(Ut=>{const nn=Ut[0].contentRect;nn.width&&nn.height&&this.setDimensions(nn.width,nn.height)})),ft(this,ut).observe(this.div)},Ht=new WeakSet,Vn=function(){if(!ft(this,rt))return;const[Ut,nn]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Ut),this.canvas.height=Math.ceil(this.height*nn),Gt(this,en,sr).call(this)},Vt=new WeakSet,xr=function(Ut,nn){const cn=Gt(this,Nt,or).call(this),un=(Ut-cn)/ft(this,b),hn=(nn-cn)/ft(this,_);this.scaleFactor=Math.min(un,hn)},en=new WeakSet,sr=function(){const Ut=Gt(this,Nt,or).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Ut,this.translationY*this.scaleFactor+Ut)},Zt=new WeakSet,Zr=function(Ut){const nn=new Path2D;for(let cn=0,un=Ut.length;cn<un;cn++){const[hn,mn,vn,gn]=Ut[cn];cn===0&&nn.moveTo(...hn),nn.bezierCurveTo(mn[0],mn[1],vn[0],vn[1],gn[0],gn[1])}return nn},dn=new WeakSet,_i=function(Ut,nn,cn,un){const mn=[],vn=this.thickness/2;let gn,xn;for(const bn of this.paths){gn=[],xn=[];for(let Sn=0,An=bn.length;Sn<An;Sn++){const[wn,Pn,In,Fn]=bn[Sn],On=Ut*(wn[0]+nn)+vn,jn=un-Ut*(wn[1]+cn)-vn,Mn=Ut*(Pn[0]+nn)+vn,Xn=un-Ut*(Pn[1]+cn)-vn,Yn=Ut*(In[0]+nn)+vn,Qn=un-Ut*(In[1]+cn)-vn,Jn=Ut*(Fn[0]+nn)+vn,Zn=un-Ut*(Fn[1]+cn)-vn;Sn===0&&(gn.push(On,jn),xn.push(On,jn)),gn.push(Mn,Xn,Yn,Qn,Jn,Zn),Gt(this,pn,es).call(this,On,jn,Mn,Xn,Yn,Qn,Jn,Zn,4,xn)}mn.push({bezier:gn,points:xn})}return mn},pn=new WeakSet,es=function(Ut,nn,cn,un,hn,mn,vn,gn,xn,bn){if(Gt(this,on,ts).call(this,Ut,nn,cn,un,hn,mn,vn,gn)){bn.push(vn,gn);return}for(let Sn=1;Sn<xn-1;Sn++){const An=Sn/xn,wn=1-An;let Pn=An*Ut+wn*cn,In=An*nn+wn*un,Fn=An*cn+wn*hn,On=An*un+wn*mn;const jn=An*hn+wn*vn,Mn=An*mn+wn*gn;Pn=An*Pn+wn*Fn,In=An*In+wn*On,Fn=An*Fn+wn*jn,On=An*On+wn*Mn,Pn=An*Pn+wn*Fn,In=An*In+wn*On,bn.push(Pn,In)}bn.push(vn,gn)},on=new WeakSet,ts=function(Ut,nn,cn,un,hn,mn,vn,gn){const bn=(3*cn-2*Ut-vn)**2,Sn=(3*un-2*nn-gn)**2,An=(3*hn-Ut-2*vn)**2,wn=(3*mn-nn-2*gn)**2;return Math.max(bn,An)+Math.max(Sn,wn)<=10},_n=new WeakSet,Ar=function(){let Ut=1/0,nn=-1/0,cn=1/0,un=-1/0;for(const hn of this.paths)for(const[mn,vn,gn,xn]of hn){const bn=o.Util.bezierBoundingBox(...mn,...vn,...gn,...xn);Ut=Math.min(Ut,bn[0]),cn=Math.min(cn,bn[1]),nn=Math.max(nn,bn[2]),un=Math.max(un,bn[3])}return[Ut,cn,nn,un]},Nt=new WeakSet,or=function(){return ft(this,et)?Math.ceil(this.thickness*this.parentScale):0},ln=new WeakSet,Gn=function(Ut=!1){if(this.isEmpty())return;if(!ft(this,et)){Gt(this,wt,Nn).call(this);return}const nn=Gt(this,_n,Ar).call(this),cn=Gt(this,Nt,or).call(this);rn(this,b,Math.max(d,nn[2]-nn[0])),rn(this,_,Math.max(d,nn[3]-nn[1]));const un=Math.ceil(cn+ft(this,b)*this.scaleFactor),hn=Math.ceil(cn+ft(this,_)*this.scaleFactor),[mn,vn]=this.parentDimensions;this.width=un/mn,this.height=hn/vn,rn(this,g,un/hn),Gt(this,kn,wr).call(this);const gn=this.translationX,xn=this.translationY;this.translationX=-nn[0],this.translationY=-nn[1],Gt(this,Ht,Vn).call(this),Gt(this,wt,Nn).call(this),rn(this,_t,un),rn(this,At,hn),this.setDims(un,hn);const bn=Ut?cn/this.scaleFactor/2:0;this.translate(gn-this.translationX-bn,xn-this.translationY-bn)},kn=new WeakSet,wr=function(){const{style:Ut}=this.div;ft(this,g)>=1?(Ut.minHeight=`${d}px`,Ut.minWidth=`${Math.round(ft(this,g)*d)}px`):(Ut.minWidth=`${d}px`,Ut.minHeight=`${Math.round(d/ft(this,g))}px`)},Bt(h,Zt),Cn(h,"_defaultColor",null),Cn(h,"_defaultOpacity",1),Cn(h,"_defaultThickness",1),Cn(h,"_l10nPromise"),Cn(h,"_type","ink"),i.InkEditor=h},(e,i,s)=>{var an,Bn,ht,ns,Rt,Cr,It,kr;Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationLayer=void 0;var o=s(1),a=s(6),c=s(3),d=s(31),h=s(32);const g=1e3,_=9,b=new WeakSet;function $(Ct){return{width:Ct[2]-Ct[0],height:Ct[3]-Ct[1]}}class st{static create(_e){switch(_e.data.annotationType){case o.AnnotationType.LINK:return new nt(_e);case o.AnnotationType.TEXT:return new tt(_e);case o.AnnotationType.WIDGET:switch(_e.data.fieldType){case"Tx":return new et(_e);case"Btn":return _e.data.radioButton?new rt(_e):_e.data.checkBox?new it(_e):new ut(_e);case"Ch":return new _t(_e)}return new dt(_e);case o.AnnotationType.POPUP:return new At(_e);case o.AnnotationType.FREETEXT:return new j(_e);case o.AnnotationType.LINE:return new ot(_e);case o.AnnotationType.SQUARE:return new pt(_e);case o.AnnotationType.CIRCLE:return new at(_e);case o.AnnotationType.POLYLINE:return new vt(_e);case o.AnnotationType.CARET:return new bt(_e);case o.AnnotationType.INK:return new Mt(_e);case o.AnnotationType.POLYGON:return new kt(_e);case o.AnnotationType.HIGHLIGHT:return new Wt(_e);case o.AnnotationType.UNDERLINE:return new Yt(_e);case o.AnnotationType.SQUIGGLY:return new Lt(_e);case o.AnnotationType.STRIKEOUT:return new jt(_e);case o.AnnotationType.STAMP:return new Xt(_e);case o.AnnotationType.FILEATTACHMENT:return new Kt(_e);default:return new lt(_e)}}}class lt{constructor(_e,{isRenderable:ct=!1,ignoreBorder:yt=!1,createQuadrilaterals:Et=!1}={}){this.isRenderable=ct,this.data=_e.data,this.layer=_e.layer,this.page=_e.page,this.viewport=_e.viewport,this.linkService=_e.linkService,this.downloadManager=_e.downloadManager,this.imageResourcesPath=_e.imageResourcesPath,this.renderForms=_e.renderForms,this.svgFactory=_e.svgFactory,this.annotationStorage=_e.annotationStorage,this.enableScripting=_e.enableScripting,this.hasJSActions=_e.hasJSActions,this._fieldObjects=_e.fieldObjects,ct&&(this.container=this._createContainer(yt)),Et&&(this.quadrilaterals=this._createQuadrilaterals(yt))}_createContainer(_e=!1){const{data:ct,page:yt,viewport:Et}=this,St=document.createElement("section");St.setAttribute("data-annotation-id",ct.id),ct.noRotate&&St.classList.add("norotate");const{pageWidth:Ft,pageHeight:Ht,pageX:zt,pageY:Vt}=Et.rawDims,{width:qt,height:en}=$(ct.rect),Jt=o.Util.normalizeRect([ct.rect[0],yt.view[3]-ct.rect[1]+yt.view[1],ct.rect[2],yt.view[3]-ct.rect[3]+yt.view[1]]);if(!_e&&ct.borderStyle.width>0){St.style.borderWidth=`${ct.borderStyle.width}px`;const sn=ct.borderStyle.horizontalCornerRadius,dn=ct.borderStyle.verticalCornerRadius;if(sn>0||dn>0){const pn=`calc(${sn}px * var(--scale-factor)) / calc(${dn}px * var(--scale-factor))`;St.style.borderRadius=pn}else if(this instanceof rt){const pn=`calc(${qt}px * var(--scale-factor)) / calc(${en}px * var(--scale-factor))`;St.style.borderRadius=pn}switch(ct.borderStyle.style){case o.AnnotationBorderStyleType.SOLID:St.style.borderStyle="solid";break;case o.AnnotationBorderStyleType.DASHED:St.style.borderStyle="dashed";break;case o.AnnotationBorderStyleType.BEVELED:(0,o.warn)("Unimplemented border style: beveled");break;case o.AnnotationBorderStyleType.INSET:(0,o.warn)("Unimplemented border style: inset");break;case o.AnnotationBorderStyleType.UNDERLINE:St.style.borderBottomStyle="solid";break}const fn=ct.borderColor||null;fn?St.style.borderColor=o.Util.makeHexColor(fn[0]|0,fn[1]|0,fn[2]|0):St.style.borderWidth=0}St.style.left=`${100*(Jt[0]-zt)/Ft}%`,St.style.top=`${100*(Jt[1]-Vt)/Ht}%`;const{rotation:Zt}=ct;return ct.hasOwnCanvas||Zt===0?(St.style.width=`${100*qt/Ft}%`,St.style.height=`${100*en/Ht}%`):this.setRotation(Zt,St),St}setRotation(_e,ct=this.container){const{pageWidth:yt,pageHeight:Et}=this.viewport.rawDims,{width:St,height:Ft}=$(this.data.rect);let Ht,zt;_e%180===0?(Ht=100*St/yt,zt=100*Ft/Et):(Ht=100*Ft/yt,zt=100*St/Et),ct.style.width=`${Ht}%`,ct.style.height=`${zt}%`,ct.setAttribute("data-main-rotation",(360-_e)%360)}get _commonActions(){const _e=(ct,yt,Et)=>{const St=Et.detail[ct];Et.target.style[yt]=d.ColorConverters[`${St[0]}_HTML`](St.slice(1))};return(0,o.shadow)(this,"_commonActions",{display:ct=>{const yt=ct.detail.display%2===1;this.container.style.visibility=yt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:yt,print:ct.detail.display===0||ct.detail.display===3})},print:ct=>{this.annotationStorage.setValue(this.data.id,{print:ct.detail.print})},hidden:ct=>{this.container.style.visibility=ct.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:ct.detail.hidden})},focus:ct=>{setTimeout(()=>ct.target.focus({preventScroll:!1}),0)},userName:ct=>{ct.target.title=ct.detail.userName},readonly:ct=>{ct.detail.readonly?ct.target.setAttribute("readonly",""):ct.target.removeAttribute("readonly")},required:ct=>{this._setRequired(ct.target,ct.detail.required)},bgColor:ct=>{_e("bgColor","backgroundColor",ct)},fillColor:ct=>{_e("fillColor","backgroundColor",ct)},fgColor:ct=>{_e("fgColor","color",ct)},textColor:ct=>{_e("textColor","color",ct)},borderColor:ct=>{_e("borderColor","borderColor",ct)},strokeColor:ct=>{_e("strokeColor","borderColor",ct)},rotation:ct=>{const yt=ct.detail.rotation;this.setRotation(yt),this.annotationStorage.setValue(this.data.id,{rotation:yt})}})}_dispatchEventFromSandbox(_e,ct){const yt=this._commonActions;for(const Et of Object.keys(ct.detail)){const St=_e[Et]||yt[Et];St==null||St(ct)}}_setDefaultPropertiesFromJS(_e){if(!this.enableScripting)return;const ct=this.annotationStorage.getRawValue(this.data.id);if(!ct)return;const yt=this._commonActions;for(const[Et,St]of Object.entries(ct)){const Ft=yt[Et];if(Ft){const Ht={detail:{[Et]:St},target:_e};Ft(Ht),delete ct[Et]}}}_createQuadrilaterals(_e=!1){if(!this.data.quadPoints)return null;const ct=[],yt=this.data.rect;for(const Et of this.data.quadPoints)this.data.rect=[Et[2].x,Et[2].y,Et[1].x,Et[1].y],ct.push(this._createContainer(_e));return this.data.rect=yt,ct}_createPopup(_e,ct){let yt=this.container;this.quadrilaterals&&(_e||(_e=this.quadrilaterals),yt=this.quadrilaterals[0]),_e||(_e=document.createElement("div"),_e.classList.add("popupTriggerArea"),yt.append(_e));const St=new gt({container:yt,trigger:_e,color:ct.color,titleObj:ct.titleObj,modificationDate:ct.modificationDate,contentsObj:ct.contentsObj,richText:ct.richText,hideWrapper:!0}).render();St.style.left="100%",yt.append(St)}_renderQuadrilaterals(_e){for(const ct of this.quadrilaterals)ct.classList.add(_e);return this.quadrilaterals}render(){(0,o.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(_e,ct=null){const yt=[];if(this._fieldObjects){const Et=this._fieldObjects[_e];if(Et)for(const{page:St,id:Ft,exportValues:Ht}of Et){if(St===-1||Ft===ct)continue;const zt=typeof Ht=="string"?Ht:null,Vt=document.querySelector(`[data-element-id="${Ft}"]`);if(Vt&&!b.has(Vt)){(0,o.warn)(`_getElementsByName - element not allowed: ${Ft}`);continue}yt.push({id:Ft,exportValue:zt,domElement:Vt})}return yt}for(const Et of document.getElementsByName(_e)){const{exportValue:St}=Et,Ft=Et.getAttribute("data-element-id");Ft!==ct&&b.has(Et)&&yt.push({id:Ft,exportValue:St,domElement:Et})}return yt}}class nt extends lt{constructor(ct,yt=null){super(ct,{isRenderable:!0,ignoreBorder:!!(yt!=null&&yt.ignoreBorder),createQuadrilaterals:!0});Bt(this,an);Bt(this,ht);this.isTooltipOnly=ct.data.isTooltipOnly}render(){const{data:ct,linkService:yt}=this,Et=document.createElement("a");Et.setAttribute("data-element-id",ct.id);let St=!1;return ct.url?(yt.addLinkAttributes(Et,ct.url,ct.newWindow),St=!0):ct.action?(this._bindNamedAction(Et,ct.action),St=!0):ct.attachment?(this._bindAttachment(Et,ct.attachment),St=!0):ct.setOCGState?(Gt(this,ht,ns).call(this,Et,ct.setOCGState),St=!0):ct.dest?(this._bindLink(Et,ct.dest),St=!0):(ct.actions&&(ct.actions.Action||ct.actions["Mouse Up"]||ct.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Et,ct),St=!0),ct.resetForm?(this._bindResetFormAction(Et,ct.resetForm),St=!0):this.isTooltipOnly&&!St&&(this._bindLink(Et,""),St=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((Ft,Ht)=>{const zt=Ht===0?Et:Et.cloneNode();return Ft.append(zt),Ft}):(this.container.classList.add("linkAnnotation"),St&&this.container.append(Et),this.container)}_bindLink(ct,yt){ct.href=this.linkService.getDestinationHash(yt),ct.onclick=()=>(yt&&this.linkService.goToDestination(yt),!1),(yt||yt==="")&&Gt(this,an,Bn).call(this)}_bindNamedAction(ct,yt){ct.href=this.linkService.getAnchorUrl(""),ct.onclick=()=>(this.linkService.executeNamedAction(yt),!1),Gt(this,an,Bn).call(this)}_bindAttachment(ct,yt){ct.href=this.linkService.getAnchorUrl(""),ct.onclick=()=>{var Et;return(Et=this.downloadManager)==null||Et.openOrDownloadData(this.container,yt.content,yt.filename),!1},Gt(this,an,Bn).call(this)}_bindJSAction(ct,yt){ct.href=this.linkService.getAnchorUrl("");const Et=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const St of Object.keys(yt.actions)){const Ft=Et.get(St);Ft&&(ct[Ft]=()=>{var Ht;return(Ht=this.linkService.eventBus)==null||Ht.dispatch("dispatcheventinsandbox",{source:this,detail:{id:yt.id,name:St}}),!1})}ct.onclick||(ct.onclick=()=>!1),Gt(this,an,Bn).call(this)}_bindResetFormAction(ct,yt){const Et=ct.onclick;if(Et||(ct.href=this.linkService.getAnchorUrl("")),Gt(this,an,Bn).call(this),!this._fieldObjects){(0,o.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Et||(ct.onclick=()=>!1);return}ct.onclick=()=>{var en;Et==null||Et();const{fields:St,refs:Ft,include:Ht}=yt,zt=[];if(St.length!==0||Ft.length!==0){const Jt=new Set(Ft);for(const Zt of St){const sn=this._fieldObjects[Zt]||[];for(const{id:dn}of sn)Jt.add(dn)}for(const Zt of Object.values(this._fieldObjects))for(const sn of Zt)Jt.has(sn.id)===Ht&&zt.push(sn)}else for(const Jt of Object.values(this._fieldObjects))zt.push(...Jt);const Vt=this.annotationStorage,qt=[];for(const Jt of zt){const{id:Zt}=Jt;switch(qt.push(Zt),Jt.type){case"text":{const dn=Jt.defaultValue||"";Vt.setValue(Zt,{value:dn});break}case"checkbox":case"radiobutton":{const dn=Jt.defaultValue===Jt.exportValues;Vt.setValue(Zt,{value:dn});break}case"combobox":case"listbox":{const dn=Jt.defaultValue||"";Vt.setValue(Zt,{value:dn});break}default:continue}const sn=document.querySelector(`[data-element-id="${Zt}"]`);if(sn){if(!b.has(sn)){(0,o.warn)(`_bindResetFormAction - element not allowed: ${Zt}`);continue}}else continue;sn.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((en=this.linkService.eventBus)==null||en.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:qt,name:"ResetForm"}})),!1}}}an=new WeakSet,Bn=function(){this.container.setAttribute("data-internal-link","")},ht=new WeakSet,ns=function(ct,yt){ct.href=this.linkService.getAnchorUrl(""),ct.onclick=()=>(this.linkService.executeSetOCGState(yt),!1),Gt(this,an,Bn).call(this)};class tt extends lt{constructor(_e){var yt,Et,St;const ct=!!(_e.data.hasPopup||(yt=_e.data.titleObj)!=null&&yt.str||(Et=_e.data.contentsObj)!=null&&Et.str||(St=_e.data.richText)!=null&&St.str);super(_e,{isRenderable:ct})}render(){this.container.classList.add("textAnnotation");const _e=document.createElement("img");return _e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",_e.alt="[{{type}} Annotation]",_e.dataset.l10nId="text_annotation_type",_e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(_e,this.data),this.container.append(_e),this.container}}class dt extends lt{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(_e){var ct;this.data.hasOwnCanvas&&(((ct=_e.previousSibling)==null?void 0:ct.nodeName)==="CANVAS"&&(_e.previousSibling.hidden=!0),_e.hidden=!1)}_getKeyModifier(_e){const{isWin:ct,isMac:yt}=o.FeatureTest.platform;return ct&&_e.ctrlKey||yt&&_e.metaKey}_setEventListener(_e,ct,yt,Et){ct.includes("mouse")?_e.addEventListener(ct,St=>{var Ft;(Ft=this.linkService.eventBus)==null||Ft.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:yt,value:Et(St),shift:St.shiftKey,modifier:this._getKeyModifier(St)}})}):_e.addEventListener(ct,St=>{var Ft;(Ft=this.linkService.eventBus)==null||Ft.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:yt,value:Et(St)}})})}_setEventListeners(_e,ct,yt){var Et;for(const[St,Ft]of ct)(Ft==="Action"||(Et=this.data.actions)!=null&&Et[Ft])&&this._setEventListener(_e,St,Ft,yt)}_setBackgroundColor(_e){const ct=this.data.backgroundColor||null;_e.style.backgroundColor=ct===null?"transparent":o.Util.makeHexColor(ct[0],ct[1],ct[2])}_setTextStyle(_e){const ct=["left","center","right"],{fontColor:yt}=this.data.defaultAppearanceData,Et=this.data.defaultAppearanceData.fontSize||_,St=_e.style;let Ft;const Ht=2,zt=Vt=>Math.round(10*Vt)/10;if(this.data.multiLine){const Vt=Math.abs(this.data.rect[3]-this.data.rect[1]-Ht),qt=Math.round(Vt/(o.LINE_FACTOR*Et))||1,en=Vt/qt;Ft=Math.min(Et,zt(en/o.LINE_FACTOR))}else{const Vt=Math.abs(this.data.rect[3]-this.data.rect[1]-Ht);Ft=Math.min(Et,zt(Vt/o.LINE_FACTOR))}St.fontSize=`calc(${Ft}px * var(--scale-factor))`,St.color=o.Util.makeHexColor(yt[0],yt[1],yt[2]),this.data.textAlignment!==null&&(St.textAlign=ct[this.data.textAlignment])}_setRequired(_e,ct){ct?_e.setAttribute("required",!0):_e.removeAttribute("required"),_e.setAttribute("aria-required",ct)}}class et extends dt{constructor(_e){const ct=_e.renderForms||!_e.data.hasAppearance&&!!_e.data.fieldValue;super(_e,{isRenderable:ct})}setPropertyOnSiblings(_e,ct,yt,Et){const St=this.annotationStorage;for(const Ft of this._getElementsByName(_e.name,_e.id))Ft.domElement&&(Ft.domElement[ct]=yt),St.setValue(Ft.id,{[Et]:yt})}render(){var Et,St;const _e=this.annotationStorage,ct=this.data.id;this.container.classList.add("textWidgetAnnotation");let yt=null;if(this.renderForms){const Ft=_e.getValue(ct,{value:this.data.fieldValue});let Ht=Ft.value||"";const zt=_e.getValue(ct,{charLimit:this.data.maxLen}).charLimit;zt&&Ht.length>zt&&(Ht=Ht.slice(0,zt));let Vt=Ft.formattedValue||((Et=this.data.textContent)==null?void 0:Et.join(`
`))||null;Vt&&this.data.comb&&(Vt=Vt.replaceAll(/\s+/g,""));const qt={userValue:Ht,formattedValue:Vt,lastCommittedValue:null,commitKey:1};this.data.multiLine?(yt=document.createElement("textarea"),yt.textContent=Vt??Ht,this.data.doNotScroll&&(yt.style.overflowY="hidden")):(yt=document.createElement("input"),yt.type="text",yt.setAttribute("value",Vt??Ht),this.data.doNotScroll&&(yt.style.overflowX="hidden")),this.data.hasOwnCanvas&&(yt.hidden=!0),b.add(yt),yt.setAttribute("data-element-id",ct),yt.disabled=this.data.readOnly,yt.name=this.data.fieldName,yt.tabIndex=g,this._setRequired(yt,this.data.required),zt&&(yt.maxLength=zt),yt.addEventListener("input",Jt=>{_e.setValue(ct,{value:Jt.target.value}),this.setPropertyOnSiblings(yt,"value",Jt.target.value,"value"),qt.formattedValue=null}),yt.addEventListener("resetform",Jt=>{const Zt=this.data.defaultFieldValue??"";yt.value=qt.userValue=Zt,qt.formattedValue=null});let en=Jt=>{const{formattedValue:Zt}=qt;Zt!=null&&(Jt.target.value=Zt),Jt.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){yt.addEventListener("focus",Zt=>{const{target:sn}=Zt;qt.userValue&&(sn.value=qt.userValue),qt.lastCommittedValue=sn.value,qt.commitKey=1}),yt.addEventListener("updatefromsandbox",Zt=>{this.showElementAndHideCanvas(Zt.target);const sn={value(dn){qt.userValue=dn.detail.value??"",_e.setValue(ct,{value:qt.userValue.toString()}),dn.target.value=qt.userValue},formattedValue(dn){const{formattedValue:fn}=dn.detail;qt.formattedValue=fn,fn!=null&&dn.target!==document.activeElement&&(dn.target.value=fn),_e.setValue(ct,{formattedValue:fn})},selRange(dn){dn.target.setSelectionRange(...dn.detail.selRange)},charLimit:dn=>{var on;const{charLimit:fn}=dn.detail,{target:pn}=dn;if(fn===0){pn.removeAttribute("maxLength");return}pn.setAttribute("maxLength",fn);let Dt=qt.userValue;!Dt||Dt.length<=fn||(Dt=Dt.slice(0,fn),pn.value=qt.userValue=Dt,_e.setValue(ct,{value:Dt}),(on=this.linkService.eventBus)==null||on.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ct,name:"Keystroke",value:Dt,willCommit:!0,commitKey:1,selStart:pn.selectionStart,selEnd:pn.selectionEnd}}))}};this._dispatchEventFromSandbox(sn,Zt)}),yt.addEventListener("keydown",Zt=>{var fn;qt.commitKey=1;let sn=-1;if(Zt.key==="Escape"?sn=0:Zt.key==="Enter"&&!this.data.multiLine?sn=2:Zt.key==="Tab"&&(qt.commitKey=3),sn===-1)return;const{value:dn}=Zt.target;qt.lastCommittedValue!==dn&&(qt.lastCommittedValue=dn,qt.userValue=dn,(fn=this.linkService.eventBus)==null||fn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ct,name:"Keystroke",value:dn,willCommit:!0,commitKey:sn,selStart:Zt.target.selectionStart,selEnd:Zt.target.selectionEnd}}))});const Jt=en;en=null,yt.addEventListener("blur",Zt=>{var dn;if(!Zt.relatedTarget)return;const{value:sn}=Zt.target;qt.userValue=sn,qt.lastCommittedValue!==sn&&((dn=this.linkService.eventBus)==null||dn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ct,name:"Keystroke",value:sn,willCommit:!0,commitKey:qt.commitKey,selStart:Zt.target.selectionStart,selEnd:Zt.target.selectionEnd}})),Jt(Zt)}),(St=this.data.actions)!=null&&St.Keystroke&&yt.addEventListener("beforeinput",Zt=>{var _n;qt.lastCommittedValue=null;const{data:sn,target:dn}=Zt,{value:fn,selectionStart:pn,selectionEnd:Dt}=dn;let on=pn,yn=Dt;switch(Zt.inputType){case"deleteWordBackward":{const Qt=fn.substring(0,pn).match(/\w*[^\w]*$/);Qt&&(on-=Qt[0].length);break}case"deleteWordForward":{const Qt=fn.substring(pn).match(/^[^\w]*\w*/);Qt&&(yn+=Qt[0].length);break}case"deleteContentBackward":pn===Dt&&(on-=1);break;case"deleteContentForward":pn===Dt&&(yn+=1);break}Zt.preventDefault(),(_n=this.linkService.eventBus)==null||_n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ct,name:"Keystroke",value:fn,change:sn||"",willCommit:!1,selStart:on,selEnd:yn}})}),this._setEventListeners(yt,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Zt=>Zt.target.value)}if(en&&yt.addEventListener("blur",en),this.data.comb){const Zt=(this.data.rect[2]-this.data.rect[0])/zt;yt.classList.add("comb"),yt.style.letterSpacing=`calc(${Zt}px * var(--scale-factor) - 1ch)`}}else yt=document.createElement("div"),yt.textContent=this.data.fieldValue,yt.style.verticalAlign="middle",yt.style.display="table-cell";return this._setTextStyle(yt),this._setBackgroundColor(yt),this._setDefaultPropertiesFromJS(yt),this.container.append(yt),this.container}}class it extends dt{constructor(_e){super(_e,{isRenderable:_e.renderForms})}render(){const _e=this.annotationStorage,ct=this.data,yt=ct.id;let Et=_e.getValue(yt,{value:ct.exportValue===ct.fieldValue}).value;typeof Et=="string"&&(Et=Et!=="Off",_e.setValue(yt,{value:Et})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const St=document.createElement("input");return b.add(St),St.setAttribute("data-element-id",yt),St.disabled=ct.readOnly,this._setRequired(St,this.data.required),St.type="checkbox",St.name=ct.fieldName,Et&&St.setAttribute("checked",!0),St.setAttribute("exportValue",ct.exportValue),St.tabIndex=g,St.addEventListener("change",Ft=>{const{name:Ht,checked:zt}=Ft.target;for(const Vt of this._getElementsByName(Ht,yt)){const qt=zt&&Vt.exportValue===ct.exportValue;Vt.domElement&&(Vt.domElement.checked=qt),_e.setValue(Vt.id,{value:qt})}_e.setValue(yt,{value:zt})}),St.addEventListener("resetform",Ft=>{const Ht=ct.defaultFieldValue||"Off";Ft.target.checked=Ht===ct.exportValue}),this.enableScripting&&this.hasJSActions&&(St.addEventListener("updatefromsandbox",Ft=>{const Ht={value(zt){zt.target.checked=zt.detail.value!=="Off",_e.setValue(yt,{value:zt.target.checked})}};this._dispatchEventFromSandbox(Ht,Ft)}),this._setEventListeners(St,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ft=>Ft.target.checked)),this._setBackgroundColor(St),this._setDefaultPropertiesFromJS(St),this.container.append(St),this.container}}class rt extends dt{constructor(_e){super(_e,{isRenderable:_e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const _e=this.annotationStorage,ct=this.data,yt=ct.id;let Et=_e.getValue(yt,{value:ct.fieldValue===ct.buttonValue}).value;typeof Et=="string"&&(Et=Et!==ct.buttonValue,_e.setValue(yt,{value:Et}));const St=document.createElement("input");if(b.add(St),St.setAttribute("data-element-id",yt),St.disabled=ct.readOnly,this._setRequired(St,this.data.required),St.type="radio",St.name=ct.fieldName,Et&&St.setAttribute("checked",!0),St.tabIndex=g,St.addEventListener("change",Ft=>{const{name:Ht,checked:zt}=Ft.target;for(const Vt of this._getElementsByName(Ht,yt))_e.setValue(Vt.id,{value:!1});_e.setValue(yt,{value:zt})}),St.addEventListener("resetform",Ft=>{const Ht=ct.defaultFieldValue;Ft.target.checked=Ht!=null&&Ht===ct.buttonValue}),this.enableScripting&&this.hasJSActions){const Ft=ct.buttonValue;St.addEventListener("updatefromsandbox",Ht=>{const zt={value:Vt=>{const qt=Ft===Vt.detail.value;for(const en of this._getElementsByName(Vt.target.name)){const Jt=qt&&en.id===yt;en.domElement&&(en.domElement.checked=Jt),_e.setValue(en.id,{value:Jt})}}};this._dispatchEventFromSandbox(zt,Ht)}),this._setEventListeners(St,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ht=>Ht.target.checked)}return this._setBackgroundColor(St),this._setDefaultPropertiesFromJS(St),this.container.append(St),this.container}}class ut extends nt{constructor(_e){super(_e,{ignoreBorder:_e.data.hasAppearance})}render(){const _e=super.render();_e.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(_e.title=this.data.alternativeText);const ct=_e.lastChild;return this.enableScripting&&this.hasJSActions&&ct&&(this._setDefaultPropertiesFromJS(ct),ct.addEventListener("updatefromsandbox",yt=>{this._dispatchEventFromSandbox({},yt)})),_e}}class _t extends dt{constructor(_e){super(_e,{isRenderable:_e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const _e=this.annotationStorage,ct=this.data.id,yt=_e.getValue(ct,{value:this.data.fieldValue}),Et=document.createElement("select");b.add(Et),Et.setAttribute("data-element-id",ct),Et.disabled=this.data.readOnly,this._setRequired(Et,this.data.required),Et.name=this.data.fieldName,Et.tabIndex=g;let St=this.data.combo&&this.data.options.length>0;this.data.combo||(Et.size=this.data.options.length,this.data.multiSelect&&(Et.multiple=!0)),Et.addEventListener("resetform",qt=>{const en=this.data.defaultFieldValue;for(const Jt of Et.options)Jt.selected=Jt.value===en});for(const qt of this.data.options){const en=document.createElement("option");en.textContent=qt.displayValue,en.value=qt.exportValue,yt.value.includes(qt.exportValue)&&(en.setAttribute("selected",!0),St=!1),Et.append(en)}let Ft=null;if(St){const qt=document.createElement("option");qt.value=" ",qt.setAttribute("hidden",!0),qt.setAttribute("selected",!0),Et.prepend(qt),Ft=()=>{qt.remove(),Et.removeEventListener("input",Ft),Ft=null},Et.addEventListener("input",Ft)}const Ht=qt=>{const en=qt?"value":"textContent",{options:Jt,multiple:Zt}=Et;return Zt?Array.prototype.filter.call(Jt,sn=>sn.selected).map(sn=>sn[en]):Jt.selectedIndex===-1?null:Jt[Jt.selectedIndex][en]};let zt=Ht(!1);const Vt=qt=>{const en=qt.target.options;return Array.prototype.map.call(en,Jt=>({displayValue:Jt.textContent,exportValue:Jt.value}))};return this.enableScripting&&this.hasJSActions?(Et.addEventListener("updatefromsandbox",qt=>{const en={value(Jt){Ft==null||Ft();const Zt=Jt.detail.value,sn=new Set(Array.isArray(Zt)?Zt:[Zt]);for(const dn of Et.options)dn.selected=sn.has(dn.value);_e.setValue(ct,{value:Ht(!0)}),zt=Ht(!1)},multipleSelection(Jt){Et.multiple=!0},remove(Jt){const Zt=Et.options,sn=Jt.detail.remove;Zt[sn].selected=!1,Et.remove(sn),Zt.length>0&&Array.prototype.findIndex.call(Zt,fn=>fn.selected)===-1&&(Zt[0].selected=!0),_e.setValue(ct,{value:Ht(!0),items:Vt(Jt)}),zt=Ht(!1)},clear(Jt){for(;Et.length!==0;)Et.remove(0);_e.setValue(ct,{value:null,items:[]}),zt=Ht(!1)},insert(Jt){const{index:Zt,displayValue:sn,exportValue:dn}=Jt.detail.insert,fn=Et.children[Zt],pn=document.createElement("option");pn.textContent=sn,pn.value=dn,fn?fn.before(pn):Et.append(pn),_e.setValue(ct,{value:Ht(!0),items:Vt(Jt)}),zt=Ht(!1)},items(Jt){const{items:Zt}=Jt.detail;for(;Et.length!==0;)Et.remove(0);for(const sn of Zt){const{displayValue:dn,exportValue:fn}=sn,pn=document.createElement("option");pn.textContent=dn,pn.value=fn,Et.append(pn)}Et.options.length>0&&(Et.options[0].selected=!0),_e.setValue(ct,{value:Ht(!0),items:Vt(Jt)}),zt=Ht(!1)},indices(Jt){const Zt=new Set(Jt.detail.indices);for(const sn of Jt.target.options)sn.selected=Zt.has(sn.index);_e.setValue(ct,{value:Ht(!0)}),zt=Ht(!1)},editable(Jt){Jt.target.disabled=!Jt.detail.editable}};this._dispatchEventFromSandbox(en,qt)}),Et.addEventListener("input",qt=>{var Jt;const en=Ht(!0);_e.setValue(ct,{value:en}),qt.preventDefault(),(Jt=this.linkService.eventBus)==null||Jt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ct,name:"Keystroke",value:zt,changeEx:en,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Et,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],qt=>qt.target.value)):Et.addEventListener("input",function(qt){_e.setValue(ct,{value:Ht(!0)})}),this.data.combo&&this._setTextStyle(Et),this._setBackgroundColor(Et),this._setDefaultPropertiesFromJS(Et),this.container.append(Et),this.container}}const xt=class extends lt{constructor(_e){var Et,St,Ft;const{data:ct}=_e,yt=!xt.IGNORE_TYPES.has(ct.parentType)&&!!((Et=ct.titleObj)!=null&&Et.str||(St=ct.contentsObj)!=null&&St.str||(Ft=ct.richText)!=null&&Ft.str);super(_e,{isRenderable:yt})}render(){this.container.classList.add("popupAnnotation");const _e=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(_e.length===0)return this.container;const ct=new gt({container:this.container,trigger:Array.from(_e),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),yt=this.page,Et=o.Util.normalizeRect([this.data.parentRect[0],yt.view[3]-this.data.parentRect[1]+yt.view[1],this.data.parentRect[2],yt.view[3]-this.data.parentRect[3]+yt.view[1]]),St=Et[0]+this.data.parentRect[2]-this.data.parentRect[0],Ft=Et[1],{pageWidth:Ht,pageHeight:zt,pageX:Vt,pageY:qt}=this.viewport.rawDims;return this.container.style.left=`${100*(St-Vt)/Ht}%`,this.container.style.top=`${100*(Ft-qt)/zt}%`,this.container.append(ct.render()),this.container}};let At=xt;Cn(At,"IGNORE_TYPES",new Set(["Line","Square","Circle","PolyLine","Polygon","Ink"]));class gt{constructor(_e){this.container=_e.container,this.trigger=_e.trigger,this.color=_e.color,this.titleObj=_e.titleObj,this.modificationDate=_e.modificationDate,this.contentsObj=_e.contentsObj,this.richText=_e.richText,this.hideWrapper=_e.hideWrapper||!1,this.pinned=!1}render(){var Ht,zt;const ct=document.createElement("div");ct.classList.add("popupWrapper"),this.hideElement=this.hideWrapper?ct:this.container,this.hideElement.hidden=!0;const yt=document.createElement("div");yt.classList.add("popup");const Et=this.color;if(Et){const Vt=.7*(255-Et[0])+Et[0],qt=.7*(255-Et[1])+Et[1],en=.7*(255-Et[2])+Et[2];yt.style.backgroundColor=o.Util.makeHexColor(Vt|0,qt|0,en|0)}const St=document.createElement("h1");St.dir=this.titleObj.dir,St.textContent=this.titleObj.str,yt.append(St);const Ft=a.PDFDateString.toDateObject(this.modificationDate);if(Ft){const Vt=document.createElement("span");Vt.classList.add("popupDate"),Vt.textContent="{{date}}, {{time}}",Vt.dataset.l10nId="annotation_date_string",Vt.dataset.l10nArgs=JSON.stringify({date:Ft.toLocaleDateString(),time:Ft.toLocaleTimeString()}),yt.append(Vt)}if((Ht=this.richText)!=null&&Ht.str&&(!((zt=this.contentsObj)!=null&&zt.str)||this.contentsObj.str===this.richText.str))h.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:yt}),yt.lastChild.classList.add("richText","popupContent");else{const Vt=this._formatContents(this.contentsObj);yt.append(Vt)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const Vt of this.trigger)Vt.addEventListener("click",this._toggle.bind(this)),Vt.addEventListener("mouseover",this._show.bind(this,!1)),Vt.addEventListener("mouseout",this._hide.bind(this,!1));return yt.addEventListener("click",this._hide.bind(this,!0)),ct.append(yt),ct}_formatContents({str:_e,dir:ct}){const yt=document.createElement("p");yt.classList.add("popupContent"),yt.dir=ct;const Et=_e.split(/(?:\r\n?|\n)/);for(let St=0,Ft=Et.length;St<Ft;++St){const Ht=Et[St];yt.append(document.createTextNode(Ht)),St<Ft-1&&yt.append(document.createElement("br"))}return yt}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(_e=!1){_e&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(_e=!0){_e&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class j extends lt{constructor(_e){var yt,Et,St;const ct=!!(_e.data.hasPopup||(yt=_e.data.titleObj)!=null&&yt.str||(Et=_e.data.contentsObj)!=null&&Et.str||(St=_e.data.richText)!=null&&St.str);super(_e,{isRenderable:ct,ignoreBorder:!0}),this.textContent=_e.data.textContent}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const _e=document.createElement("div");_e.classList.add("annotationTextContent"),_e.setAttribute("role","comment");for(const ct of this.textContent){const yt=document.createElement("span");yt.textContent=ct,_e.append(yt)}this.container.append(_e)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class ot extends lt{constructor(_e){var yt,Et,St;const ct=!!(_e.data.hasPopup||(yt=_e.data.titleObj)!=null&&yt.str||(Et=_e.data.contentsObj)!=null&&Et.str||(St=_e.data.richText)!=null&&St.str);super(_e,{isRenderable:ct,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const _e=this.data,{width:ct,height:yt}=$(_e.rect),Et=this.svgFactory.create(ct,yt,!0),St=this.svgFactory.createElement("svg:line");return St.setAttribute("x1",_e.rect[2]-_e.lineCoordinates[0]),St.setAttribute("y1",_e.rect[3]-_e.lineCoordinates[1]),St.setAttribute("x2",_e.rect[2]-_e.lineCoordinates[2]),St.setAttribute("y2",_e.rect[3]-_e.lineCoordinates[3]),St.setAttribute("stroke-width",_e.borderStyle.width||1),St.setAttribute("stroke","transparent"),St.setAttribute("fill","transparent"),Et.append(St),this.container.append(Et),this._createPopup(St,_e),this.container}}class pt extends lt{constructor(_e){var yt,Et,St;const ct=!!(_e.data.hasPopup||(yt=_e.data.titleObj)!=null&&yt.str||(Et=_e.data.contentsObj)!=null&&Et.str||(St=_e.data.richText)!=null&&St.str);super(_e,{isRenderable:ct,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const _e=this.data,{width:ct,height:yt}=$(_e.rect),Et=this.svgFactory.create(ct,yt,!0),St=_e.borderStyle.width,Ft=this.svgFactory.createElement("svg:rect");return Ft.setAttribute("x",St/2),Ft.setAttribute("y",St/2),Ft.setAttribute("width",ct-St),Ft.setAttribute("height",yt-St),Ft.setAttribute("stroke-width",St||1),Ft.setAttribute("stroke","transparent"),Ft.setAttribute("fill","transparent"),Et.append(Ft),this.container.append(Et),this._createPopup(Ft,_e),this.container}}class at extends lt{constructor(_e){var yt,Et,St;const ct=!!(_e.data.hasPopup||(yt=_e.data.titleObj)!=null&&yt.str||(Et=_e.data.contentsObj)!=null&&Et.str||(St=_e.data.richText)!=null&&St.str);super(_e,{isRenderable:ct,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const _e=this.data,{width:ct,height:yt}=$(_e.rect),Et=this.svgFactory.create(ct,yt,!0),St=_e.borderStyle.width,Ft=this.svgFactory.createElement("svg:ellipse");return Ft.setAttribute("cx",ct/2),Ft.setAttribute("cy",yt/2),Ft.setAttribute("rx",ct/2-St/2),Ft.setAttribute("ry",yt/2-St/2),Ft.setAttribute("stroke-width",St||1),Ft.setAttribute("stroke","transparent"),Ft.setAttribute("fill","transparent"),Et.append(Ft),this.container.append(Et),this._createPopup(Ft,_e),this.container}}class vt extends lt{constructor(_e){var yt,Et,St;const ct=!!(_e.data.hasPopup||(yt=_e.data.titleObj)!=null&&yt.str||(Et=_e.data.contentsObj)!=null&&Et.str||(St=_e.data.richText)!=null&&St.str);super(_e,{isRenderable:ct,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const _e=this.data,{width:ct,height:yt}=$(_e.rect),Et=this.svgFactory.create(ct,yt,!0);let St=[];for(const Ht of _e.vertices){const zt=Ht.x-_e.rect[0],Vt=_e.rect[3]-Ht.y;St.push(zt+","+Vt)}St=St.join(" ");const Ft=this.svgFactory.createElement(this.svgElementName);return Ft.setAttribute("points",St),Ft.setAttribute("stroke-width",_e.borderStyle.width||1),Ft.setAttribute("stroke","transparent"),Ft.setAttribute("fill","transparent"),Et.append(Ft),this.container.append(Et),this._createPopup(Ft,_e),this.container}}class kt extends vt{constructor(_e){super(_e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class bt extends lt{constructor(_e){var yt,Et,St;const ct=!!(_e.data.hasPopup||(yt=_e.data.titleObj)!=null&&yt.str||(Et=_e.data.contentsObj)!=null&&Et.str||(St=_e.data.richText)!=null&&St.str);super(_e,{isRenderable:ct,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Mt extends lt{constructor(_e){var yt,Et,St;const ct=!!(_e.data.hasPopup||(yt=_e.data.titleObj)!=null&&yt.str||(Et=_e.data.contentsObj)!=null&&Et.str||(St=_e.data.richText)!=null&&St.str);super(_e,{isRenderable:ct,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const _e=this.data,{width:ct,height:yt}=$(_e.rect),Et=this.svgFactory.create(ct,yt,!0);for(const St of _e.inkLists){let Ft=[];for(const zt of St){const Vt=zt.x-_e.rect[0],qt=_e.rect[3]-zt.y;Ft.push(`${Vt},${qt}`)}Ft=Ft.join(" ");const Ht=this.svgFactory.createElement(this.svgElementName);Ht.setAttribute("points",Ft),Ht.setAttribute("stroke-width",_e.borderStyle.width||1),Ht.setAttribute("stroke","transparent"),Ht.setAttribute("fill","transparent"),this._createPopup(Ht,_e),Et.append(Ht)}return this.container.append(Et),this.container}}class Wt extends lt{constructor(_e){var yt,Et,St;const ct=!!(_e.data.hasPopup||(yt=_e.data.titleObj)!=null&&yt.str||(Et=_e.data.contentsObj)!=null&&Et.str||(St=_e.data.richText)!=null&&St.str);super(_e,{isRenderable:ct,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.classList.add("highlightAnnotation"),this.container)}}class Yt extends lt{constructor(_e){var yt,Et,St;const ct=!!(_e.data.hasPopup||(yt=_e.data.titleObj)!=null&&yt.str||(Et=_e.data.contentsObj)!=null&&Et.str||(St=_e.data.richText)!=null&&St.str);super(_e,{isRenderable:ct,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.classList.add("underlineAnnotation"),this.container)}}class Lt extends lt{constructor(_e){var yt,Et,St;const ct=!!(_e.data.hasPopup||(yt=_e.data.titleObj)!=null&&yt.str||(Et=_e.data.contentsObj)!=null&&Et.str||(St=_e.data.richText)!=null&&St.str);super(_e,{isRenderable:ct,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.classList.add("squigglyAnnotation"),this.container)}}class jt extends lt{constructor(_e){var yt,Et,St;const ct=!!(_e.data.hasPopup||(yt=_e.data.titleObj)!=null&&yt.str||(Et=_e.data.contentsObj)!=null&&Et.str||(St=_e.data.richText)!=null&&St.str);super(_e,{isRenderable:ct,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.classList.add("strikeoutAnnotation"),this.container)}}class Xt extends lt{constructor(_e){var yt,Et,St;const ct=!!(_e.data.hasPopup||(yt=_e.data.titleObj)!=null&&yt.str||(Et=_e.data.contentsObj)!=null&&Et.str||(St=_e.data.richText)!=null&&St.str);super(_e,{isRenderable:ct,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Kt extends lt{constructor(_e){var Et;super(_e,{isRenderable:!0});const{filename:ct,content:yt}=this.data.file;this.filename=(0,a.getFilenameFromUrl)(ct,!0),this.content=yt,(Et=this.linkService.eventBus)==null||Et.dispatch("fileattachmentannotation",{source:this,filename:ct,content:yt})}render(){var ct,yt;this.container.classList.add("fileAttachmentAnnotation");let _e;return this.data.hasAppearance?_e=document.createElement("div"):(_e=document.createElement("img"),_e.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(this.data.name)?"paperclip":"pushpin"}.svg`),_e.classList.add("popupTriggerArea"),_e.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((ct=this.data.titleObj)!=null&&ct.str||(yt=this.data.contentsObj)!=null&&yt.str||this.data.richText)&&this._createPopup(_e,this.data),this.container.append(_e),this.container}_download(){var _e;(_e=this.downloadManager)==null||_e.openOrDownloadData(this.container,this.content,this.filename)}}const wt=class{static render(_e){var zt,Vt;const{annotations:ct,div:yt,viewport:Et,accessibilityManager:St}=_e;(0,a.setLayerDimensions)(yt,Et);const Ft={data:null,layer:yt,page:_e.page,viewport:Et,linkService:_e.linkService,downloadManager:_e.downloadManager,imageResourcesPath:_e.imageResourcesPath||"",renderForms:_e.renderForms!==!1,svgFactory:new a.DOMSVGFactory,annotationStorage:_e.annotationStorage||new c.AnnotationStorage,enableScripting:_e.enableScripting===!0,hasJSActions:_e.hasJSActions,fieldObjects:_e.fieldObjects};let Ht=0;for(const qt of ct){if(qt.noHTML)continue;if(qt.annotationType!==o.AnnotationType.POPUP){const{width:Zt,height:sn}=$(qt.rect);if(Zt<=0||sn<=0)continue}Ft.data=qt;const en=st.create(Ft);if(!en.isRenderable)continue;const Jt=en.render();if(qt.hidden&&(Jt.style.visibility="hidden"),Array.isArray(Jt))for(const Zt of Jt)Zt.style.zIndex=Ht++,Gt(zt=wt,Rt,Cr).call(zt,Zt,qt.id,yt,St);else Jt.style.zIndex=Ht++,en instanceof At?yt.prepend(Jt):Gt(Vt=wt,Rt,Cr).call(Vt,Jt,qt.id,yt,St)}Gt(this,It,kr).call(this,yt,_e.annotationCanvasMap)}static update(_e){const{annotationCanvasMap:ct,div:yt,viewport:Et}=_e;(0,a.setLayerDimensions)(yt,{rotation:Et.rotation}),Gt(this,It,kr).call(this,yt,ct),yt.hidden=!1}};let tn=wt;Rt=new WeakSet,Cr=function(_e,ct,yt,Et){const St=_e.firstChild||_e;St.id=`${a.AnnotationPrefix}${ct}`,yt.append(_e),Et==null||Et.moveElementInDOM(yt,_e,St,!1)},It=new WeakSet,kr=function(_e,ct){if(ct){for(const[yt,Et]of ct){const St=_e.querySelector(`[data-annotation-id="${yt}"]`);if(!St)continue;const{firstChild:Ft}=St;Ft?Ft.nodeName==="CANVAS"?Ft.replaceWith(Et):Ft.before(Et):St.append(Et)}ct.clear()}},Bt(tn,Rt),Bt(tn,It),i.AnnotationLayer=tn},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ColorConverters=void 0;function s(a){return Math.floor(Math.max(0,Math.min(1,a))*255).toString(16).padStart(2,"0")}class o{static CMYK_G([c,d,h,g]){return["G",1-Math.min(1,.3*c+.59*h+.11*d+g)]}static G_CMYK([c]){return["CMYK",0,0,0,1-c]}static G_RGB([c]){return["RGB",c,c,c]}static G_HTML([c]){const d=s(c);return`#${d}${d}${d}`}static RGB_G([c,d,h]){return["G",.3*c+.59*d+.11*h]}static RGB_HTML([c,d,h]){const g=s(c),_=s(d),b=s(h);return`#${g}${_}${b}`}static T_HTML(){return"#00000000"}static CMYK_RGB([c,d,h,g]){return["RGB",1-Math.min(1,c+g),1-Math.min(1,h+g),1-Math.min(1,d+g)]}static CMYK_HTML(c){const d=this.CMYK_RGB(c).slice(1);return this.RGB_HTML(d)}static RGB_CMYK([c,d,h]){const g=1-c,_=1-d,b=1-h,$=Math.min(g,_,b);return["CMYK",g,_,b,$]}}i.ColorConverters=o},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaLayer=void 0;var o=s(19);class a{static setupStorage(d,h,g,_,b){const $=_.getValue(h,{value:null});switch(g.name){case"textarea":if($.value!==null&&(d.textContent=$.value),b==="print")break;d.addEventListener("input",st=>{_.setValue(h,{value:st.target.value})});break;case"input":if(g.attributes.type==="radio"||g.attributes.type==="checkbox"){if($.value===g.attributes.xfaOn?d.setAttribute("checked",!0):$.value===g.attributes.xfaOff&&d.removeAttribute("checked"),b==="print")break;d.addEventListener("change",st=>{_.setValue(h,{value:st.target.checked?st.target.getAttribute("xfaOn"):st.target.getAttribute("xfaOff")})})}else{if($.value!==null&&d.setAttribute("value",$.value),b==="print")break;d.addEventListener("input",st=>{_.setValue(h,{value:st.target.value})})}break;case"select":if($.value!==null)for(const st of g.children)st.attributes.value===$.value&&(st.attributes.selected=!0);d.addEventListener("input",st=>{const lt=st.target.options,nt=lt.selectedIndex===-1?"":lt[lt.selectedIndex].value;_.setValue(h,{value:nt})});break}}static setAttributes({html:d,element:h,storage:g=null,intent:_,linkService:b}){const{attributes:$}=h,st=d instanceof HTMLAnchorElement;$.type==="radio"&&($.name=`${$.name}-${_}`);for(const[lt,nt]of Object.entries($))if(nt!=null)switch(lt){case"class":nt.length&&d.setAttribute(lt,nt.join(" "));break;case"dataId":break;case"id":d.setAttribute("data-element-id",nt);break;case"style":Object.assign(d.style,nt);break;case"textContent":d.textContent=nt;break;default:(!st||lt!=="href"&&lt!=="newWindow")&&d.setAttribute(lt,nt)}st&&b.addLinkAttributes(d,$.href,$.newWindow),g&&$.dataId&&this.setupStorage(d,$.dataId,h,g)}static render(d){var tt;const h=d.annotationStorage,g=d.linkService,_=d.xfaHtml,b=d.intent||"display",$=document.createElement(_.name);_.attributes&&this.setAttributes({html:$,element:_,intent:b,linkService:g});const st=[[_,-1,$]],lt=d.div;if(lt.append($),d.viewport){const dt=`matrix(${d.viewport.transform.join(",")})`;lt.style.transform=dt}b!=="richText"&&lt.setAttribute("class","xfaLayer xfaFont");const nt=[];for(;st.length>0;){const[dt,et,it]=st.at(-1);if(et+1===dt.children.length){st.pop();continue}const rt=dt.children[++st.at(-1)[1]];if(rt===null)continue;const{name:ut}=rt;if(ut==="#text"){const At=document.createTextNode(rt.value);nt.push(At),it.append(At);continue}let _t;if((tt=rt==null?void 0:rt.attributes)!=null&&tt.xmlns?_t=document.createElementNS(rt.attributes.xmlns,ut):_t=document.createElement(ut),it.append(_t),rt.attributes&&this.setAttributes({html:_t,element:rt,storage:h,intent:b,linkService:g}),rt.children&&rt.children.length>0)st.push([rt,-1,_t]);else if(rt.value){const At=document.createTextNode(rt.value);o.XfaText.shouldBuildText(ut)&&nt.push(At),_t.append(At)}}for(const dt of lt.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))dt.setAttribute("readOnly",!0);return{textDivs:nt}}static update(d){const h=`matrix(${d.viewport.transform.join(",")})`;d.div.style.transform=h,d.div.hidden=!1}}i.XfaLayer=a},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SVGGraphics=void 0;var o=s(6),a=s(1),c=s(10);let d=class{constructor(){(0,a.unreachable)("Not implemented: SVGGraphics")}};i.SVGGraphics=d;{let it=function(j){let ot=[];const pt=[];for(const at of j){if(at.fn==="save"){ot.push({fnId:92,fn:"group",items:[]}),pt.push(ot),ot=ot.at(-1).items;continue}at.fn==="restore"?ot=pt.pop():ot.push(at)}return ot},rt=function(j){if(Number.isInteger(j))return j.toString();const ot=j.toFixed(10);let pt=ot.length-1;if(ot[pt]!=="0")return ot;do pt--;while(ot[pt]==="0");return ot.substring(0,ot[pt]==="."?pt:pt+1)},ut=function(j){if(j[4]===0&&j[5]===0){if(j[1]===0&&j[2]===0)return j[0]===1&&j[3]===1?"":`scale(${rt(j[0])} ${rt(j[3])})`;if(j[0]===j[3]&&j[1]===-j[2]){const ot=Math.acos(j[0])*180/Math.PI;return`rotate(${rt(ot)})`}}else if(j[0]===1&&j[1]===0&&j[2]===0&&j[3]===1)return`translate(${rt(j[4])} ${rt(j[5])})`;return`matrix(${rt(j[0])} ${rt(j[1])} ${rt(j[2])} ${rt(j[3])} ${rt(j[4])} ${rt(j[5])})`};var h=it,g=rt,_=ut;const b={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},$="http://www.w3.org/XML/1998/namespace",st="http://www.w3.org/1999/xlink",lt=["butt","round","square"],nt=["miter","round","bevel"],tt=function(j,ot="",pt=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!pt)return URL.createObjectURL(new Blob([j],{type:ot}));const at="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let vt=`data:${ot};base64,`;for(let kt=0,bt=j.length;kt<bt;kt+=3){const Mt=j[kt]&255,Wt=j[kt+1]&255,Yt=j[kt+2]&255,Lt=Mt>>2,jt=(Mt&3)<<4|Wt>>4,Xt=kt+1<bt?(Wt&15)<<2|Yt>>6:64,Kt=kt+2<bt?Yt&63:64;vt+=at[Lt]+at[jt]+at[Xt]+at[Kt]}return vt},dt=function(){const j=new Uint8Array([137,80,78,71,13,10,26,10]),ot=12,pt=new Int32Array(256);for(let Yt=0;Yt<256;Yt++){let Lt=Yt;for(let jt=0;jt<8;jt++)Lt&1?Lt=3988292384^Lt>>1&2147483647:Lt=Lt>>1&2147483647;pt[Yt]=Lt}function at(Yt,Lt,jt){let Xt=-1;for(let Kt=Lt;Kt<jt;Kt++){const tn=(Xt^Yt[Kt])&255,an=pt[tn];Xt=Xt>>>8^an}return Xt^-1}function vt(Yt,Lt,jt,Xt){let Kt=Xt;const tn=Lt.length;jt[Kt]=tn>>24&255,jt[Kt+1]=tn>>16&255,jt[Kt+2]=tn>>8&255,jt[Kt+3]=tn&255,Kt+=4,jt[Kt]=Yt.charCodeAt(0)&255,jt[Kt+1]=Yt.charCodeAt(1)&255,jt[Kt+2]=Yt.charCodeAt(2)&255,jt[Kt+3]=Yt.charCodeAt(3)&255,Kt+=4,jt.set(Lt,Kt),Kt+=Lt.length;const an=at(jt,Xt+4,Kt);jt[Kt]=an>>24&255,jt[Kt+1]=an>>16&255,jt[Kt+2]=an>>8&255,jt[Kt+3]=an&255}function kt(Yt,Lt,jt){let Xt=1,Kt=0;for(let tn=Lt;tn<jt;++tn)Xt=(Xt+(Yt[tn]&255))%65521,Kt=(Kt+Xt)%65521;return Kt<<16|Xt}function bt(Yt){if(!c.isNodeJS)return Mt(Yt);try{let Lt;parseInt(process.versions.node)>=8?Lt=Yt:Lt=Buffer.from(Yt);const jt=require$$5.deflateSync(Lt,{level:9});return jt instanceof Uint8Array?jt:new Uint8Array(jt)}catch(Lt){(0,a.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Lt)}return Mt(Yt)}function Mt(Yt){let Lt=Yt.length;const jt=65535,Xt=Math.ceil(Lt/jt),Kt=new Uint8Array(2+Lt+Xt*5+4);let tn=0;Kt[tn++]=120,Kt[tn++]=156;let an=0;for(;Lt>jt;)Kt[tn++]=0,Kt[tn++]=255,Kt[tn++]=255,Kt[tn++]=0,Kt[tn++]=0,Kt.set(Yt.subarray(an,an+jt),tn),tn+=jt,an+=jt,Lt-=jt;Kt[tn++]=1,Kt[tn++]=Lt&255,Kt[tn++]=Lt>>8&255,Kt[tn++]=~Lt&65535&255,Kt[tn++]=(~Lt&65535)>>8&255,Kt.set(Yt.subarray(an),tn),tn+=Yt.length-an;const Ot=kt(Yt,0,Yt.length);return Kt[tn++]=Ot>>24&255,Kt[tn++]=Ot>>16&255,Kt[tn++]=Ot>>8&255,Kt[tn++]=Ot&255,Kt}function Wt(Yt,Lt,jt,Xt){const Kt=Yt.width,tn=Yt.height;let an,Ot,ht;const mt=Yt.data;switch(Lt){case a.ImageKind.GRAYSCALE_1BPP:Ot=0,an=1,ht=Kt+7>>3;break;case a.ImageKind.RGB_24BPP:Ot=2,an=8,ht=Kt*3;break;case a.ImageKind.RGBA_32BPP:Ot=6,an=8,ht=Kt*4;break;default:throw new Error("invalid format")}const xt=new Uint8Array((1+ht)*tn);let Rt=0,Pt=0;for(let ct=0;ct<tn;++ct)xt[Rt++]=0,xt.set(mt.subarray(Pt,Pt+ht),Rt),Pt+=ht,Rt+=ht;if(Lt===a.ImageKind.GRAYSCALE_1BPP&&Xt){Rt=0;for(let ct=0;ct<tn;ct++){Rt++;for(let yt=0;yt<ht;yt++)xt[Rt++]^=255}}const It=new Uint8Array([Kt>>24&255,Kt>>16&255,Kt>>8&255,Kt&255,tn>>24&255,tn>>16&255,tn>>8&255,tn&255,an,Ot,0,0,0]),Tt=bt(xt),wt=j.length+ot*3+It.length+Tt.length,Ct=new Uint8Array(wt);let _e=0;return Ct.set(j,_e),_e+=j.length,vt("IHDR",It,Ct,_e),_e+=ot+It.length,vt("IDATA",Tt,Ct,_e),_e+=ot+Tt.length,vt("IEND",new Uint8Array(0),Ct,_e),tt(Ct,"image/png",jt)}return function(Lt,jt,Xt){const Kt=Lt.kind===void 0?a.ImageKind.GRAYSCALE_1BPP:Lt.kind;return Wt(Lt,Kt,jt,Xt)}}();class et{constructor(){this.fontSizeScale=1,this.fontWeight=b.fontWeight,this.fontSize=0,this.textMatrix=a.IDENTITY_MATRIX,this.fontMatrix=a.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=a.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=b.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(ot,pt){this.x=ot,this.y=pt}}let _t=0,At=0,gt=0;i.SVGGraphics=d=class{constructor(j,ot,pt=!1){(0,o.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new o.DOMSVGFactory,this.current=new et,this.transformMatrix=a.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=j,this.objs=ot,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!pt,this._operatorIdMapping=[];for(const at in a.OPS)this._operatorIdMapping[a.OPS[at]]=at}getObject(j,ot=null){return typeof j=="string"?j.startsWith("g_")?this.commonObjs.get(j):this.objs.get(j):ot}save(){this.transformStack.push(this.transformMatrix);const j=this.current;this.extraStack.push(j),this.current=j.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(j){this.save(),this.executeOpTree(j),this.restore()}loadDependencies(j){const ot=j.fnArray,pt=j.argsArray;for(let at=0,vt=ot.length;at<vt;at++)if(ot[at]===a.OPS.dependency)for(const kt of pt[at]){const bt=kt.startsWith("g_")?this.commonObjs:this.objs,Mt=new Promise(Wt=>{bt.get(kt,Wt)});this.current.dependencies.push(Mt)}return Promise.all(this.current.dependencies)}transform(j,ot,pt,at,vt,kt){const bt=[j,ot,pt,at,vt,kt];this.transformMatrix=a.Util.transform(this.transformMatrix,bt),this.tgrp=null}getSVG(j,ot){this.viewport=ot;const pt=this._initialize(ot);return this.loadDependencies(j).then(()=>(this.transformMatrix=a.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(j)),pt))}convertOpList(j){const ot=this._operatorIdMapping,pt=j.argsArray,at=j.fnArray,vt=[];for(let kt=0,bt=at.length;kt<bt;kt++){const Mt=at[kt];vt.push({fnId:Mt,fn:ot[Mt],args:pt[kt]})}return it(vt)}executeOpTree(j){for(const ot of j){const pt=ot.fn,at=ot.fnId,vt=ot.args;switch(at|0){case a.OPS.beginText:this.beginText();break;case a.OPS.dependency:break;case a.OPS.setLeading:this.setLeading(vt);break;case a.OPS.setLeadingMoveText:this.setLeadingMoveText(vt[0],vt[1]);break;case a.OPS.setFont:this.setFont(vt);break;case a.OPS.showText:this.showText(vt[0]);break;case a.OPS.showSpacedText:this.showText(vt[0]);break;case a.OPS.endText:this.endText();break;case a.OPS.moveText:this.moveText(vt[0],vt[1]);break;case a.OPS.setCharSpacing:this.setCharSpacing(vt[0]);break;case a.OPS.setWordSpacing:this.setWordSpacing(vt[0]);break;case a.OPS.setHScale:this.setHScale(vt[0]);break;case a.OPS.setTextMatrix:this.setTextMatrix(vt[0],vt[1],vt[2],vt[3],vt[4],vt[5]);break;case a.OPS.setTextRise:this.setTextRise(vt[0]);break;case a.OPS.setTextRenderingMode:this.setTextRenderingMode(vt[0]);break;case a.OPS.setLineWidth:this.setLineWidth(vt[0]);break;case a.OPS.setLineJoin:this.setLineJoin(vt[0]);break;case a.OPS.setLineCap:this.setLineCap(vt[0]);break;case a.OPS.setMiterLimit:this.setMiterLimit(vt[0]);break;case a.OPS.setFillRGBColor:this.setFillRGBColor(vt[0],vt[1],vt[2]);break;case a.OPS.setStrokeRGBColor:this.setStrokeRGBColor(vt[0],vt[1],vt[2]);break;case a.OPS.setStrokeColorN:this.setStrokeColorN(vt);break;case a.OPS.setFillColorN:this.setFillColorN(vt);break;case a.OPS.shadingFill:this.shadingFill(vt[0]);break;case a.OPS.setDash:this.setDash(vt[0],vt[1]);break;case a.OPS.setRenderingIntent:this.setRenderingIntent(vt[0]);break;case a.OPS.setFlatness:this.setFlatness(vt[0]);break;case a.OPS.setGState:this.setGState(vt[0]);break;case a.OPS.fill:this.fill();break;case a.OPS.eoFill:this.eoFill();break;case a.OPS.stroke:this.stroke();break;case a.OPS.fillStroke:this.fillStroke();break;case a.OPS.eoFillStroke:this.eoFillStroke();break;case a.OPS.clip:this.clip("nonzero");break;case a.OPS.eoClip:this.clip("evenodd");break;case a.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case a.OPS.paintImageXObject:this.paintImageXObject(vt[0]);break;case a.OPS.paintInlineImageXObject:this.paintInlineImageXObject(vt[0]);break;case a.OPS.paintImageMaskXObject:this.paintImageMaskXObject(vt[0]);break;case a.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(vt[0],vt[1]);break;case a.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case a.OPS.closePath:this.closePath();break;case a.OPS.closeStroke:this.closeStroke();break;case a.OPS.closeFillStroke:this.closeFillStroke();break;case a.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case a.OPS.nextLine:this.nextLine();break;case a.OPS.transform:this.transform(vt[0],vt[1],vt[2],vt[3],vt[4],vt[5]);break;case a.OPS.constructPath:this.constructPath(vt[0],vt[1]);break;case a.OPS.endPath:this.endPath();break;case 92:this.group(ot.items);break;default:(0,a.warn)(`Unimplemented operator ${pt}`);break}}}setWordSpacing(j){this.current.wordSpacing=j}setCharSpacing(j){this.current.charSpacing=j}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(j,ot,pt,at,vt,kt){const bt=this.current;bt.textMatrix=bt.lineMatrix=[j,ot,pt,at,vt,kt],bt.textMatrixScale=Math.hypot(j,ot),bt.x=bt.lineX=0,bt.y=bt.lineY=0,bt.xcoords=[],bt.ycoords=[],bt.tspan=this.svgFactory.createElement("svg:tspan"),bt.tspan.setAttributeNS(null,"font-family",bt.fontFamily),bt.tspan.setAttributeNS(null,"font-size",`${rt(bt.fontSize)}px`),bt.tspan.setAttributeNS(null,"y",rt(-bt.y)),bt.txtElement=this.svgFactory.createElement("svg:text"),bt.txtElement.append(bt.tspan)}beginText(){const j=this.current;j.x=j.lineX=0,j.y=j.lineY=0,j.textMatrix=a.IDENTITY_MATRIX,j.lineMatrix=a.IDENTITY_MATRIX,j.textMatrixScale=1,j.tspan=this.svgFactory.createElement("svg:tspan"),j.txtElement=this.svgFactory.createElement("svg:text"),j.txtgrp=this.svgFactory.createElement("svg:g"),j.xcoords=[],j.ycoords=[]}moveText(j,ot){const pt=this.current;pt.x=pt.lineX+=j,pt.y=pt.lineY+=ot,pt.xcoords=[],pt.ycoords=[],pt.tspan=this.svgFactory.createElement("svg:tspan"),pt.tspan.setAttributeNS(null,"font-family",pt.fontFamily),pt.tspan.setAttributeNS(null,"font-size",`${rt(pt.fontSize)}px`),pt.tspan.setAttributeNS(null,"y",rt(-pt.y))}showText(j){const ot=this.current,pt=ot.font,at=ot.fontSize;if(at===0)return;const vt=ot.fontSizeScale,kt=ot.charSpacing,bt=ot.wordSpacing,Mt=ot.fontDirection,Wt=ot.textHScale*Mt,Yt=pt.vertical,Lt=Yt?1:-1,jt=pt.defaultVMetrics,Xt=at*ot.fontMatrix[0];let Kt=0;for(const Ot of j){if(Ot===null){Kt+=Mt*bt;continue}else if(typeof Ot=="number"){Kt+=Lt*Ot*at/1e3;continue}const ht=(Ot.isSpace?bt:0)+kt,mt=Ot.fontChar;let xt,Rt,Pt=Ot.width;if(Yt){let Tt;const wt=Ot.vmetric||jt;Tt=Ot.vmetric?wt[1]:Pt*.5,Tt=-Tt*Xt;const Ct=wt[2]*Xt;Pt=wt?-wt[0]:Pt,xt=Tt/vt,Rt=(Kt+Ct)/vt}else xt=Kt/vt,Rt=0;(Ot.isInFont||pt.missingFile)&&(ot.xcoords.push(ot.x+xt),Yt&&ot.ycoords.push(-ot.y+Rt),ot.tspan.textContent+=mt);let It;Yt?It=Pt*Xt-ht*Mt:It=Pt*Xt+ht*Mt,Kt+=It}ot.tspan.setAttributeNS(null,"x",ot.xcoords.map(rt).join(" ")),Yt?ot.tspan.setAttributeNS(null,"y",ot.ycoords.map(rt).join(" ")):ot.tspan.setAttributeNS(null,"y",rt(-ot.y)),Yt?ot.y-=Kt:ot.x+=Kt*Wt,ot.tspan.setAttributeNS(null,"font-family",ot.fontFamily),ot.tspan.setAttributeNS(null,"font-size",`${rt(ot.fontSize)}px`),ot.fontStyle!==b.fontStyle&&ot.tspan.setAttributeNS(null,"font-style",ot.fontStyle),ot.fontWeight!==b.fontWeight&&ot.tspan.setAttributeNS(null,"font-weight",ot.fontWeight);const tn=ot.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK;if(tn===a.TextRenderingMode.FILL||tn===a.TextRenderingMode.FILL_STROKE?(ot.fillColor!==b.fillColor&&ot.tspan.setAttributeNS(null,"fill",ot.fillColor),ot.fillAlpha<1&&ot.tspan.setAttributeNS(null,"fill-opacity",ot.fillAlpha)):ot.textRenderingMode===a.TextRenderingMode.ADD_TO_PATH?ot.tspan.setAttributeNS(null,"fill","transparent"):ot.tspan.setAttributeNS(null,"fill","none"),tn===a.TextRenderingMode.STROKE||tn===a.TextRenderingMode.FILL_STROKE){const Ot=1/(ot.textMatrixScale||1);this._setStrokeAttributes(ot.tspan,Ot)}let an=ot.textMatrix;ot.textRise!==0&&(an=an.slice(),an[5]+=ot.textRise),ot.txtElement.setAttributeNS(null,"transform",`${ut(an)} scale(${rt(Wt)}, -1)`),ot.txtElement.setAttributeNS($,"xml:space","preserve"),ot.txtElement.append(ot.tspan),ot.txtgrp.append(ot.txtElement),this._ensureTransformGroup().append(ot.txtElement)}setLeadingMoveText(j,ot){this.setLeading(-ot),this.moveText(j,ot)}addFontStyle(j){if(!j.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const ot=tt(j.data,j.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${j.loadedName}"; src: url(${ot}); }
`}setFont(j){const ot=this.current,pt=this.commonObjs.get(j[0]);let at=j[1];ot.font=pt,this.embedFonts&&!pt.missingFile&&!this.embeddedFonts[pt.loadedName]&&(this.addFontStyle(pt),this.embeddedFonts[pt.loadedName]=pt),ot.fontMatrix=pt.fontMatrix||a.FONT_IDENTITY_MATRIX;let vt="normal";pt.black?vt="900":pt.bold&&(vt="bold");const kt=pt.italic?"italic":"normal";at<0?(at=-at,ot.fontDirection=-1):ot.fontDirection=1,ot.fontSize=at,ot.fontFamily=pt.loadedName,ot.fontWeight=vt,ot.fontStyle=kt,ot.tspan=this.svgFactory.createElement("svg:tspan"),ot.tspan.setAttributeNS(null,"y",rt(-ot.y)),ot.xcoords=[],ot.ycoords=[]}endText(){var ot;const j=this.current;j.textRenderingMode&a.TextRenderingMode.ADD_TO_PATH_FLAG&&((ot=j.txtElement)!=null&&ot.hasChildNodes())&&(j.element=j.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(j){j>0&&(this.current.lineWidth=j)}setLineCap(j){this.current.lineCap=lt[j]}setLineJoin(j){this.current.lineJoin=nt[j]}setMiterLimit(j){this.current.miterLimit=j}setStrokeAlpha(j){this.current.strokeAlpha=j}setStrokeRGBColor(j,ot,pt){this.current.strokeColor=a.Util.makeHexColor(j,ot,pt)}setFillAlpha(j){this.current.fillAlpha=j}setFillRGBColor(j,ot,pt){this.current.fillColor=a.Util.makeHexColor(j,ot,pt),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(j){this.current.strokeColor=this._makeColorN_Pattern(j)}setFillColorN(j){this.current.fillColor=this._makeColorN_Pattern(j)}shadingFill(j){const ot=this.viewport.width,pt=this.viewport.height,at=a.Util.inverseTransform(this.transformMatrix),vt=a.Util.applyTransform([0,0],at),kt=a.Util.applyTransform([0,pt],at),bt=a.Util.applyTransform([ot,0],at),Mt=a.Util.applyTransform([ot,pt],at),Wt=Math.min(vt[0],kt[0],bt[0],Mt[0]),Yt=Math.min(vt[1],kt[1],bt[1],Mt[1]),Lt=Math.max(vt[0],kt[0],bt[0],Mt[0]),jt=Math.max(vt[1],kt[1],bt[1],Mt[1]),Xt=this.svgFactory.createElement("svg:rect");Xt.setAttributeNS(null,"x",Wt),Xt.setAttributeNS(null,"y",Yt),Xt.setAttributeNS(null,"width",Lt-Wt),Xt.setAttributeNS(null,"height",jt-Yt),Xt.setAttributeNS(null,"fill",this._makeShadingPattern(j)),this.current.fillAlpha<1&&Xt.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Xt)}_makeColorN_Pattern(j){return j[0]==="TilingPattern"?this._makeTilingPattern(j):this._makeShadingPattern(j)}_makeTilingPattern(j){const ot=j[1],pt=j[2],at=j[3]||a.IDENTITY_MATRIX,[vt,kt,bt,Mt]=j[4],Wt=j[5],Yt=j[6],Lt=j[7],jt=`shading${gt++}`,[Xt,Kt,tn,an]=a.Util.normalizeRect([...a.Util.applyTransform([vt,kt],at),...a.Util.applyTransform([bt,Mt],at)]),[Ot,ht]=a.Util.singularValueDecompose2dScale(at),mt=Wt*Ot,xt=Yt*ht,Rt=this.svgFactory.createElement("svg:pattern");Rt.setAttributeNS(null,"id",jt),Rt.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Rt.setAttributeNS(null,"width",mt),Rt.setAttributeNS(null,"height",xt),Rt.setAttributeNS(null,"x",`${Xt}`),Rt.setAttributeNS(null,"y",`${Kt}`);const Pt=this.svg,It=this.transformMatrix,Tt=this.current.fillColor,wt=this.current.strokeColor,Ct=this.svgFactory.create(tn-Xt,an-Kt);if(this.svg=Ct,this.transformMatrix=at,Lt===2){const _e=a.Util.makeHexColor(...ot);this.current.fillColor=_e,this.current.strokeColor=_e}return this.executeOpTree(this.convertOpList(pt)),this.svg=Pt,this.transformMatrix=It,this.current.fillColor=Tt,this.current.strokeColor=wt,Rt.append(Ct.childNodes[0]),this.defs.append(Rt),`url(#${jt})`}_makeShadingPattern(j){switch(typeof j=="string"&&(j=this.objs.get(j)),j[0]){case"RadialAxial":const ot=`shading${gt++}`,pt=j[3];let at;switch(j[1]){case"axial":const vt=j[4],kt=j[5];at=this.svgFactory.createElement("svg:linearGradient"),at.setAttributeNS(null,"id",ot),at.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),at.setAttributeNS(null,"x1",vt[0]),at.setAttributeNS(null,"y1",vt[1]),at.setAttributeNS(null,"x2",kt[0]),at.setAttributeNS(null,"y2",kt[1]);break;case"radial":const bt=j[4],Mt=j[5],Wt=j[6],Yt=j[7];at=this.svgFactory.createElement("svg:radialGradient"),at.setAttributeNS(null,"id",ot),at.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),at.setAttributeNS(null,"cx",Mt[0]),at.setAttributeNS(null,"cy",Mt[1]),at.setAttributeNS(null,"r",Yt),at.setAttributeNS(null,"fx",bt[0]),at.setAttributeNS(null,"fy",bt[1]),at.setAttributeNS(null,"fr",Wt);break;default:throw new Error(`Unknown RadialAxial type: ${j[1]}`)}for(const vt of pt){const kt=this.svgFactory.createElement("svg:stop");kt.setAttributeNS(null,"offset",vt[0]),kt.setAttributeNS(null,"stop-color",vt[1]),at.append(kt)}return this.defs.append(at),`url(#${ot})`;case"Mesh":return(0,a.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${j[0]}`)}}setDash(j,ot){this.current.dashArray=j,this.current.dashPhase=ot}constructPath(j,ot){const pt=this.current;let at=pt.x,vt=pt.y,kt=[],bt=0;for(const Mt of j)switch(Mt|0){case a.OPS.rectangle:at=ot[bt++],vt=ot[bt++];const Wt=ot[bt++],Yt=ot[bt++],Lt=at+Wt,jt=vt+Yt;kt.push("M",rt(at),rt(vt),"L",rt(Lt),rt(vt),"L",rt(Lt),rt(jt),"L",rt(at),rt(jt),"Z");break;case a.OPS.moveTo:at=ot[bt++],vt=ot[bt++],kt.push("M",rt(at),rt(vt));break;case a.OPS.lineTo:at=ot[bt++],vt=ot[bt++],kt.push("L",rt(at),rt(vt));break;case a.OPS.curveTo:at=ot[bt+4],vt=ot[bt+5],kt.push("C",rt(ot[bt]),rt(ot[bt+1]),rt(ot[bt+2]),rt(ot[bt+3]),rt(at),rt(vt)),bt+=6;break;case a.OPS.curveTo2:kt.push("C",rt(at),rt(vt),rt(ot[bt]),rt(ot[bt+1]),rt(ot[bt+2]),rt(ot[bt+3])),at=ot[bt+2],vt=ot[bt+3],bt+=4;break;case a.OPS.curveTo3:at=ot[bt+2],vt=ot[bt+3],kt.push("C",rt(ot[bt]),rt(ot[bt+1]),rt(at),rt(vt),rt(at),rt(vt)),bt+=4;break;case a.OPS.closePath:kt.push("Z");break}kt=kt.join(" "),pt.path&&j.length>0&&j[0]!==a.OPS.rectangle&&j[0]!==a.OPS.moveTo?kt=pt.path.getAttributeNS(null,"d")+kt:(pt.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(pt.path)),pt.path.setAttributeNS(null,"d",kt),pt.path.setAttributeNS(null,"fill","none"),pt.element=pt.path,pt.setCurrentPoint(at,vt)}endPath(){const j=this.current;if(j.path=null,!this.pendingClip)return;if(!j.element){this.pendingClip=null;return}const ot=`clippath${_t++}`,pt=this.svgFactory.createElement("svg:clipPath");pt.setAttributeNS(null,"id",ot),pt.setAttributeNS(null,"transform",ut(this.transformMatrix));const at=j.element.cloneNode(!0);if(this.pendingClip==="evenodd"?at.setAttributeNS(null,"clip-rule","evenodd"):at.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,pt.append(at),this.defs.append(pt),j.activeClipUrl){j.clipGroup=null;for(const vt of this.extraStack)vt.clipGroup=null;pt.setAttributeNS(null,"clip-path",j.activeClipUrl)}j.activeClipUrl=`url(#${ot})`,this.tgrp=null}clip(j){this.pendingClip=j}closePath(){const j=this.current;if(j.path){const ot=`${j.path.getAttributeNS(null,"d")}Z`;j.path.setAttributeNS(null,"d",ot)}}setLeading(j){this.current.leading=-j}setTextRise(j){this.current.textRise=j}setTextRenderingMode(j){this.current.textRenderingMode=j}setHScale(j){this.current.textHScale=j/100}setRenderingIntent(j){}setFlatness(j){}setGState(j){for(const[ot,pt]of j)switch(ot){case"LW":this.setLineWidth(pt);break;case"LC":this.setLineCap(pt);break;case"LJ":this.setLineJoin(pt);break;case"ML":this.setMiterLimit(pt);break;case"D":this.setDash(pt[0],pt[1]);break;case"RI":this.setRenderingIntent(pt);break;case"FL":this.setFlatness(pt);break;case"Font":this.setFont(pt);break;case"CA":this.setStrokeAlpha(pt);break;case"ca":this.setFillAlpha(pt);break;default:(0,a.warn)(`Unimplemented graphic state operator ${ot}`);break}}fill(){const j=this.current;j.element&&(j.element.setAttributeNS(null,"fill",j.fillColor),j.element.setAttributeNS(null,"fill-opacity",j.fillAlpha),this.endPath())}stroke(){const j=this.current;j.element&&(this._setStrokeAttributes(j.element),j.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(j,ot=1){const pt=this.current;let at=pt.dashArray;ot!==1&&at.length>0&&(at=at.map(function(vt){return ot*vt})),j.setAttributeNS(null,"stroke",pt.strokeColor),j.setAttributeNS(null,"stroke-opacity",pt.strokeAlpha),j.setAttributeNS(null,"stroke-miterlimit",rt(pt.miterLimit)),j.setAttributeNS(null,"stroke-linecap",pt.lineCap),j.setAttributeNS(null,"stroke-linejoin",pt.lineJoin),j.setAttributeNS(null,"stroke-width",rt(ot*pt.lineWidth)+"px"),j.setAttributeNS(null,"stroke-dasharray",at.map(rt).join(" ")),j.setAttributeNS(null,"stroke-dashoffset",rt(ot*pt.dashPhase)+"px")}eoFill(){var j;(j=this.current.element)==null||j.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var j;(j=this.current.element)==null||j.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const j=this.svgFactory.createElement("svg:rect");j.setAttributeNS(null,"x","0"),j.setAttributeNS(null,"y","0"),j.setAttributeNS(null,"width","1px"),j.setAttributeNS(null,"height","1px"),j.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(j)}paintImageXObject(j){const ot=this.getObject(j);if(!ot){(0,a.warn)(`Dependent image with object ID ${j} is not ready yet`);return}this.paintInlineImageXObject(ot)}paintInlineImageXObject(j,ot){const pt=j.width,at=j.height,vt=dt(j,this.forceDataSchema,!!ot),kt=this.svgFactory.createElement("svg:rect");kt.setAttributeNS(null,"x","0"),kt.setAttributeNS(null,"y","0"),kt.setAttributeNS(null,"width",rt(pt)),kt.setAttributeNS(null,"height",rt(at)),this.current.element=kt,this.clip("nonzero");const bt=this.svgFactory.createElement("svg:image");bt.setAttributeNS(st,"xlink:href",vt),bt.setAttributeNS(null,"x","0"),bt.setAttributeNS(null,"y",rt(-at)),bt.setAttributeNS(null,"width",rt(pt)+"px"),bt.setAttributeNS(null,"height",rt(at)+"px"),bt.setAttributeNS(null,"transform",`scale(${rt(1/pt)} ${rt(-1/at)})`),ot?ot.append(bt):this._ensureTransformGroup().append(bt)}paintImageMaskXObject(j){const ot=this.getObject(j.data,j);if(ot.bitmap){(0,a.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const pt=this.current,at=ot.width,vt=ot.height,kt=pt.fillColor;pt.maskId=`mask${At++}`;const bt=this.svgFactory.createElement("svg:mask");bt.setAttributeNS(null,"id",pt.maskId);const Mt=this.svgFactory.createElement("svg:rect");Mt.setAttributeNS(null,"x","0"),Mt.setAttributeNS(null,"y","0"),Mt.setAttributeNS(null,"width",rt(at)),Mt.setAttributeNS(null,"height",rt(vt)),Mt.setAttributeNS(null,"fill",kt),Mt.setAttributeNS(null,"mask",`url(#${pt.maskId})`),this.defs.append(bt),this._ensureTransformGroup().append(Mt),this.paintInlineImageXObject(ot,bt)}paintFormXObjectBegin(j,ot){if(Array.isArray(j)&&j.length===6&&this.transform(j[0],j[1],j[2],j[3],j[4],j[5]),ot){const pt=ot[2]-ot[0],at=ot[3]-ot[1],vt=this.svgFactory.createElement("svg:rect");vt.setAttributeNS(null,"x",ot[0]),vt.setAttributeNS(null,"y",ot[1]),vt.setAttributeNS(null,"width",rt(pt)),vt.setAttributeNS(null,"height",rt(at)),this.current.element=vt,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(j){const ot=this.svgFactory.create(j.width,j.height),pt=this.svgFactory.createElement("svg:defs");ot.append(pt),this.defs=pt;const at=this.svgFactory.createElement("svg:g");return at.setAttributeNS(null,"transform",ut(j.transform)),ot.append(at),this.svg=at,ot}_ensureClipGroup(){if(!this.current.clipGroup){const j=this.svgFactory.createElement("svg:g");j.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(j),this.current.clipGroup=j}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",ut(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var i=__webpack_module_cache__[e];if(i!==void 0)return i.exports;var s=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](s,s.exports,__w_pdfjs_require__),s.exports}var __webpack_exports__={};return(()=>{var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AbortException",{enumerable:!0,get:function(){return i.AbortException}}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return c.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return i.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return i.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return d.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return h.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return i.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return i.CMapCompressionType}}),Object.defineProperty(e,"FeatureTest",{enumerable:!0,get:function(){return i.FeatureTest}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return g.GlobalWorkerOptions}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return i.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return i.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return i.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return s.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return o.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return s.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return i.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return i.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return o.PixelsPerInch}}),Object.defineProperty(e,"PromiseCapability",{enumerable:!0,get:function(){return i.PromiseCapability}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return o.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return _.SVGGraphics}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return i.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return i.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return i.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return b.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return s.build}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return i.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return s.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return o.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return o.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return o.getXfaPageViewport}}),Object.defineProperty(e,"isDataScheme",{enumerable:!0,get:function(){return o.isDataScheme}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return o.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return o.loadScript}}),Object.defineProperty(e,"normalizeUnicode",{enumerable:!0,get:function(){return i.normalizeUnicode}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return a.renderTextLayer}}),Object.defineProperty(e,"setLayerDimensions",{enumerable:!0,get:function(){return o.setLayerDimensions}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return i.shadow}}),Object.defineProperty(e,"updateTextLayer",{enumerable:!0,get:function(){return a.updateTextLayer}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return s.version}});var i=__w_pdfjs_require__(1),s=__w_pdfjs_require__(2),o=__w_pdfjs_require__(6),a=__w_pdfjs_require__(26),c=__w_pdfjs_require__(27),d=__w_pdfjs_require__(5),h=__w_pdfjs_require__(30),g=__w_pdfjs_require__(14),_=__w_pdfjs_require__(33),b=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;const File$1="";function getSvgIconUtilityClass(e){return generateUtilityClass("MuiSvgIcon",e)}generateUtilityClasses("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const _excluded$4=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],useUtilityClasses$4=e=>{const{color:i,fontSize:s,classes:o}=e,a={root:["root",i!=="inherit"&&`color${capitalize(i)}`,`fontSize${capitalize(s)}`]};return composeClasses(a,getSvgIconUtilityClass,o)},SvgIconRoot=styled$1("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,i)=>{const{ownerState:s}=e;return[i.root,s.color!=="inherit"&&i[`color${capitalize(s.color)}`],i[`fontSize${capitalize(s.fontSize)}`]]}})(({theme:e,ownerState:i})=>{var s,o,a,c,d,h,g,_,b,$,st,lt,nt,tt,dt,et,it;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:(s=e.transitions)==null||(o=s.create)==null?void 0:o.call(s,"fill",{duration:(a=e.transitions)==null||(c=a.duration)==null?void 0:c.shorter}),fontSize:{inherit:"inherit",small:((d=e.typography)==null||(h=d.pxToRem)==null?void 0:h.call(d,20))||"1.25rem",medium:((g=e.typography)==null||(_=g.pxToRem)==null?void 0:_.call(g,24))||"1.5rem",large:((b=e.typography)==null||($=b.pxToRem)==null?void 0:$.call(b,35))||"2.1875rem"}[i.fontSize],color:(st=(lt=(e.vars||e).palette)==null||(nt=lt[i.color])==null?void 0:nt.main)!=null?st:{action:(tt=(e.vars||e).palette)==null||(dt=tt.action)==null?void 0:dt.active,disabled:(et=(e.vars||e).palette)==null||(it=et.action)==null?void 0:it.disabled,inherit:void 0}[i.color]}}),SvgIcon=reactExports.forwardRef(function e(i,s){const o=useThemeProps({props:i,name:"MuiSvgIcon"}),{children:a,className:c,color:d="inherit",component:h="svg",fontSize:g="medium",htmlColor:_,inheritViewBox:b=!1,titleAccess:$,viewBox:st="0 0 24 24"}=o,lt=_objectWithoutPropertiesLoose(o,_excluded$4),nt=_extends({},o,{color:d,component:h,fontSize:g,instanceFontSize:i.fontSize,inheritViewBox:b,viewBox:st}),tt={};b||(tt.viewBox=st);const dt=useUtilityClasses$4(nt);return jsxRuntimeExports.jsxs(SvgIconRoot,_extends({as:h,className:clsx(dt.root,c),focusable:"false",color:_,"aria-hidden":$?void 0:!0,role:$?"img":void 0,ref:s},tt,lt,{ownerState:nt,children:[a,$?jsxRuntimeExports.jsx("title",{children:$}):null]}))});SvgIcon.muiName="SvgIcon";const SvgIcon$1=SvgIcon;function createSvgIcon$1(e,i){function s(o,a){return jsxRuntimeExports.jsx(SvgIcon$1,_extends({"data-testid":`${i}Icon`,ref:a},o,{children:e}))}return s.muiName=SvgIcon$1.muiName,reactExports.memo(reactExports.forwardRef(s))}const unstable_ClassNameGenerator={configure:e=>{ClassNameGenerator$1.configure(e)}},utils=Object.freeze(Object.defineProperty({__proto__:null,capitalize,createChainedFunction,createSvgIcon:createSvgIcon$1,debounce,deprecatedPropType,isMuiElement,ownerDocument,ownerWindow,requirePropFactory,setRef,unstable_ClassNameGenerator,unstable_useEnhancedEffect:useEnhancedEffect$1,unstable_useId:useId,unsupportedProp,useControlled,useEventCallback,useForkRef,useIsFocusVisible},Symbol.toStringTag,{value:"Module"}));function getPaperUtilityClass(e){return generateUtilityClass("MuiPaper",e)}generateUtilityClasses("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const _excluded$3=["className","component","elevation","square","variant"],useUtilityClasses$3=e=>{const{square:i,elevation:s,variant:o,classes:a}=e,c={root:["root",o,!i&&"rounded",o==="elevation"&&`elevation${s}`]};return composeClasses(c,getPaperUtilityClass,a)},PaperRoot=styled$1("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,i)=>{const{ownerState:s}=e;return[i.root,i[s.variant],!s.square&&i.rounded,s.variant==="elevation"&&i[`elevation${s.elevation}`]]}})(({theme:e,ownerState:i})=>{var s;return _extends({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!i.square&&{borderRadius:e.shape.borderRadius},i.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},i.variant==="elevation"&&_extends({boxShadow:(e.vars||e).shadows[i.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${alpha("#fff",getOverlayAlpha$1(i.elevation))}, ${alpha("#fff",getOverlayAlpha$1(i.elevation))})`},e.vars&&{backgroundImage:(s=e.vars.overlays)==null?void 0:s[i.elevation]}))}),Paper=reactExports.forwardRef(function e(i,s){const o=useThemeProps({props:i,name:"MuiPaper"}),{className:a,component:c="div",elevation:d=1,square:h=!1,variant:g="elevation"}=o,_=_objectWithoutPropertiesLoose(o,_excluded$3),b=_extends({},o,{component:c,elevation:d,square:h,variant:g}),$=useUtilityClasses$3(b);return jsxRuntimeExports.jsx(PaperRoot,_extends({as:c,ownerState:b,className:clsx($.root,a),ref:s},_))}),Paper$1=Paper;function getTypographyUtilityClass(e){return generateUtilityClass("MuiTypography",e)}generateUtilityClasses("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const _excluded$2=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],useUtilityClasses$2=e=>{const{align:i,gutterBottom:s,noWrap:o,paragraph:a,variant:c,classes:d}=e,h={root:["root",c,e.align!=="inherit"&&`align${capitalize(i)}`,s&&"gutterBottom",o&&"noWrap",a&&"paragraph"]};return composeClasses(h,getTypographyUtilityClass,d)},TypographyRoot=styled$1("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,i)=>{const{ownerState:s}=e;return[i.root,s.variant&&i[s.variant],s.align!=="inherit"&&i[`align${capitalize(s.align)}`],s.noWrap&&i.noWrap,s.gutterBottom&&i.gutterBottom,s.paragraph&&i.paragraph]}})(({theme:e,ownerState:i})=>_extends({margin:0},i.variant&&e.typography[i.variant],i.align!=="inherit"&&{textAlign:i.align},i.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},i.gutterBottom&&{marginBottom:"0.35em"},i.paragraph&&{marginBottom:16})),defaultVariantMapping={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},colorTransformations={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},transformDeprecatedColors=e=>colorTransformations[e]||e,Typography=reactExports.forwardRef(function e(i,s){const o=useThemeProps({props:i,name:"MuiTypography"}),a=transformDeprecatedColors(o.color),c=extendSxProp(_extends({},o,{color:a})),{align:d="inherit",className:h,component:g,gutterBottom:_=!1,noWrap:b=!1,paragraph:$=!1,variant:st="body1",variantMapping:lt=defaultVariantMapping}=c,nt=_objectWithoutPropertiesLoose(c,_excluded$2),tt=_extends({},c,{align:d,color:a,className:h,component:g,gutterBottom:_,noWrap:b,paragraph:$,variant:st,variantMapping:lt}),dt=g||($?"p":lt[st]||defaultVariantMapping[st])||"span",et=useUtilityClasses$2(tt);return jsxRuntimeExports.jsx(TypographyRoot,_extends({as:dt,ref:s,ownerState:tt,className:clsx(et.root,h)},nt))}),Typography$1=Typography;function getAppBarUtilityClass(e){return generateUtilityClass("MuiAppBar",e)}generateUtilityClasses("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]);const _excluded$1=["className","color","enableColorOnDark","position"],useUtilityClasses$1=e=>{const{color:i,position:s,classes:o}=e,a={root:["root",`color${capitalize(i)}`,`position${capitalize(s)}`]};return composeClasses(a,getAppBarUtilityClass,o)},joinVars=(e,i)=>e?`${e==null?void 0:e.replace(")","")}, ${i})`:i,AppBarRoot=styled$1(Paper$1,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,i)=>{const{ownerState:s}=e;return[i.root,i[`position${capitalize(s.position)}`],i[`color${capitalize(s.color)}`]]}})(({theme:e,ownerState:i})=>{const s=e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[900];return _extends({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},i.position==="fixed"&&{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},i.position==="absolute"&&{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},i.position==="sticky"&&{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},i.position==="static"&&{position:"static"},i.position==="relative"&&{position:"relative"},!e.vars&&_extends({},i.color==="default"&&{backgroundColor:s,color:e.palette.getContrastText(s)},i.color&&i.color!=="default"&&i.color!=="inherit"&&i.color!=="transparent"&&{backgroundColor:e.palette[i.color].main,color:e.palette[i.color].contrastText},i.color==="inherit"&&{color:"inherit"},e.palette.mode==="dark"&&!i.enableColorOnDark&&{backgroundColor:null,color:null},i.color==="transparent"&&_extends({backgroundColor:"transparent",color:"inherit"},e.palette.mode==="dark"&&{backgroundImage:"none"})),e.vars&&_extends({},i.color==="default"&&{"--AppBar-background":i.enableColorOnDark?e.vars.palette.AppBar.defaultBg:joinVars(e.vars.palette.AppBar.darkBg,e.vars.palette.AppBar.defaultBg),"--AppBar-color":i.enableColorOnDark?e.vars.palette.text.primary:joinVars(e.vars.palette.AppBar.darkColor,e.vars.palette.text.primary)},i.color&&!i.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":i.enableColorOnDark?e.vars.palette[i.color].main:joinVars(e.vars.palette.AppBar.darkBg,e.vars.palette[i.color].main),"--AppBar-color":i.enableColorOnDark?e.vars.palette[i.color].contrastText:joinVars(e.vars.palette.AppBar.darkColor,e.vars.palette[i.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:i.color==="inherit"?"inherit":"var(--AppBar-color)"},i.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),AppBar=reactExports.forwardRef(function e(i,s){const o=useThemeProps({props:i,name:"MuiAppBar"}),{className:a,color:c="primary",enableColorOnDark:d=!1,position:h="fixed"}=o,g=_objectWithoutPropertiesLoose(o,_excluded$1),_=_extends({},o,{color:c,position:h,enableColorOnDark:d}),b=useUtilityClasses$1(_);return jsxRuntimeExports.jsx(AppBarRoot,_extends({square:!0,component:"header",ownerState:_,elevation:4,className:clsx(b.root,a,h==="fixed"&&"mui-fixed"),ref:s},g))}),AppBar$1=AppBar;function useMediaQueryOld(e,i,s,o,a){const[c,d]=reactExports.useState(()=>a&&s?s(e).matches:o?o(e).matches:i);return useEnhancedEffect$1(()=>{let h=!0;if(!s)return;const g=s(e),_=()=>{h&&d(g.matches)};return _(),g.addListener(_),()=>{h=!1,g.removeListener(_)}},[e,s]),c}const maybeReactUseSyncExternalStore=React$1["useSyncExternalStore"];function useMediaQueryNew(e,i,s,o,a){const c=reactExports.useCallback(()=>i,[i]),d=reactExports.useMemo(()=>{if(a&&s)return()=>s(e).matches;if(o!==null){const{matches:b}=o(e);return()=>b}return c},[c,e,o,a,s]),[h,g]=reactExports.useMemo(()=>{if(s===null)return[c,()=>()=>{}];const b=s(e);return[()=>b.matches,$=>(b.addListener($),()=>{b.removeListener($)})]},[c,s,e]);return maybeReactUseSyncExternalStore(g,h,d)}function useMediaQuery(e,i={}){const s=useTheme$2(),o=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:a=!1,matchMedia:c=o?window.matchMedia:null,ssrMatchMedia:d=null,noSsr:h=!1}=getThemeProps({name:"MuiUseMediaQuery",props:i,theme:s});let g=typeof e=="function"?e(s):e;return g=g.replace(/^@media( ?)/m,""),(maybeReactUseSyncExternalStore!==void 0?useMediaQueryNew:useMediaQueryOld)(g,a,c,d,h)}function getToolbarUtilityClass(e){return generateUtilityClass("MuiToolbar",e)}generateUtilityClasses("MuiToolbar",["root","gutters","regular","dense"]);const _excluded=["className","component","disableGutters","variant"],useUtilityClasses=e=>{const{classes:i,disableGutters:s,variant:o}=e;return composeClasses({root:["root",!s&&"gutters",o]},getToolbarUtilityClass,i)},ToolbarRoot=styled$1("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,i)=>{const{ownerState:s}=e;return[i.root,!s.disableGutters&&i.gutters,i[s.variant]]}})(({theme:e,ownerState:i})=>_extends({position:"relative",display:"flex",alignItems:"center"},!i.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}},i.variant==="dense"&&{minHeight:48}),({theme:e,ownerState:i})=>i.variant==="regular"&&e.mixins.toolbar),Toolbar=reactExports.forwardRef(function e(i,s){const o=useThemeProps({props:i,name:"MuiToolbar"}),{className:a,component:c="div",disableGutters:d=!1,variant:h="regular"}=o,g=_objectWithoutPropertiesLoose(o,_excluded),_=_extends({},o,{component:c,disableGutters:d,variant:h}),b=useUtilityClasses(_);return jsxRuntimeExports.jsx(ToolbarRoot,_extends({as:c,className:clsx(b.root,a),ref:s,ownerState:_},g))}),Toolbar$1=Toolbar;var Description={},interopRequireDefault={exports:{}};(function(e){function i(s){return s&&s.__esModule?s:{default:s}}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports})(interopRequireDefault);var interopRequireDefaultExports=interopRequireDefault.exports,createSvgIcon={};const require$$0=getAugmentedNamespace(utils);var hasRequiredCreateSvgIcon;function requireCreateSvgIcon(){return hasRequiredCreateSvgIcon||(hasRequiredCreateSvgIcon=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return i.createSvgIcon}});var i=require$$0}(createSvgIcon)),createSvgIcon}var _interopRequireDefault$3=interopRequireDefaultExports;Object.defineProperty(Description,"__esModule",{value:!0});var default_1$3=Description.default=void 0,_createSvgIcon$3=_interopRequireDefault$3(requireCreateSvgIcon()),_jsxRuntime$3=jsxRuntimeExports,_default$3=(0,_createSvgIcon$3.default)((0,_jsxRuntime$3.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"}),"Description");default_1$3=Description.default=_default$3;var Folder$2={},_interopRequireDefault$2=interopRequireDefaultExports;Object.defineProperty(Folder$2,"__esModule",{value:!0});var default_1$2=Folder$2.default=void 0,_createSvgIcon$2=_interopRequireDefault$2(requireCreateSvgIcon()),_jsxRuntime$2=jsxRuntimeExports,_default$2=(0,_createSvgIcon$2.default)((0,_jsxRuntime$2.jsx)("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"}),"Folder");default_1$2=Folder$2.default=_default$2;var FolderOutlined={},_interopRequireDefault$1=interopRequireDefaultExports;Object.defineProperty(FolderOutlined,"__esModule",{value:!0});var default_1$1=FolderOutlined.default=void 0,_createSvgIcon$1=_interopRequireDefault$1(requireCreateSvgIcon()),_jsxRuntime$1=jsxRuntimeExports,_default$1=(0,_createSvgIcon$1.default)((0,_jsxRuntime$1.jsx)("path",{d:"m9.17 6 2 2H20v10H4V6h5.17M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"}),"FolderOutlined");default_1$1=FolderOutlined.default=_default$1;const Folder$1="",Folder=({folderName:e,folderPath:i})=>{const s=i.substring(i.indexOf("/")+1),o=useNavigate(),a=()=>{console.log("folder selected: ",e),o(`/folder/${s}`)},c=12,d=e.length>c?e.substring(0,c)+"...":e;return jsxRuntimeExports.jsxs("div",{className:"folder-mini",onClick:a,children:[jsxRuntimeExports.jsx("div",{className:"folder-icon",children:jsxRuntimeExports.jsx(default_1$1,{fontSize:"inherit"})}),jsxRuntimeExports.jsx("div",{className:"folder-info",children:jsxRuntimeExports.jsx("div",{className:"folder-name",children:d})})]})},File=({fileName:e,onFileClick:i})=>{const s=()=>{console.log("file selected: ",e),i(e)},a=e.length>10?e.substring(0,10)+"...":e,c=e.split(".").pop();return jsxRuntimeExports.jsx("div",{className:"file-mini",onClick:s,children:jsxRuntimeExports.jsxs("div",{className:"file-info",children:[jsxRuntimeExports.jsx("div",{className:"file-icon",children:c==="pdf"?jsxRuntimeExports.jsx(default_1$3,{}):jsxRuntimeExports.jsx(default_1$2,{})}),jsxRuntimeExports.jsx("div",{className:"file-name",children:a})]})})};pdfExports.GlobalWorkerOptions.workerSrc="pdfjs-dist/build/pdf.worker.js";const FileItem=({filePath:e,file:i})=>{const[s,o]=reactExports.useState(!1),[a,c]=reactExports.useState(null),d=reactExports.useRef(null),h=()=>{g()},g=async()=>{console.log("trying to download file"),console.log(e);const{data:b,error:$}=await supabase.storage.from("documents").download(e);if($)alert("Error fetching the file."),console.error("Error fetching files: ",$);else{const st=URL.createObjectURL(b);console.log("Got the file at "+st),pdfExports.getDocument(st).promise.then(lt=>{c(lt)})}o(!0)};reactExports.useEffect(()=>{a&&a.getPage(1).then(b=>{const $=d.current,st=$.getContext("2d"),lt=1.5,nt=b.getViewport({scale:lt}),tt=window.devicePixelRatio||1;$.style.width=nt.width+"px",$.style.height=nt.height+"px",$.width=nt.width*tt*lt,$.height=nt.height*tt*lt,st.scale(tt*lt,tt*lt),b.render({canvasContext:st,viewport:nt,renderInteractiveForms:!0,enableTextLayer:!0})})},[a]);const _=()=>{o(!1)};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(File,{fileName:i.name,onFileClick:h},i.id),s&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("canvas",{ref:d}),jsxRuntimeExports.jsx("button",{onClick:_,children:"Close"})]})]})},Chatbox=e=>{const[i,s]=reactExports.useState(""),[o,a]=reactExports.useState(""),c=async()=>{console.log("send message"),console.log("curpath:",e),await supabase.functions.invoke("openai",{body:{path:e.folderPath,query:i}}).then(d=>{console.log(d),a(d.data.message)}).catch(d=>{console.log("Error getting the answer:",d)})};return jsxRuntimeExports.jsxs("div",{style:{paddingTop:50},children:[jsxRuntimeExports.jsx("p",{children:"Chatbox"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Type a message...",onChange:d=>s(d.target.value)}),jsxRuntimeExports.jsx("button",{title:"Send",onClick:c,style:{backgroundColor:"white",width:50,height:20}}),jsxRuntimeExports.jsx("p",{children:o})]})},CreateNewFolder=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M20 6h-8l-2-2H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-1 8h-3v3h-2v-3h-3v-2h3V9h2v3h3v2z"}),"CreateNewFolder"),Home=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home"),CreateFolder=({parentPath:e,onFolderCreate:i})=>{const[s,o]=reactExports.useState(!1),[a,c]=reactExports.useState(""),d=async()=>{const h=`${e}/${a}`;await addFolder(h),o(!1),c(""),i()};return s?jsxRuntimeExports.jsxs("div",{className:"create-folder-form",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"New Folder",value:a,onChange:h=>c(h.target.value)}),jsxRuntimeExports.jsx("button",{onClick:d,children:"Create"}),jsxRuntimeExports.jsx("button",{onClick:()=>o(!1),children:"Cancel"})]}):jsxRuntimeExports.jsxs("div",{className:"folder-mini",onClick:()=>o(!0),children:[jsxRuntimeExports.jsx("div",{className:"folder-icon",children:jsxRuntimeExports.jsx(CreateNewFolder,{fontSize:"inherit"})}),jsxRuntimeExports.jsx("div",{className:"folder-info",children:jsxRuntimeExports.jsx("div",{className:"folder-name",children:"Create a Folder"})})]})},FileManager="",FileList=e=>{const[i,s]=reactExports.useState([]),[o,a]=reactExports.useState(!0),[c,d]=reactExports.useState(e.userID),{folderPath:h}=useParams();reactExports.useEffect(()=>{h&&(console.log("folder path be like: "+h),d(e.userID+"/"+h))},[h]),reactExports.useEffect(()=>{g()},[c]);const g=async()=>{a(!0),console.log("fetching files at "+c+"...");const{data:_,error:b}=await supabase.storage.from("documents").list(c);a(!1),b?(alert("Error fetching files."),console.error("Error fetching files: ",b)):(s(_),s($=>[$[0],...$]),console.log(_))};return jsxRuntimeExports.jsx("div",{className:"file-manager-container",children:jsxRuntimeExports.jsxs("div",{style:{flex:1},children:[c===e.userID?jsxRuntimeExports.jsx("h1",{children:"My Files"}):jsxRuntimeExports.jsxs("h1",{children:[" ",c.substring(c.lastIndexOf("/")+1)]}),jsxRuntimeExports.jsx("div",{className:"file-list-container",children:o?jsxRuntimeExports.jsx("p",{children:"Loading files..."}):i.map((_,b)=>b===0?jsxRuntimeExports.jsx(CreateFolder,{parentPath:c,onFolderCreate:g}):_.name.includes(".pdf")?jsxRuntimeExports.jsx(FileItem,{file:_,filePath:c+"/"+_.name},`${_.id}-${b}`):jsxRuntimeExports.jsx(Folder,{folderName:_.name,folderPath:c+"/"+_.name},`${_.id}-${b}`))}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(FileUpload,{folderPath:c,onUpload:g})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(Chatbox,{folderPath:c})})]})})},Header$1="",Header=()=>jsxRuntimeExports.jsx(AppBar$1,{position:"static",className:"app-bar",children:jsxRuntimeExports.jsx(Toolbar$1,{children:jsxRuntimeExports.jsx(Typography$1,{variant:"h6",paddingLeft:"60px",children:"Workspace"})})});var AccountCircle={},_interopRequireDefault=interopRequireDefaultExports;Object.defineProperty(AccountCircle,"__esModule",{value:!0});var default_1=AccountCircle.default=void 0,_createSvgIcon=_interopRequireDefault(requireCreateSvgIcon()),_jsxRuntime=jsxRuntimeExports,_default=(0,_createSvgIcon.default)((0,_jsxRuntime.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20z"}),"AccountCircle");default_1=AccountCircle.default=_default;const Sidebar=()=>{const e={width:"4vw",height:"4vh",display:"flex",justifyContent:"center",alignItems:"center",border:"none",backgroundColor:"transparent",cursor:"pointer"};return useMediaQuery(s=>s.breakpoints.down("sm"))?jsxRuntimeExports.jsxs("div",{style:{width:"100vw",height:"60px",borderTop:"2px solid grey",position:"fixed",bottom:0,display:"flex",justifyContent:"space-between"},children:[jsxRuntimeExports.jsx(Link,{to:"/",style:{...e,marginLeft:"15px"},children:jsxRuntimeExports.jsx(Home,{})}),jsxRuntimeExports.jsx(Link,{to:"/account",style:{...e,marginRight:"15px"},children:jsxRuntimeExports.jsx(default_1,{})})]}):jsxRuntimeExports.jsxs("div",{style:{height:"100vh",width:"4vw",borderRight:"2px solid grey",position:"fixed",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[jsxRuntimeExports.jsx(Link,{to:"/",style:{...e,marginTop:"3vh"},children:jsxRuntimeExports.jsx(Home,{})}),jsxRuntimeExports.jsx(Link,{to:"/account",style:{...e,marginBottom:"10vh"},children:jsxRuntimeExports.jsx(default_1,{})})]})};function App(){const[e,i]=reactExports.useState(null);reactExports.useEffect(()=>{supabase.auth.getSession().then(({data:{session:o}})=>{i(o)}),supabase.auth.onAuthStateChange((o,a)=>{i(a)}),console.log(e)},[]);const s=createTheme();return jsxRuntimeExports.jsx(ThemeProvider,{theme:s,children:jsxRuntimeExports.jsxs(HashRouter,{children:[jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsx(Sidebar,{}),jsxRuntimeExports.jsx("div",{id:"main-content",children:e?jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(FileList,{userID:e.user.id},e.user.id)}),jsxRuntimeExports.jsx(Route,{path:"/account",element:jsxRuntimeExports.jsx(Account,{session:e},e.user.id)}),jsxRuntimeExports.jsx(Route,{path:"/folder/*",element:jsxRuntimeExports.jsx(FileList,{userID:e.user.id},e.user.id)})]}):jsxRuntimeExports.jsx(Auth,{})})]})})}const index="";client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
