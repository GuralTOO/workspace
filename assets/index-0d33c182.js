var rs=Object.defineProperty;var is=(e,i,s)=>i in e?rs(e,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[i]=s;var Mn=(e,i,s)=>(is(e,typeof i!="symbol"?i+"":i,s),s),ar=(e,i,s)=>{if(!i.has(e))throw TypeError("Cannot "+s)};var pt=(e,i,s)=>(ar(e,i,"read from private field"),s?s.call(e):i.get(e)),Wt=(e,i,s)=>{if(i.has(e))throw TypeError("Cannot add the same private member more than once");i instanceof WeakSet?i.add(e):i.set(e,s)},an=(e,i,s,o)=>(ar(e,i,"write to private field"),o?o.call(e,s):i.set(e,s),s),er=(e,i,s,o)=>({set _(a){an(e,i,a,s)},get _(){return pt(e,i,o)}}),Xt=(e,i,s)=>(ar(e,i,"access private method"),s);function _mergeNamespaces(e,i){for(var s=0;s<i.length;s++){const o=i[s];if(typeof o!="string"&&!Array.isArray(o)){for(const a in o)if(a!=="default"&&!(a in e)){const c=Object.getOwnPropertyDescriptor(o,a);c&&Object.defineProperty(e,a,c.get?c:{enumerable:!0,get:()=>o[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function s(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=s(a);fetch(a.href,c)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var i=e.default;if(typeof i=="function"){var s=function o(){if(this instanceof o){var a=[null];a.push.apply(a,arguments);var c=Function.bind.apply(i,a);return new c}return i.apply(this,arguments)};s.prototype=i.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(o){var a=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(s,o,a.get?a:{enumerable:!0,get:function(){return e[o]}})}),s}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$2=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$1=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(e){return e===null||typeof e!="object"?null:(e=z$1&&e[z$1]||e["@@iterator"],typeof e=="function"?e:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(e,i,s){this.props=e,this.context=i,this.refs=D$1,this.updater=s||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(e,i){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,i,"setState")};E$1.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(e,i,s){this.props=e,this.context=i,this.refs=D$1,this.updater=s||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(e,i,s){var o,a={},c=null,d=null;if(i!=null)for(o in i.ref!==void 0&&(d=i.ref),i.key!==void 0&&(c=""+i.key),i)J.call(i,o)&&!L$1.hasOwnProperty(o)&&(a[o]=i[o]);var h=arguments.length-2;if(h===1)a.children=s;else if(1<h){for(var g=Array(h),b=0;b<h;b++)g[b]=arguments[b+2];a.children=g}if(e&&e.defaultProps)for(o in h=e.defaultProps,h)a[o]===void 0&&(a[o]=h[o]);return{$$typeof:l$1,type:e,key:c,ref:d,props:a,_owner:K$1.current}}function N$1(e,i){return{$$typeof:l$1,type:e.type,key:i,ref:e.ref,props:e.props,_owner:e._owner}}function O$1(e){return typeof e=="object"&&e!==null&&e.$$typeof===l$1}function escape$1(e){var i={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return i[s]})}var P$1=/\/+/g;function Q$1(e,i){return typeof e=="object"&&e!==null&&e.key!=null?escape$1(""+e.key):i.toString(36)}function R$1(e,i,s,o,a){var c=typeof e;(c==="undefined"||c==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(c){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case l$1:case n$1:d=!0}}if(d)return d=e,a=a(d),e=o===""?"."+Q$1(d,0):o,I$1(a)?(s="",e!=null&&(s=e.replace(P$1,"$&/")+"/"),R$1(a,i,s,"",function(b){return b})):a!=null&&(O$1(a)&&(a=N$1(a,s+(!a.key||d&&d.key===a.key?"":(""+a.key).replace(P$1,"$&/")+"/")+e)),i.push(a)),1;if(d=0,o=o===""?".":o+":",I$1(e))for(var h=0;h<e.length;h++){c=e[h];var g=o+Q$1(c,h);d+=R$1(c,i,s,g,a)}else if(g=A$1(e),typeof g=="function")for(e=g.call(e),h=0;!(c=e.next()).done;)c=c.value,g=o+Q$1(c,h++),d+=R$1(c,i,s,g,a);else if(c==="object")throw i=String(e),Error("Objects are not valid as a React child (found: "+(i==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":i)+"). If you meant to render a collection of children, use an array instead.");return d}function S$1(e,i,s){if(e==null)return e;var o=[],a=0;return R$1(e,o,"","",function(c){return i.call(s,c,a++)}),o}function T$1(e){if(e._status===-1){var i=e._result;i=i(),i.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=i)}if(e._status===1)return e._result.default;throw e._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};react_production_min.Children={map:S$1,forEach:function(e,i,s){S$1(e,function(){i.apply(this,arguments)},s)},count:function(e){var i=0;return S$1(e,function(){i++}),i},toArray:function(e){return S$1(e,function(i){return i})||[]},only:function(e){if(!O$1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};react_production_min.Component=E$1;react_production_min.Fragment=p$2;react_production_min.Profiler=r;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.cloneElement=function(e,i,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=C$1({},e.props),a=e.key,c=e.ref,d=e._owner;if(i!=null){if(i.ref!==void 0&&(c=i.ref,d=K$1.current),i.key!==void 0&&(a=""+i.key),e.type&&e.type.defaultProps)var h=e.type.defaultProps;for(g in i)J.call(i,g)&&!L$1.hasOwnProperty(g)&&(o[g]=i[g]===void 0&&h!==void 0?h[g]:i[g])}var g=arguments.length-2;if(g===1)o.children=s;else if(1<g){h=Array(g);for(var b=0;b<g;b++)h[b]=arguments[b+2];o.children=h}return{$$typeof:l$1,type:e.type,key:a,ref:c,props:o,_owner:d}};react_production_min.createContext=function(e){return e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:t,_context:e},e.Consumer=e};react_production_min.createElement=M$1;react_production_min.createFactory=function(e){var i=M$1.bind(null,e);return i.type=e,i};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(e){return{$$typeof:v$1,render:e}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(e){return{$$typeof:y,_payload:{_status:-1,_result:e},_init:T$1}};react_production_min.memo=function(e,i){return{$$typeof:x,type:e,compare:i===void 0?null:i}};react_production_min.startTransition=function(e){var i=V$1.transition;V$1.transition={};try{e()}finally{V$1.transition=i}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(e,i){return U$1.current.useCallback(e,i)};react_production_min.useContext=function(e){return U$1.current.useContext(e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(e){return U$1.current.useDeferredValue(e)};react_production_min.useEffect=function(e,i){return U$1.current.useEffect(e,i)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(e,i,s){return U$1.current.useImperativeHandle(e,i,s)};react_production_min.useInsertionEffect=function(e,i){return U$1.current.useInsertionEffect(e,i)};react_production_min.useLayoutEffect=function(e,i){return U$1.current.useLayoutEffect(e,i)};react_production_min.useMemo=function(e,i){return U$1.current.useMemo(e,i)};react_production_min.useReducer=function(e,i,s){return U$1.current.useReducer(e,i,s)};react_production_min.useRef=function(e){return U$1.current.useRef(e)};react_production_min.useState=function(e){return U$1.current.useState(e)};react_production_min.useSyncExternalStore=function(e,i,s){return U$1.current.useSyncExternalStore(e,i,s)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q(e,i,s){var o,a={},c=null,d=null;s!==void 0&&(c=""+s),i.key!==void 0&&(c=""+i.key),i.ref!==void 0&&(d=i.ref);for(o in i)m$1.call(i,o)&&!p$1.hasOwnProperty(o)&&(a[o]=i[o]);if(e&&e.defaultProps)for(o in i=e.defaultProps,i)a[o]===void 0&&(a[o]=i[o]);return{$$typeof:k,type:e,key:c,ref:d,props:a,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function i(jt,$t){var Qt=jt.length;jt.push($t);e:for(;0<Qt;){var Jt=Qt-1>>>1,on=jt[Jt];if(0<a(on,$t))jt[Jt]=$t,jt[Qt]=on,Qt=Jt;else break e}}function s(jt){return jt.length===0?null:jt[0]}function o(jt){if(jt.length===0)return null;var $t=jt[0],Qt=jt.pop();if(Qt!==$t){jt[0]=Qt;e:for(var Jt=0,on=jt.length,un=on>>>1;Jt<un;){var Ct=2*(Jt+1)-1,ht=jt[Ct],gt=Ct+1,wt=jt[gt];if(0>a(ht,Qt))gt<on&&0>a(wt,ht)?(jt[Jt]=wt,jt[gt]=Qt,Jt=gt):(jt[Jt]=ht,jt[Ct]=Qt,Jt=Ct);else if(gt<on&&0>a(wt,Qt))jt[Jt]=wt,jt[gt]=Qt,Jt=gt;else break e}}return $t}function a(jt,$t){var Qt=jt.sortIndex-$t.sortIndex;return Qt!==0?Qt:jt.id-$t.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();e.unstable_now=function(){return d.now()-h}}var g=[],b=[],_=1,_e=null,ot=3,ut=!1,rt=!1,it=!1,dt=typeof setTimeout=="function"?setTimeout:null,tt=typeof clearTimeout=="function"?clearTimeout:null,st=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function nt(jt){for(var $t=s(b);$t!==null;){if($t.callback===null)o(b);else if($t.startTime<=jt)o(b),$t.sortIndex=$t.expirationTime,i(g,$t);else break;$t=s(b)}}function $(jt){if(it=!1,nt(jt),!rt)if(s(g)!==null)rt=!0,Kt(_t);else{var $t=s(b);$t!==null&&Zt($,$t.startTime-jt)}}function _t(jt,$t){rt=!1,it&&(it=!1,tt(j),j=-1),ut=!0;var Qt=ot;try{for(nt($t),_e=s(g);_e!==null&&(!(_e.expirationTime>$t)||jt&&!lt());){var Jt=_e.callback;if(typeof Jt=="function"){_e.callback=null,ot=_e.priorityLevel;var on=Jt(_e.expirationTime<=$t);$t=e.unstable_now(),typeof on=="function"?_e.callback=on:_e===s(g)&&o(g),nt($t)}else o(g);_e=s(g)}if(_e!==null)var un=!0;else{var Ct=s(b);Ct!==null&&Zt($,Ct.startTime-$t),un=!1}return un}finally{_e=null,ot=Qt,ut=!1}}var At=!1,ft=null,j=-1,at=5,yt=-1;function lt(){return!(e.unstable_now()-yt<at)}function vt(){if(ft!==null){var jt=e.unstable_now();yt=jt;var $t=!0;try{$t=ft(!0,jt)}finally{$t?xt():(At=!1,ft=null)}}else At=!1}var xt;if(typeof st=="function")xt=function(){st(vt)};else if(typeof MessageChannel<"u"){var bt=new MessageChannel,It=bt.port2;bt.port1.onmessage=vt,xt=function(){It.postMessage(null)}}else xt=function(){dt(vt,0)};function Kt(jt){ft=jt,At||(At=!0,xt())}function Zt(jt,$t){j=dt(function(){jt(e.unstable_now())},$t)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(jt){jt.callback=null},e.unstable_continueExecution=function(){rt||ut||(rt=!0,Kt(_t))},e.unstable_forceFrameRate=function(jt){0>jt||125<jt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):at=0<jt?Math.floor(1e3/jt):5},e.unstable_getCurrentPriorityLevel=function(){return ot},e.unstable_getFirstCallbackNode=function(){return s(g)},e.unstable_next=function(jt){switch(ot){case 1:case 2:case 3:var $t=3;break;default:$t=ot}var Qt=ot;ot=$t;try{return jt()}finally{ot=Qt}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(jt,$t){switch(jt){case 1:case 2:case 3:case 4:case 5:break;default:jt=3}var Qt=ot;ot=jt;try{return $t()}finally{ot=Qt}},e.unstable_scheduleCallback=function(jt,$t,Qt){var Jt=e.unstable_now();switch(typeof Qt=="object"&&Qt!==null?(Qt=Qt.delay,Qt=typeof Qt=="number"&&0<Qt?Jt+Qt:Jt):Qt=Jt,jt){case 1:var on=-1;break;case 2:on=250;break;case 5:on=1073741823;break;case 4:on=1e4;break;default:on=5e3}return on=Qt+on,jt={id:_++,callback:$t,priorityLevel:jt,startTime:Qt,expirationTime:on,sortIndex:-1},Qt>Jt?(jt.sortIndex=Qt,i(b,jt),s(g)===null&&jt===s(b)&&(it?(tt(j),j=-1):it=!0,Zt($,Qt-Jt))):(jt.sortIndex=on,i(g,jt),rt||ut||(rt=!0,Kt(_t))),jt},e.unstable_shouldYield=lt,e.unstable_wrapCallback=function(jt){var $t=ot;return function(){var Qt=ot;ot=$t;try{return jt.apply(this,arguments)}finally{ot=Qt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p(e){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(e,i){ha(e,i),ha(e+"Capture",i)}function ha(e,i){for(ea[e]=i,e=0;e<i.length;e++)da.add(i[e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(e){return ja.call(ma,e)?!0:ja.call(la,e)?!1:ka.test(e)?ma[e]=!0:(la[e]=!0,!1)}function pa(e,i,s,o){if(s!==null&&s.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return o?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qa(e,i,s,o){if(i===null||typeof i>"u"||pa(e,i,s,o))return!0;if(o)return!1;if(s!==null)switch(s.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function v(e,i,s,o,a,c,d){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=o,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=i,this.sanitizeURL=c,this.removeEmptyString=d}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){z[e]=new v(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var i=e[0];z[i]=new v(i,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){z[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){z[e]=new v(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){z[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){z[e]=new v(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){z[e]=new v(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){z[e]=new v(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){z[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var i=e.replace(ra,sa);z[i]=new v(i,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var i=e.replace(ra,sa);z[i]=new v(i,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var i=e.replace(ra,sa);z[i]=new v(i,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){z[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)});z.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){z[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)});function ta(e,i,s,o){var a=z.hasOwnProperty(i)?z[i]:null;(a!==null?a.type!==0:o||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(qa(i,s,a,o)&&(s=null),o||a===null?oa(i)&&(s===null?e.removeAttribute(i):e.setAttribute(i,""+s)):a.mustUseProperty?e[a.propertyName]=s===null?a.type===3?!1:"":s:(i=a.attributeName,o=a.attributeNamespace,s===null?e.removeAttribute(i):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,o?e.setAttributeNS(o,i,s):e.setAttribute(i,s))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(e){return e===null||typeof e!="object"?null:(e=Ja&&e[Ja]||e["@@iterator"],typeof e=="function"?e:null)}var A=Object.assign,La;function Ma(e){if(La===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);La=i&&i[1]||""}return`
`+La+e}var Na=!1;function Oa(e,i){if(!e||Na)return"";Na=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(b){var o=b}Reflect.construct(e,[],i)}else{try{i.call()}catch(b){o=b}e.call(i.prototype)}else{try{throw Error()}catch(b){o=b}e()}}catch(b){if(b&&o&&typeof b.stack=="string"){for(var a=b.stack.split(`
`),c=o.stack.split(`
`),d=a.length-1,h=c.length-1;1<=d&&0<=h&&a[d]!==c[h];)h--;for(;1<=d&&0<=h;d--,h--)if(a[d]!==c[h]){if(d!==1||h!==1)do if(d--,h--,0>h||a[d]!==c[h]){var g=`
`+a[d].replace(" at new "," at ");return e.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",e.displayName)),g}while(1<=d&&0<=h);break}}}finally{Na=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?Ma(e):""}function Pa(e){switch(e.tag){case 5:return Ma(e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return e=Oa(e.type,!1),e;case 11:return e=Oa(e.type.render,!1),e;case 1:return e=Oa(e.type,!0),e;default:return""}}function Qa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ca:return(e.displayName||"Context")+".Consumer";case Ba:return(e._context.displayName||"Context")+".Provider";case Da:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ga:return i=e.displayName||null,i!==null?i:Qa(e.type)||"Memo";case Ha:i=e._payload,e=e._init;try{return Qa(e(i))}catch{}}return null}function Ra(e){var i=e.type;switch(e.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=i.render,e=e.displayName||e.name||"",i.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(i);case 8:return i===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Sa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ta(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ua(e){var i=Ta(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),o=""+e[i];if(!e.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,c=s.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return a.call(this)},set:function(d){o=""+d,c.call(this,d)}}),Object.defineProperty(e,i,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(d){o=""+d},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Va(e){e._valueTracker||(e._valueTracker=Ua(e))}function Wa(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var s=i.getValue(),o="";return e&&(o=Ta(e)?e.checked?"true":"false":e.value),e=o,e!==s?(i.setValue(e),!0):!1}function Xa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ya(e,i){var s=i.checked;return A({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Za(e,i){var s=i.defaultValue==null?"":i.defaultValue,o=i.checked!=null?i.checked:i.defaultChecked;s=Sa(i.value!=null?i.value:s),e._wrapperState={initialChecked:o,initialValue:s,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function ab(e,i){i=i.checked,i!=null&&ta(e,"checked",i,!1)}function bb(e,i){ab(e,i);var s=Sa(i.value),o=i.type;if(s!=null)o==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}i.hasOwnProperty("value")?cb(e,i.type,s):i.hasOwnProperty("defaultValue")&&cb(e,i.type,Sa(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(e.defaultChecked=!!i.defaultChecked)}function db(e,i,s){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var o=i.type;if(!(o!=="submit"&&o!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+e._wrapperState.initialValue,s||i===e.value||(e.value=i),e.defaultValue=i}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function cb(e,i,s){(i!=="number"||Xa(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var eb=Array.isArray;function fb(e,i,s,o){if(e=e.options,i){i={};for(var a=0;a<s.length;a++)i["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=i.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Sa(s),i=null,a=0;a<e.length;a++){if(e[a].value===s){e[a].selected=!0,o&&(e[a].defaultSelected=!0);return}i!==null||e[a].disabled||(i=e[a])}i!==null&&(i.selected=!0)}}function gb(e,i){if(i.dangerouslySetInnerHTML!=null)throw Error(p(91));return A({},i,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hb(e,i){var s=i.value;if(s==null){if(s=i.children,i=i.defaultValue,s!=null){if(i!=null)throw Error(p(92));if(eb(s)){if(1<s.length)throw Error(p(93));s=s[0]}i=s}i==null&&(i=""),s=i}e._wrapperState={initialValue:Sa(s)}}function ib(e,i){var s=Sa(i.value),o=Sa(i.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),i.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),o!=null&&(e.defaultValue=""+o)}function jb(e){var i=e.textContent;i===e._wrapperState.initialValue&&i!==""&&i!==null&&(e.value=i)}function kb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(e,i){return e==null||e==="http://www.w3.org/1999/xhtml"?kb(i):e==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mb,nb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,s,o,a){MSApp.execUnsafeLocalFunction(function(){return e(i,s,o,a)})}:e}(function(e,i){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=i;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=mb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;i.firstChild;)e.appendChild(i.firstChild)}});function ob(e,i){if(i){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=i;return}}e.textContent=i}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(e){qb.forEach(function(i){i=i+e.charAt(0).toUpperCase()+e.substring(1),pb[i]=pb[e]})});function rb(e,i,s){return i==null||typeof i=="boolean"||i===""?"":s||typeof i!="number"||i===0||pb.hasOwnProperty(e)&&pb[e]?(""+i).trim():i+"px"}function sb(e,i){e=e.style;for(var s in i)if(i.hasOwnProperty(s)){var o=s.indexOf("--")===0,a=rb(s,i[s],o);s==="float"&&(s="cssFloat"),o?e.setProperty(s,a):e[s]=a}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(e,i){if(i){if(tb[e]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(p(137,e));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(p(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(p(61))}if(i.style!=null&&typeof i.style!="object")throw Error(p(62))}}function vb(e,i){if(e.indexOf("-")===-1)return typeof i.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yb=null,zb=null,Ab=null;function Bb(e){if(e=Cb(e)){if(typeof yb!="function")throw Error(p(280));var i=e.stateNode;i&&(i=Db(i),yb(e.stateNode,e.type,i))}}function Eb(e){zb?Ab?Ab.push(e):Ab=[e]:zb=e}function Fb(){if(zb){var e=zb,i=Ab;if(Ab=zb=null,Bb(e),i)for(e=0;e<i.length;e++)Bb(i[e])}}function Gb(e,i){return e(i)}function Hb(){}var Ib=!1;function Jb(e,i,s){if(Ib)return e(i,s);Ib=!0;try{return Gb(e,i,s)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(e,i){var s=e.stateNode;if(s===null)return null;var o=Db(s);if(o===null)return null;s=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(p(231,i,typeof s));return s}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(e,i,s,o,a,c,d,h,g){var b=Array.prototype.slice.call(arguments,3);try{i.apply(s,b)}catch(_){this.onError(_)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(e){Ob=!0,Pb=e}};function Tb(e,i,s,o,a,c,d,h,g){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(e,i,s,o,a,c,d,h,g){if(Tb.apply(this,arguments),Ob){if(Ob){var b=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=b)}}function Vb(e){var i=e,s=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,i.flags&4098&&(s=i.return),e=i.return;while(e)}return i.tag===3?s:null}function Wb(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function Xb(e){if(Vb(e)!==e)throw Error(p(188))}function Yb(e){var i=e.alternate;if(!i){if(i=Vb(e),i===null)throw Error(p(188));return i!==e?null:e}for(var s=e,o=i;;){var a=s.return;if(a===null)break;var c=a.alternate;if(c===null){if(o=a.return,o!==null){s=o;continue}break}if(a.child===c.child){for(c=a.child;c;){if(c===s)return Xb(a),e;if(c===o)return Xb(a),i;c=c.sibling}throw Error(p(188))}if(s.return!==o.return)s=a,o=c;else{for(var d=!1,h=a.child;h;){if(h===s){d=!0,s=a,o=c;break}if(h===o){d=!0,o=a,s=c;break}h=h.sibling}if(!d){for(h=c.child;h;){if(h===s){d=!0,s=c,o=a;break}if(h===o){d=!0,o=c,s=a;break}h=h.sibling}if(!d)throw Error(p(189))}}if(s.alternate!==o)throw Error(p(190))}if(s.tag!==3)throw Error(p(188));return s.stateNode.current===s?e:i}function Zb(e){return e=Yb(e),e!==null?$b(e):null}function $b(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var i=$b(e);if(i!==null)return i;e=e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,e,void 0,(e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(e){return e>>>=0,e===0?32:31-(pc(e)/qc|0)|0}var rc=64,sc=4194304;function tc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uc(e,i){var s=e.pendingLanes;if(s===0)return 0;var o=0,a=e.suspendedLanes,c=e.pingedLanes,d=s&268435455;if(d!==0){var h=d&~a;h!==0?o=tc(h):(c&=d,c!==0&&(o=tc(c)))}else d=s&~a,d!==0?o=tc(d):c!==0&&(o=tc(c));if(o===0)return 0;if(i!==0&&i!==o&&!(i&a)&&(a=o&-o,c=i&-i,a>=c||a===16&&(c&4194240)!==0))return i;if(o&4&&(o|=s&16),i=e.entangledLanes,i!==0)for(e=e.entanglements,i&=o;0<i;)s=31-oc(i),a=1<<s,o|=e[s],i&=~a;return o}function vc(e,i){switch(e){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(e,i){for(var s=e.suspendedLanes,o=e.pingedLanes,a=e.expirationTimes,c=e.pendingLanes;0<c;){var d=31-oc(c),h=1<<d,g=a[d];g===-1?(!(h&s)||h&o)&&(a[d]=vc(h,i)):g<=i&&(e.expiredLanes|=h),c&=~h}}function xc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yc(){var e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),e}function zc(e){for(var i=[],s=0;31>s;s++)i.push(e);return i}function Ac(e,i,s){e.pendingLanes|=i,i!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,i=31-oc(i),e[i]=s}function Bc(e,i){var s=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-oc(s),c=1<<a;i[a]=0,o[a]=-1,e[a]=-1,s&=~c}}function Cc(e,i){var s=e.entangledLanes|=i;for(e=e.entanglements;s;){var o=31-oc(s),a=1<<o;a&i|e[o]&i&&(e[o]|=i),s&=~a}}var C=0;function Dc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(e,i){switch(e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(i.pointerId)}}function Tc(e,i,s,o,a,c){return e===null||e.nativeEvent!==c?(e={blockedOn:i,domEventName:s,eventSystemFlags:o,nativeEvent:c,targetContainers:[a]},i!==null&&(i=Cb(i),i!==null&&Fc(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,a!==null&&i.indexOf(a)===-1&&i.push(a),e)}function Uc(e,i,s,o,a){switch(i){case"focusin":return Lc=Tc(Lc,e,i,s,o,a),!0;case"dragenter":return Mc=Tc(Mc,e,i,s,o,a),!0;case"mouseover":return Nc=Tc(Nc,e,i,s,o,a),!0;case"pointerover":var c=a.pointerId;return Oc.set(c,Tc(Oc.get(c)||null,e,i,s,o,a)),!0;case"gotpointercapture":return c=a.pointerId,Pc.set(c,Tc(Pc.get(c)||null,e,i,s,o,a)),!0}return!1}function Vc(e){var i=Wc(e.target);if(i!==null){var s=Vb(i);if(s!==null){if(i=s.tag,i===13){if(i=Wb(s),i!==null){e.blockedOn=i,Ic(e.priority,function(){Gc(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var s=Yc(e.domEventName,e.eventSystemFlags,i[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);wb=o,s.target.dispatchEvent(o),wb=null}else return i=Cb(s),i!==null&&Fc(i),e.blockedOn=s,!1;i.shift()}return!0}function Zc(e,i,s){Xc(e)&&s.delete(i)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(e,i){e.blockedOn===i&&(e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(e){function i(a){return ad(a,e)}if(0<Kc.length){ad(Kc[0],e);for(var s=1;s<Kc.length;s++){var o=Kc[s];o.blockedOn===e&&(o.blockedOn=null)}}for(Lc!==null&&ad(Lc,e),Mc!==null&&ad(Mc,e),Nc!==null&&ad(Nc,e),Oc.forEach(i),Pc.forEach(i),s=0;s<Qc.length;s++)o=Qc[s],o.blockedOn===e&&(o.blockedOn=null);for(;0<Qc.length&&(s=Qc[0],s.blockedOn===null);)Vc(s),s.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(e,i,s,o){var a=C,c=cd.transition;cd.transition=null;try{C=1,fd(e,i,s,o)}finally{C=a,cd.transition=c}}function gd(e,i,s,o){var a=C,c=cd.transition;cd.transition=null;try{C=4,fd(e,i,s,o)}finally{C=a,cd.transition=c}}function fd(e,i,s,o){if(dd){var a=Yc(e,i,s,o);if(a===null)hd(e,i,o,id,s),Sc(e,o);else if(Uc(a,e,i,s,o))o.stopPropagation();else if(Sc(e,o),i&4&&-1<Rc.indexOf(e)){for(;a!==null;){var c=Cb(a);if(c!==null&&Ec(c),c=Yc(e,i,s,o),c===null&&hd(e,i,o,id,s),c===a)break;a=c}a!==null&&o.stopPropagation()}else hd(e,i,o,null,s)}}var id=null;function Yc(e,i,s,o){if(id=null,e=xb(o),e=Wc(e),e!==null)if(i=Vb(e),i===null)e=null;else if(s=i.tag,s===13){if(e=Wb(i),e!==null)return e;e=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null);return id=e,null}function jd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var e,i=ld,s=i.length,o,a="value"in kd?kd.value:kd.textContent,c=a.length;for(e=0;e<s&&i[e]===a[e];e++);var d=s-e;for(o=1;o<=d&&i[s-o]===a[c-o];o++);return md=a.slice(e,1<o?1-o:void 0)}function od(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function pd(){return!0}function qd(){return!1}function rd(e){function i(s,o,a,c,d){this._reactName=s,this._targetInst=a,this.type=o,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var h in e)e.hasOwnProperty(h)&&(s=e[h],this[h]=s?s(c):c[h]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),i}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yd&&(yd&&e.type==="mousemove"?(wd=e.screenX-yd.screenX,xd=e.screenY-yd.screenY):xd=wd=0,yd=e),wd)},movementY:function(e){return"movementY"in e?e.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Od[e])?!!i[e]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(e){if(e.key){var i=Md[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=od(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(e){return e.type==="keypress"?od(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?od(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge(e,i){switch(e){case"keyup":return $d.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ie=!1;function je(e,i){switch(e){case"compositionend":return he(i);case"keypress":return i.which!==32?null:(fe=!0,ee);case"textInput":return e=i.data,e===ee&&fe?null:e;default:return null}}function ke(e,i){if(ie)return e==="compositionend"||!ae&&ge(e,i)?(e=nd(),md=ld=kd=null,ie=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return de&&i.locale!=="ko"?null:i.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!le[e.type]:i==="textarea"}function ne(e,i,s,o){Eb(o),i=oe(i,"onChange"),0<i.length&&(s=new td("onChange","change",null,s,o),e.push({event:s,listeners:i}))}var pe=null,qe=null;function re(e){se(e,0)}function te(e){var i=ue(e);if(Wa(i))return e}function ve(e,i){if(e==="change")return i}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(e){if(e.propertyName==="value"&&te(qe)){var i=[];ne(i,qe,e,xb(e)),Jb(re,i)}}function Ce(e,i,s){e==="focusin"?(Ae(),pe=i,qe=s,pe.attachEvent("onpropertychange",Be)):e==="focusout"&&Ae()}function De(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return te(qe)}function Ee(e,i){if(e==="click")return te(i)}function Fe(e,i){if(e==="input"||e==="change")return te(i)}function Ge(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(e,i){if(He(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var s=Object.keys(e),o=Object.keys(i);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var a=s[o];if(!ja.call(i,a)||!He(e[a],i[a]))return!1}return!0}function Je(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ke(e,i){var s=Je(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=i&&o>=i)return{node:s,offset:i-e};e=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Je(s)}}function Le(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Le(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Me(){for(var e=window,i=Xa();i instanceof e.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)e=i.contentWindow;else break;i=Xa(e.document)}return i}function Ne(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}function Oe(e){var i=Me(),s=e.focusedElem,o=e.selectionRange;if(i!==s&&s&&s.ownerDocument&&Le(s.ownerDocument.documentElement,s)){if(o!==null&&Ne(s)){if(i=o.start,e=o.end,e===void 0&&(e=i),"selectionStart"in s)s.selectionStart=i,s.selectionEnd=Math.min(e,s.value.length);else if(e=(i=s.ownerDocument||document)&&i.defaultView||window,e.getSelection){e=e.getSelection();var a=s.textContent.length,c=Math.min(o.start,a);o=o.end===void 0?c:Math.min(o.end,a),!e.extend&&c>o&&(a=o,o=c,c=a),a=Ke(s,c);var d=Ke(s,o);a&&d&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(i=i.createRange(),i.setStart(a.node,a.offset),e.removeAllRanges(),c>o?(e.addRange(i),e.extend(d.node,d.offset)):(i.setEnd(d.node,d.offset),e.addRange(i)))}}for(i=[],e=s;e=e.parentNode;)e.nodeType===1&&i.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<i.length;s++)e=i[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(e,i,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Te||Qe==null||Qe!==Xa(o)||(o=Qe,"selectionStart"in o&&Ne(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Se&&Ie(Se,o)||(Se=o,o=oe(Re,"onSelect"),0<o.length&&(i=new td("onSelect","select",null,i,s),e.push({event:i,listeners:o}),i.target=Qe)))}function Ve(e,i){var s={};return s[e.toLowerCase()]=i.toLowerCase(),s["Webkit"+e]="webkit"+i,s["Moz"+e]="moz"+i,s}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(e){if(Xe[e])return Xe[e];if(!We[e])return e;var i=We[e],s;for(s in i)if(i.hasOwnProperty(s)&&s in Ye)return Xe[e]=i[s];return e}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(e,i){df.set(e,i),fa(i,[e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(e,i,s){var o=e.type||"unknown-event";e.currentTarget=s,Ub(o,i,void 0,e),e.currentTarget=null}function se(e,i){i=(i&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],a=o.event;o=o.listeners;e:{var c=void 0;if(i)for(var d=o.length-1;0<=d;d--){var h=o[d],g=h.instance,b=h.currentTarget;if(h=h.listener,g!==c&&a.isPropagationStopped())break e;nf(a,h,b),c=g}else for(d=0;d<o.length;d++){if(h=o[d],g=h.instance,b=h.currentTarget,h=h.listener,g!==c&&a.isPropagationStopped())break e;nf(a,h,b),c=g}}}if(Qb)throw e=Rb,Qb=!1,Rb=null,e}function D(e,i){var s=i[of];s===void 0&&(s=i[of]=new Set);var o=e+"__bubble";s.has(o)||(pf(i,e,2,!1),s.add(o))}function qf(e,i,s){var o=0;i&&(o|=4),pf(s,e,o,i)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(e){if(!e[rf]){e[rf]=!0,da.forEach(function(s){s!=="selectionchange"&&(mf.has(s)||qf(s,!1,e),qf(s,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[rf]||(i[rf]=!0,qf("selectionchange",!1,i))}}function pf(e,i,s,o){switch(jd(i)){case 1:var a=ed;break;case 4:a=gd;break;default:a=fd}s=a.bind(null,i,s,e),a=void 0,!Lb||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(a=!0),o?a!==void 0?e.addEventListener(i,s,{capture:!0,passive:a}):e.addEventListener(i,s,!0):a!==void 0?e.addEventListener(i,s,{passive:a}):e.addEventListener(i,s,!1)}function hd(e,i,s,o,a){var c=o;if(!(i&1)&&!(i&2)&&o!==null)e:for(;;){if(o===null)return;var d=o.tag;if(d===3||d===4){var h=o.stateNode.containerInfo;if(h===a||h.nodeType===8&&h.parentNode===a)break;if(d===4)for(d=o.return;d!==null;){var g=d.tag;if((g===3||g===4)&&(g=d.stateNode.containerInfo,g===a||g.nodeType===8&&g.parentNode===a))return;d=d.return}for(;h!==null;){if(d=Wc(h),d===null)return;if(g=d.tag,g===5||g===6){o=c=d;continue e}h=h.parentNode}}o=o.return}Jb(function(){var b=c,_=xb(s),_e=[];e:{var ot=df.get(e);if(ot!==void 0){var ut=td,rt=e;switch(e){case"keypress":if(od(s)===0)break e;case"keydown":case"keyup":ut=Rd;break;case"focusin":rt="focus",ut=Fd;break;case"focusout":rt="blur",ut=Fd;break;case"beforeblur":case"afterblur":ut=Fd;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ut=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ut=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ut=Vd;break;case $e:case af:case bf:ut=Hd;break;case cf:ut=Xd;break;case"scroll":ut=vd;break;case"wheel":ut=Zd;break;case"copy":case"cut":case"paste":ut=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ut=Td}var it=(i&4)!==0,dt=!it&&e==="scroll",tt=it?ot!==null?ot+"Capture":null:ot;it=[];for(var st=b,nt;st!==null;){nt=st;var $=nt.stateNode;if(nt.tag===5&&$!==null&&(nt=$,tt!==null&&($=Kb(st,tt),$!=null&&it.push(tf(st,$,nt)))),dt)break;st=st.return}0<it.length&&(ot=new ut(ot,rt,null,s,_),_e.push({event:ot,listeners:it}))}}if(!(i&7)){e:{if(ot=e==="mouseover"||e==="pointerover",ut=e==="mouseout"||e==="pointerout",ot&&s!==wb&&(rt=s.relatedTarget||s.fromElement)&&(Wc(rt)||rt[uf]))break e;if((ut||ot)&&(ot=_.window===_?_:(ot=_.ownerDocument)?ot.defaultView||ot.parentWindow:window,ut?(rt=s.relatedTarget||s.toElement,ut=b,rt=rt?Wc(rt):null,rt!==null&&(dt=Vb(rt),rt!==dt||rt.tag!==5&&rt.tag!==6)&&(rt=null)):(ut=null,rt=b),ut!==rt)){if(it=Bd,$="onMouseLeave",tt="onMouseEnter",st="mouse",(e==="pointerout"||e==="pointerover")&&(it=Td,$="onPointerLeave",tt="onPointerEnter",st="pointer"),dt=ut==null?ot:ue(ut),nt=rt==null?ot:ue(rt),ot=new it($,st+"leave",ut,s,_),ot.target=dt,ot.relatedTarget=nt,$=null,Wc(_)===b&&(it=new it(tt,st+"enter",rt,s,_),it.target=nt,it.relatedTarget=dt,$=it),dt=$,ut&&rt)t:{for(it=ut,tt=rt,st=0,nt=it;nt;nt=vf(nt))st++;for(nt=0,$=tt;$;$=vf($))nt++;for(;0<st-nt;)it=vf(it),st--;for(;0<nt-st;)tt=vf(tt),nt--;for(;st--;){if(it===tt||tt!==null&&it===tt.alternate)break t;it=vf(it),tt=vf(tt)}it=null}else it=null;ut!==null&&wf(_e,ot,ut,it,!1),rt!==null&&dt!==null&&wf(_e,dt,rt,it,!0)}}e:{if(ot=b?ue(b):window,ut=ot.nodeName&&ot.nodeName.toLowerCase(),ut==="select"||ut==="input"&&ot.type==="file")var _t=ve;else if(me(ot))if(we)_t=Fe;else{_t=De;var At=Ce}else(ut=ot.nodeName)&&ut.toLowerCase()==="input"&&(ot.type==="checkbox"||ot.type==="radio")&&(_t=Ee);if(_t&&(_t=_t(e,b))){ne(_e,_t,s,_);break e}At&&At(e,ot,b),e==="focusout"&&(At=ot._wrapperState)&&At.controlled&&ot.type==="number"&&cb(ot,"number",ot.value)}switch(At=b?ue(b):window,e){case"focusin":(me(At)||At.contentEditable==="true")&&(Qe=At,Re=b,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(_e,s,_);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(_e,s,_)}var ft;if(ae)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else ie?ge(e,s)&&(j="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(j="onCompositionStart");j&&(de&&s.locale!=="ko"&&(ie||j!=="onCompositionStart"?j==="onCompositionEnd"&&ie&&(ft=nd()):(kd=_,ld="value"in kd?kd.value:kd.textContent,ie=!0)),At=oe(b,j),0<At.length&&(j=new Ld(j,e,null,s,_),_e.push({event:j,listeners:At}),ft?j.data=ft:(ft=he(s),ft!==null&&(j.data=ft)))),(ft=ce?je(e,s):ke(e,s))&&(b=oe(b,"onBeforeInput"),0<b.length&&(_=new Ld("onBeforeInput","beforeinput",null,s,_),_e.push({event:_,listeners:b}),_.data=ft))}se(_e,i)})}function tf(e,i,s){return{instance:e,listener:i,currentTarget:s}}function oe(e,i){for(var s=i+"Capture",o=[];e!==null;){var a=e,c=a.stateNode;a.tag===5&&c!==null&&(a=c,c=Kb(e,s),c!=null&&o.unshift(tf(e,c,a)),c=Kb(e,i),c!=null&&o.push(tf(e,c,a))),e=e.return}return o}function vf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wf(e,i,s,o,a){for(var c=i._reactName,d=[];s!==null&&s!==o;){var h=s,g=h.alternate,b=h.stateNode;if(g!==null&&g===o)break;h.tag===5&&b!==null&&(h=b,a?(g=Kb(s,c),g!=null&&d.unshift(tf(s,g,h))):a||(g=Kb(s,c),g!=null&&d.push(tf(s,g,h)))),s=s.return}d.length!==0&&e.push({event:i,listeners:d})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(e){return(typeof e=="string"?e:""+e).replace(xf,`
`).replace(yf,"")}function Af(e,i,s){if(i=zf(i),zf(e)!==i&&s)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(e){return Hf.resolve(null).then(e).catch(If)}:Ff;function If(e){setTimeout(function(){throw e})}function Kf(e,i){var s=i,o=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(o===0){e.removeChild(a),bd(i);return}o--}else s!=="$"&&s!=="$?"&&s!=="$!"||o++;s=a}while(s);bd(i)}function Lf(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return e}function Mf(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return e;i--}else s==="/$"&&i++}e=e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(e){var i=e[Of];if(i)return i;for(var s=e.parentNode;s;){if(i=s[uf]||s[Of]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(e=Mf(e);e!==null;){if(s=e[Of])return s;e=Mf(e)}return i}e=s,s=e.parentNode}return null}function Cb(e){return e=e[Of]||e[uf],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ue(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(p(33))}function Db(e){return e[Pf]||null}var Sf=[],Tf=-1;function Uf(e){return{current:e}}function E(e){0>Tf||(e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(e,i){Tf++,Sf[Tf]=e.current,e.current=i}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(e,i){var s=e.type.contextTypes;if(!s)return Vf;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===i)return o.__reactInternalMemoizedMaskedChildContext;var a={},c;for(c in s)a[c]=i[c];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),a}function Zf(e){return e=e.childContextTypes,e!=null}function $f(){E(Wf),E(H)}function ag(e,i,s){if(H.current!==Vf)throw Error(p(168));G(H,i),G(Wf,s)}function bg(e,i,s){var o=e.stateNode;if(i=i.childContextTypes,typeof o.getChildContext!="function")return s;o=o.getChildContext();for(var a in o)if(!(a in i))throw Error(p(108,Ra(e)||"Unknown",a));return A({},s,o)}function cg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,e),G(Wf,Wf.current),!0}function dg(e,i,s){var o=e.stateNode;if(!o)throw Error(p(169));s?(e=bg(e,i,Xf),o.__reactInternalMemoizedMergedChildContext=e,E(Wf),E(H),G(H,e)):E(Wf),G(Wf,s)}var eg=null,fg=!1,gg=!1;function hg(e){eg===null?eg=[e]:eg.push(e)}function ig(e){fg=!0,hg(e)}function jg(){if(!gg&&eg!==null){gg=!0;var e=0,i=C;try{var s=eg;for(C=1;e<s.length;e++){var o=s[e];do o=o(!0);while(o!==null)}eg=null,fg=!1}catch(a){throw eg!==null&&(eg=eg.slice(e+1)),ac(fc,jg),a}finally{C=i,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(e,i){kg[lg++]=ng,kg[lg++]=mg,mg=e,ng=i}function ug(e,i,s){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=e;var o=rg;e=sg;var a=32-oc(o)-1;o&=~(1<<a),s+=1;var c=32-oc(i)+a;if(30<c){var d=a-a%5;c=(o&(1<<d)-1).toString(32),o>>=d,a-=d,rg=1<<32-oc(i)+a|s<<a|o,sg=c+e}else rg=1<<c|s<<a|o,sg=e}function vg(e){e.return!==null&&(tg(e,1),ug(e,1,0))}function wg(e){for(;e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(e,i){var s=Bg(5,null,null,0);s.elementType="DELETED",s.stateNode=i,s.return=e,i=e.deletions,i===null?(e.deletions=[s],e.flags|=16):i.push(s)}function Cg(e,i){switch(e.tag){case 5:var s=e.type;return i=i.nodeType!==1||s.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(e.stateNode=i,xg=e,yg=Lf(i.firstChild),!0):!1;case 6:return i=e.pendingProps===""||i.nodeType!==3?null:i,i!==null?(e.stateNode=i,xg=e,yg=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(s=qg!==null?{id:rg,overflow:sg}:null,e.memoizedState={dehydrated:i,treeContext:s,retryLane:1073741824},s=Bg(18,null,null,0),s.stateNode=i,s.return=e,e.child=s,xg=e,yg=null,!0):!1;default:return!1}}function Dg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Eg(e){if(I){var i=yg;if(i){var s=i;if(!Cg(e,i)){if(Dg(e))throw Error(p(418));i=Lf(s.nextSibling);var o=xg;i&&Cg(e,i)?Ag(o,s):(e.flags=e.flags&-4097|2,I=!1,xg=e)}}else{if(Dg(e))throw Error(p(418));e.flags=e.flags&-4097|2,I=!1,xg=e}}}function Fg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xg=e}function Gg(e){if(e!==xg)return!1;if(!I)return Fg(e),I=!0,!1;var i;if((i=e.tag!==3)&&!(i=e.tag!==5)&&(i=e.type,i=i!=="head"&&i!=="body"&&!Ef(e.type,e.memoizedProps)),i&&(i=yg)){if(Dg(e))throw Hg(),Error(p(418));for(;i;)Ag(e,i),i=Lf(i.nextSibling)}if(Fg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p(317));e:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(i===0){yg=Lf(e.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++}e=e.nextSibling}yg=null}}else yg=xg?Lf(e.stateNode.nextSibling):null;return!0}function Hg(){for(var e=yg;e;)e=Lf(e.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(e){zg===null?zg=[e]:zg.push(e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(e,i){if(e&&e.defaultProps){i=A({},i),e=e.defaultProps;for(var s in e)i[s]===void 0&&(i[s]=e[s]);return i}return i}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(e){var i=Mg.current;E(Mg),e._currentValue=i}function Sg(e,i,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===s)break;e=e.return}}function Tg(e,i){Ng=e,Pg=Og=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&i&&(Ug=!0),e.firstContext=null)}function Vg(e){var i=e._currentValue;if(Pg!==e)if(e={context:e,memoizedValue:i,next:null},Og===null){if(Ng===null)throw Error(p(308));Og=e,Ng.dependencies={lanes:0,firstContext:e}}else Og=Og.next=e;return i}var Wg=null;function Xg(e){Wg===null?Wg=[e]:Wg.push(e)}function Yg(e,i,s,o){var a=i.interleaved;return a===null?(s.next=s,Xg(i)):(s.next=a.next,a.next=s),i.interleaved=s,Zg(e,o)}function Zg(e,i){e.lanes|=i;var s=e.alternate;for(s!==null&&(s.lanes|=i),s=e,e=e.return;e!==null;)e.childLanes|=i,s=e.alternate,s!==null&&(s.childLanes|=i),s=e,e=e.return;return s.tag===3?s.stateNode:null}var $g=!1;function ah(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ch(e,i){return{eventTime:e,lane:i,tag:0,payload:null,callback:null,next:null}}function dh(e,i,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,K&2){var a=o.pending;return a===null?i.next=i:(i.next=a.next,a.next=i),o.pending=i,Zg(e,s)}return a=o.interleaved,a===null?(i.next=i,Xg(o)):(i.next=a.next,a.next=i),o.interleaved=i,Zg(e,s)}function eh(e,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194240)!==0)){var o=i.lanes;o&=e.pendingLanes,s|=o,i.lanes=s,Cc(e,s)}}function fh(e,i){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var a=null,c=null;if(s=s.firstBaseUpdate,s!==null){do{var d={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};c===null?a=c=d:c=c.next=d,s=s.next}while(s!==null);c===null?a=c=i:c=c.next=i}else a=c=i;s={baseState:o.baseState,firstBaseUpdate:a,lastBaseUpdate:c,shared:o.shared,effects:o.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=i:e.next=i,s.lastBaseUpdate=i}function gh(e,i,s,o){var a=e.updateQueue;$g=!1;var c=a.firstBaseUpdate,d=a.lastBaseUpdate,h=a.shared.pending;if(h!==null){a.shared.pending=null;var g=h,b=g.next;g.next=null,d===null?c=b:d.next=b,d=g;var _=e.alternate;_!==null&&(_=_.updateQueue,h=_.lastBaseUpdate,h!==d&&(h===null?_.firstBaseUpdate=b:h.next=b,_.lastBaseUpdate=g))}if(c!==null){var _e=a.baseState;d=0,_=b=g=null,h=c;do{var ot=h.lane,ut=h.eventTime;if((o&ot)===ot){_!==null&&(_=_.next={eventTime:ut,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var rt=e,it=h;switch(ot=i,ut=s,it.tag){case 1:if(rt=it.payload,typeof rt=="function"){_e=rt.call(ut,_e,ot);break e}_e=rt;break e;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=it.payload,ot=typeof rt=="function"?rt.call(ut,_e,ot):rt,ot==null)break e;_e=A({},_e,ot);break e;case 2:$g=!0}}h.callback!==null&&h.lane!==0&&(e.flags|=64,ot=a.effects,ot===null?a.effects=[h]:ot.push(h))}else ut={eventTime:ut,lane:ot,tag:h.tag,payload:h.payload,callback:h.callback,next:null},_===null?(b=_=ut,g=_e):_=_.next=ut,d|=ot;if(h=h.next,h===null){if(h=a.shared.pending,h===null)break;ot=h,h=ot.next,ot.next=null,a.lastBaseUpdate=ot,a.shared.pending=null}}while(1);if(_===null&&(g=_e),a.baseState=g,a.firstBaseUpdate=b,a.lastBaseUpdate=_,i=a.shared.interleaved,i!==null){a=i;do d|=a.lane,a=a.next;while(a!==i)}else c===null&&(a.shared.lanes=0);hh|=d,e.lanes=d,e.memoizedState=_e}}function ih(e,i,s){if(e=i.effects,i.effects=null,e!==null)for(i=0;i<e.length;i++){var o=e[i],a=o.callback;if(a!==null){if(o.callback=null,o=s,typeof a!="function")throw Error(p(191,a));a.call(o)}}}var jh=new aa.Component().refs;function kh(e,i,s,o){i=e.memoizedState,s=s(o,i),s=s==null?i:A({},i,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var nh={isMounted:function(e){return(e=e._reactInternals)?Vb(e)===e:!1},enqueueSetState:function(e,i,s){e=e._reactInternals;var o=L(),a=lh(e),c=ch(o,a);c.payload=i,s!=null&&(c.callback=s),i=dh(e,c,a),i!==null&&(mh(i,e,a,o),eh(i,e,a))},enqueueReplaceState:function(e,i,s){e=e._reactInternals;var o=L(),a=lh(e),c=ch(o,a);c.tag=1,c.payload=i,s!=null&&(c.callback=s),i=dh(e,c,a),i!==null&&(mh(i,e,a,o),eh(i,e,a))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var s=L(),o=lh(e),a=ch(s,o);a.tag=2,i!=null&&(a.callback=i),i=dh(e,a,o),i!==null&&(mh(i,e,o,s),eh(i,e,o))}};function oh(e,i,s,o,a,c,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,c,d):i.prototype&&i.prototype.isPureReactComponent?!Ie(s,o)||!Ie(a,c):!0}function ph(e,i,s){var o=!1,a=Vf,c=i.contextType;return typeof c=="object"&&c!==null?c=Vg(c):(a=Zf(i)?Xf:H.current,o=i.contextTypes,c=(o=o!=null)?Yf(e,a):Vf),i=new i(s,c),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=nh,e.stateNode=i,i._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=c),i}function qh(e,i,s,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,o),i.state!==e&&nh.enqueueReplaceState(i,i.state,null)}function rh(e,i,s,o){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs=jh,ah(e);var c=i.contextType;typeof c=="object"&&c!==null?a.context=Vg(c):(c=Zf(i)?Xf:H.current,a.context=Yf(e,c)),a.state=e.memoizedState,c=i.getDerivedStateFromProps,typeof c=="function"&&(kh(e,i,c,s),a.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(i=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),i!==a.state&&nh.enqueueReplaceState(a,a.state,null),gh(e,s,a,o),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function sh(e,i,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(p(309));var o=s.stateNode}if(!o)throw Error(p(147,e));var a=o,c=""+e;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===c?i.ref:(i=function(d){var h=a.refs;h===jh&&(h=a.refs={}),d===null?delete h[c]:h[c]=d},i._stringRef=c,i)}if(typeof e!="string")throw Error(p(284));if(!s._owner)throw Error(p(290,e))}return e}function th(e,i){throw e=Object.prototype.toString.call(i),Error(p(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e))}function uh(e){var i=e._init;return i(e._payload)}function vh(e){function i(tt,st){if(e){var nt=tt.deletions;nt===null?(tt.deletions=[st],tt.flags|=16):nt.push(st)}}function s(tt,st){if(!e)return null;for(;st!==null;)i(tt,st),st=st.sibling;return null}function o(tt,st){for(tt=new Map;st!==null;)st.key!==null?tt.set(st.key,st):tt.set(st.index,st),st=st.sibling;return tt}function a(tt,st){return tt=wh(tt,st),tt.index=0,tt.sibling=null,tt}function c(tt,st,nt){return tt.index=nt,e?(nt=tt.alternate,nt!==null?(nt=nt.index,nt<st?(tt.flags|=2,st):nt):(tt.flags|=2,st)):(tt.flags|=1048576,st)}function d(tt){return e&&tt.alternate===null&&(tt.flags|=2),tt}function h(tt,st,nt,$){return st===null||st.tag!==6?(st=xh(nt,tt.mode,$),st.return=tt,st):(st=a(st,nt),st.return=tt,st)}function g(tt,st,nt,$){var _t=nt.type;return _t===ya?_(tt,st,nt.props.children,$,nt.key):st!==null&&(st.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===Ha&&uh(_t)===st.type)?($=a(st,nt.props),$.ref=sh(tt,st,nt),$.return=tt,$):($=yh(nt.type,nt.key,nt.props,null,tt.mode,$),$.ref=sh(tt,st,nt),$.return=tt,$)}function b(tt,st,nt,$){return st===null||st.tag!==4||st.stateNode.containerInfo!==nt.containerInfo||st.stateNode.implementation!==nt.implementation?(st=zh(nt,tt.mode,$),st.return=tt,st):(st=a(st,nt.children||[]),st.return=tt,st)}function _(tt,st,nt,$,_t){return st===null||st.tag!==7?(st=Ah(nt,tt.mode,$,_t),st.return=tt,st):(st=a(st,nt),st.return=tt,st)}function _e(tt,st,nt){if(typeof st=="string"&&st!==""||typeof st=="number")return st=xh(""+st,tt.mode,nt),st.return=tt,st;if(typeof st=="object"&&st!==null){switch(st.$$typeof){case va:return nt=yh(st.type,st.key,st.props,null,tt.mode,nt),nt.ref=sh(tt,null,st),nt.return=tt,nt;case wa:return st=zh(st,tt.mode,nt),st.return=tt,st;case Ha:var $=st._init;return _e(tt,$(st._payload),nt)}if(eb(st)||Ka(st))return st=Ah(st,tt.mode,nt,null),st.return=tt,st;th(tt,st)}return null}function ot(tt,st,nt,$){var _t=st!==null?st.key:null;if(typeof nt=="string"&&nt!==""||typeof nt=="number")return _t!==null?null:h(tt,st,""+nt,$);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case va:return nt.key===_t?g(tt,st,nt,$):null;case wa:return nt.key===_t?b(tt,st,nt,$):null;case Ha:return _t=nt._init,ot(tt,st,_t(nt._payload),$)}if(eb(nt)||Ka(nt))return _t!==null?null:_(tt,st,nt,$,null);th(tt,nt)}return null}function ut(tt,st,nt,$,_t){if(typeof $=="string"&&$!==""||typeof $=="number")return tt=tt.get(nt)||null,h(st,tt,""+$,_t);if(typeof $=="object"&&$!==null){switch($.$$typeof){case va:return tt=tt.get($.key===null?nt:$.key)||null,g(st,tt,$,_t);case wa:return tt=tt.get($.key===null?nt:$.key)||null,b(st,tt,$,_t);case Ha:var At=$._init;return ut(tt,st,nt,At($._payload),_t)}if(eb($)||Ka($))return tt=tt.get(nt)||null,_(st,tt,$,_t,null);th(st,$)}return null}function rt(tt,st,nt,$){for(var _t=null,At=null,ft=st,j=st=0,at=null;ft!==null&&j<nt.length;j++){ft.index>j?(at=ft,ft=null):at=ft.sibling;var yt=ot(tt,ft,nt[j],$);if(yt===null){ft===null&&(ft=at);break}e&&ft&&yt.alternate===null&&i(tt,ft),st=c(yt,st,j),At===null?_t=yt:At.sibling=yt,At=yt,ft=at}if(j===nt.length)return s(tt,ft),I&&tg(tt,j),_t;if(ft===null){for(;j<nt.length;j++)ft=_e(tt,nt[j],$),ft!==null&&(st=c(ft,st,j),At===null?_t=ft:At.sibling=ft,At=ft);return I&&tg(tt,j),_t}for(ft=o(tt,ft);j<nt.length;j++)at=ut(ft,tt,j,nt[j],$),at!==null&&(e&&at.alternate!==null&&ft.delete(at.key===null?j:at.key),st=c(at,st,j),At===null?_t=at:At.sibling=at,At=at);return e&&ft.forEach(function(lt){return i(tt,lt)}),I&&tg(tt,j),_t}function it(tt,st,nt,$){var _t=Ka(nt);if(typeof _t!="function")throw Error(p(150));if(nt=_t.call(nt),nt==null)throw Error(p(151));for(var At=_t=null,ft=st,j=st=0,at=null,yt=nt.next();ft!==null&&!yt.done;j++,yt=nt.next()){ft.index>j?(at=ft,ft=null):at=ft.sibling;var lt=ot(tt,ft,yt.value,$);if(lt===null){ft===null&&(ft=at);break}e&&ft&&lt.alternate===null&&i(tt,ft),st=c(lt,st,j),At===null?_t=lt:At.sibling=lt,At=lt,ft=at}if(yt.done)return s(tt,ft),I&&tg(tt,j),_t;if(ft===null){for(;!yt.done;j++,yt=nt.next())yt=_e(tt,yt.value,$),yt!==null&&(st=c(yt,st,j),At===null?_t=yt:At.sibling=yt,At=yt);return I&&tg(tt,j),_t}for(ft=o(tt,ft);!yt.done;j++,yt=nt.next())yt=ut(ft,tt,j,yt.value,$),yt!==null&&(e&&yt.alternate!==null&&ft.delete(yt.key===null?j:yt.key),st=c(yt,st,j),At===null?_t=yt:At.sibling=yt,At=yt);return e&&ft.forEach(function(vt){return i(tt,vt)}),I&&tg(tt,j),_t}function dt(tt,st,nt,$){if(typeof nt=="object"&&nt!==null&&nt.type===ya&&nt.key===null&&(nt=nt.props.children),typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case va:e:{for(var _t=nt.key,At=st;At!==null;){if(At.key===_t){if(_t=nt.type,_t===ya){if(At.tag===7){s(tt,At.sibling),st=a(At,nt.props.children),st.return=tt,tt=st;break e}}else if(At.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===Ha&&uh(_t)===At.type){s(tt,At.sibling),st=a(At,nt.props),st.ref=sh(tt,At,nt),st.return=tt,tt=st;break e}s(tt,At);break}else i(tt,At);At=At.sibling}nt.type===ya?(st=Ah(nt.props.children,tt.mode,$,nt.key),st.return=tt,tt=st):($=yh(nt.type,nt.key,nt.props,null,tt.mode,$),$.ref=sh(tt,st,nt),$.return=tt,tt=$)}return d(tt);case wa:e:{for(At=nt.key;st!==null;){if(st.key===At)if(st.tag===4&&st.stateNode.containerInfo===nt.containerInfo&&st.stateNode.implementation===nt.implementation){s(tt,st.sibling),st=a(st,nt.children||[]),st.return=tt,tt=st;break e}else{s(tt,st);break}else i(tt,st);st=st.sibling}st=zh(nt,tt.mode,$),st.return=tt,tt=st}return d(tt);case Ha:return At=nt._init,dt(tt,st,At(nt._payload),$)}if(eb(nt))return rt(tt,st,nt,$);if(Ka(nt))return it(tt,st,nt,$);th(tt,nt)}return typeof nt=="string"&&nt!==""||typeof nt=="number"?(nt=""+nt,st!==null&&st.tag===6?(s(tt,st.sibling),st=a(st,nt),st.return=tt,tt=st):(s(tt,st),st=xh(nt,tt.mode,$),st.return=tt,tt=st),d(tt)):s(tt,st)}return dt}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(e){if(e===Dh)throw Error(p(174));return e}function Ih(e,i){switch(G(Gh,i),G(Fh,e),G(Eh,Dh),e=i.nodeType,e){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:lb(null,"");break;default:e=e===8?i.parentNode:i,i=e.namespaceURI||null,e=e.tagName,i=lb(i,e)}E(Eh),G(Eh,i)}function Jh(){E(Eh),E(Fh),E(Gh)}function Kh(e){Hh(Gh.current);var i=Hh(Eh.current),s=lb(i,e.type);i!==s&&(G(Fh,e),G(Eh,s))}function Lh(e){Fh.current===e&&(E(Eh),E(Fh))}var M=Uf(0);function Mh(e){for(var i=e;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Nh=[];function Oh(){for(var e=0;e<Nh.length;e++)Nh[e]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N=null,O=null,P=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q(){throw Error(p(321))}function Wh(e,i){if(i===null)return!1;for(var s=0;s<i.length&&s<e.length;s++)if(!He(e[s],i[s]))return!1;return!0}function Xh(e,i,s,o,a,c){if(Rh=c,N=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Ph.current=e===null||e.memoizedState===null?Yh:Zh,e=s(o,a),Th){c=0;do{if(Th=!1,Uh=0,25<=c)throw Error(p(301));c+=1,P=O=null,i.updateQueue=null,Ph.current=$h,e=s(o,a)}while(Th)}if(Ph.current=ai,i=O!==null&&O.next!==null,Rh=0,P=O=N=null,Sh=!1,i)throw Error(p(300));return e}function bi(){var e=Uh!==0;return Uh=0,e}function ci(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P===null?N.memoizedState=P=e:P=P.next=e,P}function di(){if(O===null){var e=N.alternate;e=e!==null?e.memoizedState:null}else e=O.next;var i=P===null?N.memoizedState:P.next;if(i!==null)P=i,O=e;else{if(e===null)throw Error(p(310));O=e,e={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null},P===null?N.memoizedState=P=e:P=P.next=e}return P}function ei(e,i){return typeof i=="function"?i(e):i}function fi(e){var i=di(),s=i.queue;if(s===null)throw Error(p(311));s.lastRenderedReducer=e;var o=O,a=o.baseQueue,c=s.pending;if(c!==null){if(a!==null){var d=a.next;a.next=c.next,c.next=d}o.baseQueue=a=c,s.pending=null}if(a!==null){c=a.next,o=o.baseState;var h=d=null,g=null,b=c;do{var _=b.lane;if((Rh&_)===_)g!==null&&(g=g.next={lane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),o=b.hasEagerState?b.eagerState:e(o,b.action);else{var _e={lane:_,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null};g===null?(h=g=_e,d=o):g=g.next=_e,N.lanes|=_,hh|=_}b=b.next}while(b!==null&&b!==c);g===null?d=o:g.next=h,He(o,i.memoizedState)||(Ug=!0),i.memoizedState=o,i.baseState=d,i.baseQueue=g,s.lastRenderedState=o}if(e=s.interleaved,e!==null){a=e;do c=a.lane,N.lanes|=c,hh|=c,a=a.next;while(a!==e)}else a===null&&(s.lanes=0);return[i.memoizedState,s.dispatch]}function gi(e){var i=di(),s=i.queue;if(s===null)throw Error(p(311));s.lastRenderedReducer=e;var o=s.dispatch,a=s.pending,c=i.memoizedState;if(a!==null){s.pending=null;var d=a=a.next;do c=e(c,d.action),d=d.next;while(d!==a);He(c,i.memoizedState)||(Ug=!0),i.memoizedState=c,i.baseQueue===null&&(i.baseState=c),s.lastRenderedState=c}return[c,o]}function hi(){}function ii(e,i){var s=N,o=di(),a=i(),c=!He(o.memoizedState,a);if(c&&(o.memoizedState=a,Ug=!0),o=o.queue,ji(ki.bind(null,s,o,e),[e]),o.getSnapshot!==i||c||P!==null&&P.memoizedState.tag&1){if(s.flags|=2048,li(9,mi.bind(null,s,o,a,i),void 0,null),R===null)throw Error(p(349));Rh&30||ni(s,i,a)}return a}function ni(e,i,s){e.flags|=16384,e={getSnapshot:i,value:s},i=N.updateQueue,i===null?(i={lastEffect:null,stores:null},N.updateQueue=i,i.stores=[e]):(s=i.stores,s===null?i.stores=[e]:s.push(e))}function mi(e,i,s,o){i.value=s,i.getSnapshot=o,oi(i)&&pi(e)}function ki(e,i,s){return s(function(){oi(i)&&pi(e)})}function oi(e){var i=e.getSnapshot;e=e.value;try{var s=i();return!He(e,s)}catch{return!0}}function pi(e){var i=Zg(e,1);i!==null&&mh(i,e,1,-1)}function qi(e){var i=ci();return typeof e=="function"&&(e=e()),i.memoizedState=i.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:e},i.queue=e,e=e.dispatch=ri.bind(null,N,e),[i.memoizedState,e]}function li(e,i,s,o){return e={tag:e,create:i,destroy:s,deps:o,next:null},i=N.updateQueue,i===null?(i={lastEffect:null,stores:null},N.updateQueue=i,i.lastEffect=e.next=e):(s=i.lastEffect,s===null?i.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,i.lastEffect=e)),e}function si(){return di().memoizedState}function ti(e,i,s,o){var a=ci();N.flags|=e,a.memoizedState=li(1|i,s,void 0,o===void 0?null:o)}function ui(e,i,s,o){var a=di();o=o===void 0?null:o;var c=void 0;if(O!==null){var d=O.memoizedState;if(c=d.destroy,o!==null&&Wh(o,d.deps)){a.memoizedState=li(i,s,c,o);return}}N.flags|=e,a.memoizedState=li(1|i,s,c,o)}function vi(e,i){return ti(8390656,8,e,i)}function ji(e,i){return ui(2048,8,e,i)}function wi(e,i){return ui(4,2,e,i)}function xi(e,i){return ui(4,4,e,i)}function yi(e,i){if(typeof i=="function")return e=e(),i(e),function(){i(null)};if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function zi(e,i,s){return s=s!=null?s.concat([e]):null,ui(4,4,yi.bind(null,i,e),s)}function Ai(){}function Bi(e,i){var s=di();i=i===void 0?null:i;var o=s.memoizedState;return o!==null&&i!==null&&Wh(i,o[1])?o[0]:(s.memoizedState=[e,i],e)}function Ci(e,i){var s=di();i=i===void 0?null:i;var o=s.memoizedState;return o!==null&&i!==null&&Wh(i,o[1])?o[0]:(e=e(),s.memoizedState=[e,i],e)}function Di(e,i,s){return Rh&21?(He(s,i)||(s=yc(),N.lanes|=s,hh|=s,e.baseState=!0),i):(e.baseState&&(e.baseState=!1,Ug=!0),e.memoizedState=s)}function Ei(e,i){var s=C;C=s!==0&&4>s?s:4,e(!0);var o=Qh.transition;Qh.transition={};try{e(!1),i()}finally{C=s,Qh.transition=o}}function Fi(){return di().memoizedState}function Gi(e,i,s){var o=lh(e);if(s={lane:o,action:s,hasEagerState:!1,eagerState:null,next:null},Hi(e))Ii(i,s);else if(s=Yg(e,i,s,o),s!==null){var a=L();mh(s,e,o,a),Ji(s,i,o)}}function ri(e,i,s){var o=lh(e),a={lane:o,action:s,hasEagerState:!1,eagerState:null,next:null};if(Hi(e))Ii(i,a);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=i.lastRenderedReducer,c!==null))try{var d=i.lastRenderedState,h=c(d,s);if(a.hasEagerState=!0,a.eagerState=h,He(h,d)){var g=i.interleaved;g===null?(a.next=a,Xg(i)):(a.next=g.next,g.next=a),i.interleaved=a;return}}catch{}finally{}s=Yg(e,i,a,o),s!==null&&(a=L(),mh(s,e,o,a),Ji(s,i,o))}}function Hi(e){var i=e.alternate;return e===N||i!==null&&i===N}function Ii(e,i){Th=Sh=!0;var s=e.pending;s===null?i.next=i:(i.next=s.next,s.next=i),e.pending=i}function Ji(e,i,s){if(s&4194240){var o=i.lanes;o&=e.pendingLanes,s|=o,i.lanes=s,Cc(e,s)}}var ai={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(e,i){return ci().memoizedState=[e,i===void 0?null:i],e},useContext:Vg,useEffect:vi,useImperativeHandle:function(e,i,s){return s=s!=null?s.concat([e]):null,ti(4194308,4,yi.bind(null,i,e),s)},useLayoutEffect:function(e,i){return ti(4194308,4,e,i)},useInsertionEffect:function(e,i){return ti(4,2,e,i)},useMemo:function(e,i){var s=ci();return i=i===void 0?null:i,e=e(),s.memoizedState=[e,i],e},useReducer:function(e,i,s){var o=ci();return i=s!==void 0?s(i):i,o.memoizedState=o.baseState=i,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},o.queue=e,e=e.dispatch=Gi.bind(null,N,e),[o.memoizedState,e]},useRef:function(e){var i=ci();return e={current:e},i.memoizedState=e},useState:qi,useDebugValue:Ai,useDeferredValue:function(e){return ci().memoizedState=e},useTransition:function(){var e=qi(!1),i=e[0];return e=Ei.bind(null,e[1]),ci().memoizedState=e,[i,e]},useMutableSource:function(){},useSyncExternalStore:function(e,i,s){var o=N,a=ci();if(I){if(s===void 0)throw Error(p(407));s=s()}else{if(s=i(),R===null)throw Error(p(349));Rh&30||ni(o,i,s)}a.memoizedState=s;var c={value:s,getSnapshot:i};return a.queue=c,vi(ki.bind(null,o,c,e),[e]),o.flags|=2048,li(9,mi.bind(null,o,c,s,i),void 0,null),s},useId:function(){var e=ci(),i=R.identifierPrefix;if(I){var s=sg,o=rg;s=(o&~(1<<32-oc(o)-1)).toString(32)+s,i=":"+i+"R"+s,s=Uh++,0<s&&(i+="H"+s.toString(32)),i+=":"}else s=Vh++,i=":"+i+"r"+s.toString(32)+":";return e.memoizedState=i},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(e){var i=di();return Di(i,O.memoizedState,e)},useTransition:function(){var e=fi(ei)[0],i=di().memoizedState;return[e,i]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(e){var i=di();return O===null?i.memoizedState=e:Di(i,O.memoizedState,e)},useTransition:function(){var e=gi(ei)[0],i=di().memoizedState;return[e,i]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(e,i){try{var s="",o=i;do s+=Pa(o),o=o.return;while(o);var a=s}catch(c){a=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:i,stack:a,digest:null}}function Li(e,i,s){return{value:e,source:null,stack:s??null,digest:i??null}}function Mi(e,i){try{console.error(i.value)}catch(s){setTimeout(function(){throw s})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(e,i,s){s=ch(-1,s),s.tag=3,s.payload={element:null};var o=i.value;return s.callback=function(){Pi||(Pi=!0,Qi=o),Mi(e,i)},s}function Ri(e,i,s){s=ch(-1,s),s.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var a=i.value;s.payload=function(){return o(a)},s.callback=function(){Mi(e,i)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(s.callback=function(){Mi(e,i),typeof o!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var d=i.stack;this.componentDidCatch(i.value,{componentStack:d!==null?d:""})}),s}function Ti(e,i,s){var o=e.pingCache;if(o===null){o=e.pingCache=new Ni;var a=new Set;o.set(i,a)}else a=o.get(i),a===void 0&&(a=new Set,o.set(i,a));a.has(s)||(a.add(s),e=Ui.bind(null,e,i,s),i.then(e,e))}function Vi(e){do{var i;if((i=e.tag===13)&&(i=e.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return e;e=e.return}while(e!==null);return null}function Wi(e,i,s,o,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===i?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(i=ch(-1,1),i.tag=2,dh(s,i,1))),s.lanes|=1),e)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(e,i,s,o){i.child=e===null?Ch(i,null,s,o):Bh(i,e.child,s,o)}function Zi(e,i,s,o,a){s=s.render;var c=i.ref;return Tg(i,a),o=Xh(e,i,s,o,c,a),s=bi(),e!==null&&!Ug?(i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a,$i(e,i,a)):(I&&s&&vg(i),i.flags|=1,Yi(e,i,o,a),i.child)}function aj(e,i,s,o,a){if(e===null){var c=s.type;return typeof c=="function"&&!bj(c)&&c.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(i.tag=15,i.type=c,cj(e,i,c,o,a)):(e=yh(s.type,null,o,i,i.mode,a),e.ref=i.ref,e.return=i,i.child=e)}if(c=e.child,!(e.lanes&a)){var d=c.memoizedProps;if(s=s.compare,s=s!==null?s:Ie,s(d,o)&&e.ref===i.ref)return $i(e,i,a)}return i.flags|=1,e=wh(c,o),e.ref=i.ref,e.return=i,i.child=e}function cj(e,i,s,o,a){if(e!==null){var c=e.memoizedProps;if(Ie(c,o)&&e.ref===i.ref)if(Ug=!1,i.pendingProps=o=c,(e.lanes&a)!==0)e.flags&131072&&(Ug=!0);else return i.lanes=e.lanes,$i(e,i,a)}return dj(e,i,s,o,a)}function ej(e,i,s){var o=i.pendingProps,a=o.children,c=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(fj,gj),gj|=s;else{if(!(s&1073741824))return e=c!==null?c.baseLanes|s:s,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:e,cachePool:null,transitions:null},i.updateQueue=null,G(fj,gj),gj|=e,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=c!==null?c.baseLanes:s,G(fj,gj),gj|=o}else c!==null?(o=c.baseLanes|s,i.memoizedState=null):o=s,G(fj,gj),gj|=o;return Yi(e,i,a,s),i.child}function hj(e,i){var s=i.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(i.flags|=512,i.flags|=2097152)}function dj(e,i,s,o,a){var c=Zf(s)?Xf:H.current;return c=Yf(i,c),Tg(i,a),s=Xh(e,i,s,o,c,a),o=bi(),e!==null&&!Ug?(i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a,$i(e,i,a)):(I&&o&&vg(i),i.flags|=1,Yi(e,i,s,a),i.child)}function ij(e,i,s,o,a){if(Zf(s)){var c=!0;cg(i)}else c=!1;if(Tg(i,a),i.stateNode===null)jj(e,i),ph(i,s,o),rh(i,s,o,a),o=!0;else if(e===null){var d=i.stateNode,h=i.memoizedProps;d.props=h;var g=d.context,b=s.contextType;typeof b=="object"&&b!==null?b=Vg(b):(b=Zf(s)?Xf:H.current,b=Yf(i,b));var _=s.getDerivedStateFromProps,_e=typeof _=="function"||typeof d.getSnapshotBeforeUpdate=="function";_e||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(h!==o||g!==b)&&qh(i,d,o,b),$g=!1;var ot=i.memoizedState;d.state=ot,gh(i,o,d,a),g=i.memoizedState,h!==o||ot!==g||Wf.current||$g?(typeof _=="function"&&(kh(i,s,_,o),g=i.memoizedState),(h=$g||oh(i,s,h,o,ot,g,b))?(_e||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=g),d.props=o,d.state=g,d.context=b,o=h):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,bh(e,i),h=i.memoizedProps,b=i.type===i.elementType?h:Lg(i.type,h),d.props=b,_e=i.pendingProps,ot=d.context,g=s.contextType,typeof g=="object"&&g!==null?g=Vg(g):(g=Zf(s)?Xf:H.current,g=Yf(i,g));var ut=s.getDerivedStateFromProps;(_=typeof ut=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(h!==_e||ot!==g)&&qh(i,d,o,g),$g=!1,ot=i.memoizedState,d.state=ot,gh(i,o,d,a);var rt=i.memoizedState;h!==_e||ot!==rt||Wf.current||$g?(typeof ut=="function"&&(kh(i,s,ut,o),rt=i.memoizedState),(b=$g||oh(i,s,b,o,ot,rt,g)||!1)?(_||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,rt,g),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,rt,g)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||h===e.memoizedProps&&ot===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&ot===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=rt),d.props=o,d.state=rt,d.context=g,o=b):(typeof d.componentDidUpdate!="function"||h===e.memoizedProps&&ot===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&ot===e.memoizedState||(i.flags|=1024),o=!1)}return kj(e,i,s,o,c,a)}function kj(e,i,s,o,a,c){hj(e,i);var d=(i.flags&128)!==0;if(!o&&!d)return a&&dg(i,s,!1),$i(e,i,c);o=i.stateNode,Xi.current=i;var h=d&&typeof s.getDerivedStateFromError!="function"?null:o.render();return i.flags|=1,e!==null&&d?(i.child=Bh(i,e.child,null,c),i.child=Bh(i,null,h,c)):Yi(e,i,h,c),i.memoizedState=o.state,a&&dg(i,s,!0),i.child}function lj(e){var i=e.stateNode;i.pendingContext?ag(e,i.pendingContext,i.pendingContext!==i.context):i.context&&ag(e,i.context,!1),Ih(e,i.containerInfo)}function mj(e,i,s,o,a){return Ig(),Jg(a),i.flags|=256,Yi(e,i,s,o),i.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(e){return{baseLanes:e,cachePool:null,transitions:null}}function pj(e,i,s){var o=i.pendingProps,a=M.current,c=!1,d=(i.flags&128)!==0,h;if((h=d)||(h=e!==null&&e.memoizedState===null?!1:(a&2)!==0),h?(c=!0,i.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),G(M,a&1),e===null)return Eg(i),e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(i.mode&1?e.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(d=o.children,e=o.fallback,c?(o=i.mode,c=i.child,d={mode:"hidden",children:d},!(o&1)&&c!==null?(c.childLanes=0,c.pendingProps=d):c=qj(d,o,0,null),e=Ah(e,o,s,null),c.return=i,e.return=i,c.sibling=e,i.child=c,i.child.memoizedState=oj(s),i.memoizedState=nj,e):rj(i,d));if(a=e.memoizedState,a!==null&&(h=a.dehydrated,h!==null))return sj(e,i,d,o,h,a,s);if(c){c=o.fallback,d=i.mode,a=e.child,h=a.sibling;var g={mode:"hidden",children:o.children};return!(d&1)&&i.child!==a?(o=i.child,o.childLanes=0,o.pendingProps=g,i.deletions=null):(o=wh(a,g),o.subtreeFlags=a.subtreeFlags&14680064),h!==null?c=wh(h,c):(c=Ah(c,d,s,null),c.flags|=2),c.return=i,o.return=i,o.sibling=c,i.child=o,o=c,c=i.child,d=e.child.memoizedState,d=d===null?oj(s):{baseLanes:d.baseLanes|s,cachePool:null,transitions:d.transitions},c.memoizedState=d,c.childLanes=e.childLanes&~s,i.memoizedState=nj,o}return c=e.child,e=c.sibling,o=wh(c,{mode:"visible",children:o.children}),!(i.mode&1)&&(o.lanes=s),o.return=i,o.sibling=null,e!==null&&(s=i.deletions,s===null?(i.deletions=[e],i.flags|=16):s.push(e)),i.child=o,i.memoizedState=null,o}function rj(e,i){return i=qj({mode:"visible",children:i},e.mode,0,null),i.return=e,e.child=i}function tj(e,i,s,o){return o!==null&&Jg(o),Bh(i,e.child,null,s),e=rj(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function sj(e,i,s,o,a,c,d){if(s)return i.flags&256?(i.flags&=-257,o=Li(Error(p(422))),tj(e,i,d,o)):i.memoizedState!==null?(i.child=e.child,i.flags|=128,null):(c=o.fallback,a=i.mode,o=qj({mode:"visible",children:o.children},a,0,null),c=Ah(c,a,d,null),c.flags|=2,o.return=i,c.return=i,o.sibling=c,i.child=o,i.mode&1&&Bh(i,e.child,null,d),i.child.memoizedState=oj(d),i.memoizedState=nj,c);if(!(i.mode&1))return tj(e,i,d,null);if(a.data==="$!"){if(o=a.nextSibling&&a.nextSibling.dataset,o)var h=o.dgst;return o=h,c=Error(p(419)),o=Li(c,o,void 0),tj(e,i,d,o)}if(h=(d&e.childLanes)!==0,Ug||h){if(o=R,o!==null){switch(d&-d){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(o.suspendedLanes|d)?0:a,a!==0&&a!==c.retryLane&&(c.retryLane=a,Zg(e,a),mh(o,e,a,-1))}return uj(),o=Li(Error(p(421))),tj(e,i,d,o)}return a.data==="$?"?(i.flags|=128,i.child=e.child,i=vj.bind(null,e),a._reactRetry=i,null):(e=c.treeContext,yg=Lf(a.nextSibling),xg=i,I=!0,zg=null,e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=e.id,sg=e.overflow,qg=i),i=rj(i,o.children),i.flags|=4096,i)}function wj(e,i,s){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),Sg(e.return,i,s)}function xj(e,i,s,o,a){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:a}:(c.isBackwards=i,c.rendering=null,c.renderingStartTime=0,c.last=o,c.tail=s,c.tailMode=a)}function yj(e,i,s){var o=i.pendingProps,a=o.revealOrder,c=o.tail;if(Yi(e,i,o.children,s),o=M.current,o&2)o=o&1|2,i.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wj(e,s,i);else if(e.tag===19)wj(e,s,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break e;for(;e.sibling===null;){if(e.return===null||e.return===i)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(G(M,o),!(i.mode&1))i.memoizedState=null;else switch(a){case"forwards":for(s=i.child,a=null;s!==null;)e=s.alternate,e!==null&&Mh(e)===null&&(a=s),s=s.sibling;s=a,s===null?(a=i.child,i.child=null):(a=s.sibling,s.sibling=null),xj(i,!1,a,s,c);break;case"backwards":for(s=null,a=i.child,i.child=null;a!==null;){if(e=a.alternate,e!==null&&Mh(e)===null){i.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}xj(i,!0,s,null,c);break;case"together":xj(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function jj(e,i){!(i.mode&1)&&e!==null&&(e.alternate=null,i.alternate=null,i.flags|=2)}function $i(e,i,s){if(e!==null&&(i.dependencies=e.dependencies),hh|=i.lanes,!(s&i.childLanes))return null;if(e!==null&&i.child!==e.child)throw Error(p(153));if(i.child!==null){for(e=i.child,s=wh(e,e.pendingProps),i.child=s,s.return=i;e.sibling!==null;)e=e.sibling,s=s.sibling=wh(e,e.pendingProps),s.return=i;s.sibling=null}return i.child}function zj(e,i,s){switch(i.tag){case 3:lj(i),Ig();break;case 5:Kh(i);break;case 1:Zf(i.type)&&cg(i);break;case 4:Ih(i,i.stateNode.containerInfo);break;case 10:var o=i.type._context,a=i.memoizedProps.value;G(Mg,o._currentValue),o._currentValue=a;break;case 13:if(o=i.memoizedState,o!==null)return o.dehydrated!==null?(G(M,M.current&1),i.flags|=128,null):s&i.child.childLanes?pj(e,i,s):(G(M,M.current&1),e=$i(e,i,s),e!==null?e.sibling:null);G(M,M.current&1);break;case 19:if(o=(s&i.childLanes)!==0,e.flags&128){if(o)return yj(e,i,s);i.flags|=128}if(a=i.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),G(M,M.current),o)break;return null;case 22:case 23:return i.lanes=0,ej(e,i,s)}return $i(e,i,s)}var Aj,Bj,Cj,Dj;Aj=function(e,i){for(var s=i.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Bj=function(){};Cj=function(e,i,s,o){var a=e.memoizedProps;if(a!==o){e=i.stateNode,Hh(Eh.current);var c=null;switch(s){case"input":a=Ya(e,a),o=Ya(e,o),c=[];break;case"select":a=A({},a,{value:void 0}),o=A({},o,{value:void 0}),c=[];break;case"textarea":a=gb(e,a),o=gb(e,o),c=[];break;default:typeof a.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Bf)}ub(s,o);var d;s=null;for(b in a)if(!o.hasOwnProperty(b)&&a.hasOwnProperty(b)&&a[b]!=null)if(b==="style"){var h=a[b];for(d in h)h.hasOwnProperty(d)&&(s||(s={}),s[d]="")}else b!=="dangerouslySetInnerHTML"&&b!=="children"&&b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(ea.hasOwnProperty(b)?c||(c=[]):(c=c||[]).push(b,null));for(b in o){var g=o[b];if(h=a!=null?a[b]:void 0,o.hasOwnProperty(b)&&g!==h&&(g!=null||h!=null))if(b==="style")if(h){for(d in h)!h.hasOwnProperty(d)||g&&g.hasOwnProperty(d)||(s||(s={}),s[d]="");for(d in g)g.hasOwnProperty(d)&&h[d]!==g[d]&&(s||(s={}),s[d]=g[d])}else s||(c||(c=[]),c.push(b,s)),s=g;else b==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,h=h?h.__html:void 0,g!=null&&h!==g&&(c=c||[]).push(b,g)):b==="children"?typeof g!="string"&&typeof g!="number"||(c=c||[]).push(b,""+g):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&(ea.hasOwnProperty(b)?(g!=null&&b==="onScroll"&&D("scroll",e),c||h===g||(c=[])):(c=c||[]).push(b,g))}s&&(c=c||[]).push("style",s);var b=c;(i.updateQueue=b)&&(i.flags|=4)}};Dj=function(e,i,s,o){s!==o&&(i.flags|=4)};function Ej(e,i){if(!I)switch(e.tailMode){case"hidden":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function S(e){var i=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(i)for(var a=e.child;a!==null;)s|=a.lanes|a.childLanes,o|=a.subtreeFlags&14680064,o|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)s|=a.lanes|a.childLanes,o|=a.subtreeFlags,o|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=o,e.childLanes=s,i}function Fj(e,i,s){var o=i.pendingProps;switch(wg(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(i),null;case 1:return Zf(i.type)&&$f(),S(i),null;case 3:return o=i.stateNode,Jh(),E(Wf),E(H),Oh(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Gg(i)?i.flags|=4:e===null||e.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(e,i),S(i),null;case 5:Lh(i);var a=Hh(Gh.current);if(s=i.type,e!==null&&i.stateNode!=null)Cj(e,i,s,o,a),e.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!o){if(i.stateNode===null)throw Error(p(166));return S(i),null}if(e=Hh(Eh.current),Gg(i)){o=i.stateNode,s=i.type;var c=i.memoizedProps;switch(o[Of]=i,o[Pf]=c,e=(i.mode&1)!==0,s){case"dialog":D("cancel",o),D("close",o);break;case"iframe":case"object":case"embed":D("load",o);break;case"video":case"audio":for(a=0;a<lf.length;a++)D(lf[a],o);break;case"source":D("error",o);break;case"img":case"image":case"link":D("error",o),D("load",o);break;case"details":D("toggle",o);break;case"input":Za(o,c),D("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!c.multiple},D("invalid",o);break;case"textarea":hb(o,c),D("invalid",o)}ub(s,c),a=null;for(var d in c)if(c.hasOwnProperty(d)){var h=c[d];d==="children"?typeof h=="string"?o.textContent!==h&&(c.suppressHydrationWarning!==!0&&Af(o.textContent,h,e),a=["children",h]):typeof h=="number"&&o.textContent!==""+h&&(c.suppressHydrationWarning!==!0&&Af(o.textContent,h,e),a=["children",""+h]):ea.hasOwnProperty(d)&&h!=null&&d==="onScroll"&&D("scroll",o)}switch(s){case"input":Va(o),db(o,c,!0);break;case"textarea":Va(o),jb(o);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(o.onclick=Bf)}o=a,i.updateQueue=o,o!==null&&(i.flags|=4)}else{d=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kb(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=d.createElement(s,{is:o.is}):(e=d.createElement(s),s==="select"&&(d=e,o.multiple?d.multiple=!0:o.size&&(d.size=o.size))):e=d.createElementNS(e,s),e[Of]=i,e[Pf]=o,Aj(e,i,!1,!1),i.stateNode=e;e:{switch(d=vb(s,o),s){case"dialog":D("cancel",e),D("close",e),a=o;break;case"iframe":case"object":case"embed":D("load",e),a=o;break;case"video":case"audio":for(a=0;a<lf.length;a++)D(lf[a],e);a=o;break;case"source":D("error",e),a=o;break;case"img":case"image":case"link":D("error",e),D("load",e),a=o;break;case"details":D("toggle",e),a=o;break;case"input":Za(e,o),a=Ya(e,o),D("invalid",e);break;case"option":a=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},a=A({},o,{value:void 0}),D("invalid",e);break;case"textarea":hb(e,o),a=gb(e,o),D("invalid",e);break;default:a=o}ub(s,a),h=a;for(c in h)if(h.hasOwnProperty(c)){var g=h[c];c==="style"?sb(e,g):c==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&nb(e,g)):c==="children"?typeof g=="string"?(s!=="textarea"||g!=="")&&ob(e,g):typeof g=="number"&&ob(e,""+g):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ea.hasOwnProperty(c)?g!=null&&c==="onScroll"&&D("scroll",e):g!=null&&ta(e,c,g,d))}switch(s){case"input":Va(e),db(e,o,!1);break;case"textarea":Va(e),jb(e);break;case"option":o.value!=null&&e.setAttribute("value",""+Sa(o.value));break;case"select":e.multiple=!!o.multiple,c=o.value,c!=null?fb(e,!!o.multiple,c,!1):o.defaultValue!=null&&fb(e,!!o.multiple,o.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Bf)}switch(s){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return S(i),null;case 6:if(e&&i.stateNode!=null)Dj(e,i,e.memoizedProps,o);else{if(typeof o!="string"&&i.stateNode===null)throw Error(p(166));if(s=Hh(Gh.current),Hh(Eh.current),Gg(i)){if(o=i.stateNode,s=i.memoizedProps,o[Of]=i,(c=o.nodeValue!==s)&&(e=xg,e!==null))switch(e.tag){case 3:Af(o.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Af(o.nodeValue,s,(e.mode&1)!==0)}c&&(i.flags|=4)}else o=(s.nodeType===9?s:s.ownerDocument).createTextNode(o),o[Of]=i,i.stateNode=o}return S(i),null;case 13:if(E(M),o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(I&&yg!==null&&i.mode&1&&!(i.flags&128))Hg(),Ig(),i.flags|=98560,c=!1;else if(c=Gg(i),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(p(318));if(c=i.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(p(317));c[Of]=i}else Ig(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;S(i),c=!1}else zg!==null&&(Gj(zg),zg=null),c=!0;if(!c)return i.flags&65536?i:null}return i.flags&128?(i.lanes=s,i):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(i.child.flags|=8192,i.mode&1&&(e===null||M.current&1?T===0&&(T=3):uj())),i.updateQueue!==null&&(i.flags|=4),S(i),null);case 4:return Jh(),Bj(e,i),e===null&&sf(i.stateNode.containerInfo),S(i),null;case 10:return Rg(i.type._context),S(i),null;case 17:return Zf(i.type)&&$f(),S(i),null;case 19:if(E(M),c=i.memoizedState,c===null)return S(i),null;if(o=(i.flags&128)!==0,d=c.rendering,d===null)if(o)Ej(c,!1);else{if(T!==0||e!==null&&e.flags&128)for(e=i.child;e!==null;){if(d=Mh(e),d!==null){for(i.flags|=128,Ej(c,!1),o=d.updateQueue,o!==null&&(i.updateQueue=o,i.flags|=4),i.subtreeFlags=0,o=s,s=i.child;s!==null;)c=s,e=o,c.flags&=14680066,d=c.alternate,d===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=d.childLanes,c.lanes=d.lanes,c.child=d.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=d.memoizedProps,c.memoizedState=d.memoizedState,c.updateQueue=d.updateQueue,c.type=d.type,e=d.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return G(M,M.current&1|2),i.child}e=e.sibling}c.tail!==null&&B()>Hj&&(i.flags|=128,o=!0,Ej(c,!1),i.lanes=4194304)}else{if(!o)if(e=Mh(d),e!==null){if(i.flags|=128,o=!0,s=e.updateQueue,s!==null&&(i.updateQueue=s,i.flags|=4),Ej(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!I)return S(i),null}else 2*B()-c.renderingStartTime>Hj&&s!==1073741824&&(i.flags|=128,o=!0,Ej(c,!1),i.lanes=4194304);c.isBackwards?(d.sibling=i.child,i.child=d):(s=c.last,s!==null?s.sibling=d:i.child=d,c.last=d)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=B(),i.sibling=null,s=M.current,G(M,o?s&1|2:s&1),i):(S(i),null);case 22:case 23:return Ij(),o=i.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(i.flags|=8192),o&&i.mode&1?gj&1073741824&&(S(i),i.subtreeFlags&6&&(i.flags|=8192)):S(i),null;case 24:return null;case 25:return null}throw Error(p(156,i.tag))}function Jj(e,i){switch(wg(i),i.tag){case 1:return Zf(i.type)&&$f(),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Jh(),E(Wf),E(H),Oh(),e=i.flags,e&65536&&!(e&128)?(i.flags=e&-65537|128,i):null;case 5:return Lh(i),null;case 13:if(E(M),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(p(340));Ig()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return E(M),null;case 4:return Jh(),null;case 10:return Rg(i.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Mj(e,i){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(o){W(e,i,o)}else s.current=null}function Nj(e,i,s){try{s()}catch(o){W(e,i,o)}}var Oj=!1;function Pj(e,i){if(Cf=dd,e=Me(),Ne(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var a=o.anchorOffset,c=o.focusNode;o=o.focusOffset;try{s.nodeType,c.nodeType}catch{s=null;break e}var d=0,h=-1,g=-1,b=0,_=0,_e=e,ot=null;t:for(;;){for(var ut;_e!==s||a!==0&&_e.nodeType!==3||(h=d+a),_e!==c||o!==0&&_e.nodeType!==3||(g=d+o),_e.nodeType===3&&(d+=_e.nodeValue.length),(ut=_e.firstChild)!==null;)ot=_e,_e=ut;for(;;){if(_e===e)break t;if(ot===s&&++b===a&&(h=d),ot===c&&++_===o&&(g=d),(ut=_e.nextSibling)!==null)break;_e=ot,ot=_e.parentNode}_e=ut}s=h===-1||g===-1?null:{start:h,end:g}}else s=null}s=s||{start:0,end:0}}else s=null;for(Df={focusedElem:e,selectionRange:s},dd=!1,V=i;V!==null;)if(i=V,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,V=e;else for(;V!==null;){i=V;try{var rt=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(rt!==null){var it=rt.memoizedProps,dt=rt.memoizedState,tt=i.stateNode,st=tt.getSnapshotBeforeUpdate(i.elementType===i.type?it:Lg(i.type,it),dt);tt.__reactInternalSnapshotBeforeUpdate=st}break;case 3:var nt=i.stateNode.containerInfo;nt.nodeType===1?nt.textContent="":nt.nodeType===9&&nt.documentElement&&nt.removeChild(nt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch($){W(i,i.return,$)}if(e=i.sibling,e!==null){e.return=i.return,V=e;break}V=i.return}return rt=Oj,Oj=!1,rt}function Qj(e,i,s){var o=i.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var a=o=o.next;do{if((a.tag&e)===e){var c=a.destroy;a.destroy=void 0,c!==void 0&&Nj(i,s,c)}a=a.next}while(a!==o)}}function Rj(e,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&e)===e){var o=s.create;s.destroy=o()}s=s.next}while(s!==i)}}function Sj(e){var i=e.ref;if(i!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof i=="function"?i(e):i.current=e}}function Tj(e){var i=e.alternate;i!==null&&(e.alternate=null,Tj(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&(delete i[Of],delete i[Pf],delete i[of],delete i[Qf],delete i[Rf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Uj(e){return e.tag===5||e.tag===3||e.tag===4}function Vj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Uj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wj(e,i,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?s.nodeType===8?s.parentNode.insertBefore(e,i):s.insertBefore(e,i):(s.nodeType===8?(i=s.parentNode,i.insertBefore(e,s)):(i=s,i.appendChild(e)),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Bf));else if(o!==4&&(e=e.child,e!==null))for(Wj(e,i,s),e=e.sibling;e!==null;)Wj(e,i,s),e=e.sibling}function Xj(e,i,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?s.insertBefore(e,i):s.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Xj(e,i,s),e=e.sibling;e!==null;)Xj(e,i,s),e=e.sibling}var X=null,Yj=!1;function Zj(e,i,s){for(s=s.child;s!==null;)ak(e,i,s),s=s.sibling}function ak(e,i,s){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,s)}catch{}switch(s.tag){case 5:U||Mj(s,i);case 6:var o=X,a=Yj;X=null,Zj(e,i,s),X=o,Yj=a,X!==null&&(Yj?(e=X,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):X.removeChild(s.stateNode));break;case 18:X!==null&&(Yj?(e=X,s=s.stateNode,e.nodeType===8?Kf(e.parentNode,s):e.nodeType===1&&Kf(e,s),bd(e)):Kf(X,s.stateNode));break;case 4:o=X,a=Yj,X=s.stateNode.containerInfo,Yj=!0,Zj(e,i,s),X=o,Yj=a;break;case 0:case 11:case 14:case 15:if(!U&&(o=s.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){a=o=o.next;do{var c=a,d=c.destroy;c=c.tag,d!==void 0&&(c&2||c&4)&&Nj(s,i,d),a=a.next}while(a!==o)}Zj(e,i,s);break;case 1:if(!U&&(Mj(s,i),o=s.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=s.memoizedProps,o.state=s.memoizedState,o.componentWillUnmount()}catch(h){W(s,i,h)}Zj(e,i,s);break;case 21:Zj(e,i,s);break;case 22:s.mode&1?(U=(o=U)||s.memoizedState!==null,Zj(e,i,s),U=o):Zj(e,i,s);break;default:Zj(e,i,s)}}function bk(e){var i=e.updateQueue;if(i!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Lj),i.forEach(function(o){var a=ck.bind(null,e,o);s.has(o)||(s.add(o),o.then(a,a))})}}function dk(e,i){var s=i.deletions;if(s!==null)for(var o=0;o<s.length;o++){var a=s[o];try{var c=e,d=i,h=d;e:for(;h!==null;){switch(h.tag){case 5:X=h.stateNode,Yj=!1;break e;case 3:X=h.stateNode.containerInfo,Yj=!0;break e;case 4:X=h.stateNode.containerInfo,Yj=!0;break e}h=h.return}if(X===null)throw Error(p(160));ak(c,d,a),X=null,Yj=!1;var g=a.alternate;g!==null&&(g.return=null),a.return=null}catch(b){W(a,i,b)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)ek(i,e),i=i.sibling}function ek(e,i){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dk(i,e),fk(e),o&4){try{Qj(3,e,e.return),Rj(3,e)}catch(it){W(e,e.return,it)}try{Qj(5,e,e.return)}catch(it){W(e,e.return,it)}}break;case 1:dk(i,e),fk(e),o&512&&s!==null&&Mj(s,s.return);break;case 5:if(dk(i,e),fk(e),o&512&&s!==null&&Mj(s,s.return),e.flags&32){var a=e.stateNode;try{ob(a,"")}catch(it){W(e,e.return,it)}}if(o&4&&(a=e.stateNode,a!=null)){var c=e.memoizedProps,d=s!==null?s.memoizedProps:c,h=e.type,g=e.updateQueue;if(e.updateQueue=null,g!==null)try{h==="input"&&c.type==="radio"&&c.name!=null&&ab(a,c),vb(h,d);var b=vb(h,c);for(d=0;d<g.length;d+=2){var _=g[d],_e=g[d+1];_==="style"?sb(a,_e):_==="dangerouslySetInnerHTML"?nb(a,_e):_==="children"?ob(a,_e):ta(a,_,_e,b)}switch(h){case"input":bb(a,c);break;case"textarea":ib(a,c);break;case"select":var ot=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!c.multiple;var ut=c.value;ut!=null?fb(a,!!c.multiple,ut,!1):ot!==!!c.multiple&&(c.defaultValue!=null?fb(a,!!c.multiple,c.defaultValue,!0):fb(a,!!c.multiple,c.multiple?[]:"",!1))}a[Pf]=c}catch(it){W(e,e.return,it)}}break;case 6:if(dk(i,e),fk(e),o&4){if(e.stateNode===null)throw Error(p(162));a=e.stateNode,c=e.memoizedProps;try{a.nodeValue=c}catch(it){W(e,e.return,it)}}break;case 3:if(dk(i,e),fk(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{bd(i.containerInfo)}catch(it){W(e,e.return,it)}break;case 4:dk(i,e),fk(e);break;case 13:dk(i,e),fk(e),a=e.child,a.flags&8192&&(c=a.memoizedState!==null,a.stateNode.isHidden=c,!c||a.alternate!==null&&a.alternate.memoizedState!==null||(gk=B())),o&4&&bk(e);break;case 22:if(_=s!==null&&s.memoizedState!==null,e.mode&1?(U=(b=U)||_,dk(i,e),U=b):dk(i,e),fk(e),o&8192){if(b=e.memoizedState!==null,(e.stateNode.isHidden=b)&&!_&&e.mode&1)for(V=e,_=e.child;_!==null;){for(_e=V=_;V!==null;){switch(ot=V,ut=ot.child,ot.tag){case 0:case 11:case 14:case 15:Qj(4,ot,ot.return);break;case 1:Mj(ot,ot.return);var rt=ot.stateNode;if(typeof rt.componentWillUnmount=="function"){o=ot,s=ot.return;try{i=o,rt.props=i.memoizedProps,rt.state=i.memoizedState,rt.componentWillUnmount()}catch(it){W(o,s,it)}}break;case 5:Mj(ot,ot.return);break;case 22:if(ot.memoizedState!==null){hk(_e);continue}}ut!==null?(ut.return=ot,V=ut):hk(_e)}_=_.sibling}e:for(_=null,_e=e;;){if(_e.tag===5){if(_===null){_=_e;try{a=_e.stateNode,b?(c=a.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(h=_e.stateNode,g=_e.memoizedProps.style,d=g!=null&&g.hasOwnProperty("display")?g.display:null,h.style.display=rb("display",d))}catch(it){W(e,e.return,it)}}}else if(_e.tag===6){if(_===null)try{_e.stateNode.nodeValue=b?"":_e.memoizedProps}catch(it){W(e,e.return,it)}}else if((_e.tag!==22&&_e.tag!==23||_e.memoizedState===null||_e===e)&&_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===e)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===e)break e;_===_e&&(_=null),_e=_e.return}_===_e&&(_=null),_e.sibling.return=_e.return,_e=_e.sibling}}break;case 19:dk(i,e),fk(e),o&4&&bk(e);break;case 21:break;default:dk(i,e),fk(e)}}function fk(e){var i=e.flags;if(i&2){try{e:{for(var s=e.return;s!==null;){if(Uj(s)){var o=s;break e}s=s.return}throw Error(p(160))}switch(o.tag){case 5:var a=o.stateNode;o.flags&32&&(ob(a,""),o.flags&=-33);var c=Vj(e);Xj(e,c,a);break;case 3:case 4:var d=o.stateNode.containerInfo,h=Vj(e);Wj(e,h,d);break;default:throw Error(p(161))}}catch(g){W(e,e.return,g)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function ik(e,i,s){V=e,jk(e)}function jk(e,i,s){for(var o=(e.mode&1)!==0;V!==null;){var a=V,c=a.child;if(a.tag===22&&o){var d=a.memoizedState!==null||Kj;if(!d){var h=a.alternate,g=h!==null&&h.memoizedState!==null||U;h=Kj;var b=U;if(Kj=d,(U=g)&&!b)for(V=a;V!==null;)d=V,g=d.child,d.tag===22&&d.memoizedState!==null?kk(a):g!==null?(g.return=d,V=g):kk(a);for(;c!==null;)V=c,jk(c),c=c.sibling;V=a,Kj=h,U=b}lk(e)}else a.subtreeFlags&8772&&c!==null?(c.return=a,V=c):lk(e)}}function lk(e){for(;V!==null;){var i=V;if(i.flags&8772){var s=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:U||Rj(5,i);break;case 1:var o=i.stateNode;if(i.flags&4&&!U)if(s===null)o.componentDidMount();else{var a=i.elementType===i.type?s.memoizedProps:Lg(i.type,s.memoizedProps);o.componentDidUpdate(a,s.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var c=i.updateQueue;c!==null&&ih(i,c,o);break;case 3:var d=i.updateQueue;if(d!==null){if(s=null,i.child!==null)switch(i.child.tag){case 5:s=i.child.stateNode;break;case 1:s=i.child.stateNode}ih(i,d,s)}break;case 5:var h=i.stateNode;if(s===null&&i.flags&4){s=h;var g=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":g.autoFocus&&s.focus();break;case"img":g.src&&(s.src=g.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var b=i.alternate;if(b!==null){var _=b.memoizedState;if(_!==null){var _e=_.dehydrated;_e!==null&&bd(_e)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U||i.flags&512&&Sj(i)}catch(ot){W(i,i.return,ot)}}if(i===e){V=null;break}if(s=i.sibling,s!==null){s.return=i.return,V=s;break}V=i.return}}function hk(e){for(;V!==null;){var i=V;if(i===e){V=null;break}var s=i.sibling;if(s!==null){s.return=i.return,V=s;break}V=i.return}}function kk(e){for(;V!==null;){var i=V;try{switch(i.tag){case 0:case 11:case 15:var s=i.return;try{Rj(4,i)}catch(g){W(i,s,g)}break;case 1:var o=i.stateNode;if(typeof o.componentDidMount=="function"){var a=i.return;try{o.componentDidMount()}catch(g){W(i,a,g)}}var c=i.return;try{Sj(i)}catch(g){W(i,c,g)}break;case 5:var d=i.return;try{Sj(i)}catch(g){W(i,d,g)}}}catch(g){W(i,i.return,g)}if(i===e){V=null;break}var h=i.sibling;if(h!==null){h.return=i.return,V=h;break}V=i.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R=null,Y=null,Z=0,gj=0,fj=Uf(0),T=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L(){return K&6?B():Bk!==-1?Bk:Bk=B()}function lh(e){return e.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(e=C,e!==0||(e=window.event,e=e===void 0?16:jd(e.type)),e):1}function mh(e,i,s,o){if(50<zk)throw zk=0,Ak=null,Error(p(185));Ac(e,s,o),(!(K&2)||e!==R)&&(e===R&&(!(K&2)&&(rk|=s),T===4&&Dk(e,Z)),Ek(e,o),s===1&&K===0&&!(i.mode&1)&&(Hj=B()+500,fg&&jg()))}function Ek(e,i){var s=e.callbackNode;wc(e,i);var o=uc(e,e===R?Z:0);if(o===0)s!==null&&bc(s),e.callbackNode=null,e.callbackPriority=0;else if(i=o&-o,e.callbackPriority!==i){if(s!=null&&bc(s),i===1)e.tag===0?ig(Fk.bind(null,e)):hg(Fk.bind(null,e)),Jf(function(){!(K&6)&&jg()}),s=null;else{switch(Dc(o)){case 1:s=fc;break;case 4:s=gc;break;case 16:s=hc;break;case 536870912:s=jc;break;default:s=hc}s=Gk(s,Hk.bind(null,e))}e.callbackPriority=i,e.callbackNode=s}}function Hk(e,i){if(Bk=-1,Ck=0,K&6)throw Error(p(327));var s=e.callbackNode;if(Ik()&&e.callbackNode!==s)return null;var o=uc(e,e===R?Z:0);if(o===0)return null;if(o&30||o&e.expiredLanes||i)i=Jk(e,o);else{i=o;var a=K;K|=2;var c=Kk();(R!==e||Z!==i)&&(vk=null,Hj=B()+500,Lk(e,i));do try{Mk();break}catch(h){Nk(e,h)}while(1);Qg(),nk.current=c,K=a,Y!==null?i=0:(R=null,Z=0,i=T)}if(i!==0){if(i===2&&(a=xc(e),a!==0&&(o=a,i=Ok(e,a))),i===1)throw s=qk,Lk(e,0),Dk(e,o),Ek(e,B()),s;if(i===6)Dk(e,o);else{if(a=e.current.alternate,!(o&30)&&!Pk(a)&&(i=Jk(e,o),i===2&&(c=xc(e),c!==0&&(o=c,i=Ok(e,c))),i===1))throw s=qk,Lk(e,0),Dk(e,o),Ek(e,B()),s;switch(e.finishedWork=a,e.finishedLanes=o,i){case 0:case 1:throw Error(p(345));case 2:Qk(e,uk,vk);break;case 3:if(Dk(e,o),(o&130023424)===o&&(i=gk+500-B(),10<i)){if(uc(e,0)!==0)break;if(a=e.suspendedLanes,(a&o)!==o){L(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Ff(Qk.bind(null,e,uk,vk),i);break}Qk(e,uk,vk);break;case 4:if(Dk(e,o),(o&4194240)===o)break;for(i=e.eventTimes,a=-1;0<o;){var d=31-oc(o);c=1<<d,d=i[d],d>a&&(a=d),o&=~c}if(o=a,o=B()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*mk(o/1960))-o,10<o){e.timeoutHandle=Ff(Qk.bind(null,e,uk,vk),o);break}Qk(e,uk,vk);break;case 5:Qk(e,uk,vk);break;default:throw Error(p(329))}}}return Ek(e,B()),e.callbackNode===s?Hk.bind(null,e):null}function Ok(e,i){var s=tk;return e.current.memoizedState.isDehydrated&&(Lk(e,i).flags|=256),e=Jk(e,i),e!==2&&(i=uk,uk=s,i!==null&&Gj(i)),e}function Gj(e){uk===null?uk=e:uk.push.apply(uk,e)}function Pk(e){for(var i=e;;){if(i.flags&16384){var s=i.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var o=0;o<s.length;o++){var a=s[o],c=a.getSnapshot;a=a.value;try{if(!He(c(),a))return!1}catch{return!1}}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Dk(e,i){for(i&=~sk,i&=~rk,e.suspendedLanes|=i,e.pingedLanes&=~i,e=e.expirationTimes;0<i;){var s=31-oc(i),o=1<<s;e[s]=-1,i&=~o}}function Fk(e){if(K&6)throw Error(p(327));Ik();var i=uc(e,0);if(!(i&1))return Ek(e,B()),null;var s=Jk(e,i);if(e.tag!==0&&s===2){var o=xc(e);o!==0&&(i=o,s=Ok(e,o))}if(s===1)throw s=qk,Lk(e,0),Dk(e,i),Ek(e,B()),s;if(s===6)throw Error(p(345));return e.finishedWork=e.current.alternate,e.finishedLanes=i,Qk(e,uk,vk),Ek(e,B()),null}function Rk(e,i){var s=K;K|=1;try{return e(i)}finally{K=s,K===0&&(Hj=B()+500,fg&&jg())}}function Sk(e){xk!==null&&xk.tag===0&&!(K&6)&&Ik();var i=K;K|=1;var s=pk.transition,o=C;try{if(pk.transition=null,C=1,e)return e()}finally{C=o,pk.transition=s,K=i,!(K&6)&&jg()}}function Ij(){gj=fj.current,E(fj)}function Lk(e,i){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Gf(s)),Y!==null)for(s=Y.return;s!==null;){var o=s;switch(wg(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&$f();break;case 3:Jh(),E(Wf),E(H),Oh();break;case 5:Lh(o);break;case 4:Jh();break;case 13:E(M);break;case 19:E(M);break;case 10:Rg(o.type._context);break;case 22:case 23:Ij()}s=s.return}if(R=e,Y=e=wh(e.current,null),Z=gj=i,T=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(i=0;i<Wg.length;i++)if(s=Wg[i],o=s.interleaved,o!==null){s.interleaved=null;var a=o.next,c=s.pending;if(c!==null){var d=c.next;c.next=a,o.next=d}s.pending=o}Wg=null}return e}function Nk(e,i){do{var s=Y;try{if(Qg(),Ph.current=ai,Sh){for(var o=N.memoizedState;o!==null;){var a=o.queue;a!==null&&(a.pending=null),o=o.next}Sh=!1}if(Rh=0,P=O=N=null,Th=!1,Uh=0,ok.current=null,s===null||s.return===null){T=1,qk=i,Y=null;break}e:{var c=e,d=s.return,h=s,g=i;if(i=Z,h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){var b=g,_=h,_e=_.tag;if(!(_.mode&1)&&(_e===0||_e===11||_e===15)){var ot=_.alternate;ot?(_.updateQueue=ot.updateQueue,_.memoizedState=ot.memoizedState,_.lanes=ot.lanes):(_.updateQueue=null,_.memoizedState=null)}var ut=Vi(d);if(ut!==null){ut.flags&=-257,Wi(ut,d,h,c,i),ut.mode&1&&Ti(c,b,i),i=ut,g=b;var rt=i.updateQueue;if(rt===null){var it=new Set;it.add(g),i.updateQueue=it}else rt.add(g);break e}else{if(!(i&1)){Ti(c,b,i),uj();break e}g=Error(p(426))}}else if(I&&h.mode&1){var dt=Vi(d);if(dt!==null){!(dt.flags&65536)&&(dt.flags|=256),Wi(dt,d,h,c,i),Jg(Ki(g,h));break e}}c=g=Ki(g,h),T!==4&&(T=2),tk===null?tk=[c]:tk.push(c),c=d;do{switch(c.tag){case 3:c.flags|=65536,i&=-i,c.lanes|=i;var tt=Oi(c,g,i);fh(c,tt);break e;case 1:h=g;var st=c.type,nt=c.stateNode;if(!(c.flags&128)&&(typeof st.getDerivedStateFromError=="function"||nt!==null&&typeof nt.componentDidCatch=="function"&&(Si===null||!Si.has(nt)))){c.flags|=65536,i&=-i,c.lanes|=i;var $=Ri(c,h,i);fh(c,$);break e}}c=c.return}while(c!==null)}Tk(s)}catch(_t){i=_t,Y===s&&s!==null&&(Y=s=s.return);continue}break}while(1)}function Kk(){var e=nk.current;return nk.current=ai,e===null?ai:e}function uj(){(T===0||T===3||T===2)&&(T=4),R===null||!(hh&268435455)&&!(rk&268435455)||Dk(R,Z)}function Jk(e,i){var s=K;K|=2;var o=Kk();(R!==e||Z!==i)&&(vk=null,Lk(e,i));do try{Uk();break}catch(a){Nk(e,a)}while(1);if(Qg(),K=s,nk.current=o,Y!==null)throw Error(p(261));return R=null,Z=0,T}function Uk(){for(;Y!==null;)Vk(Y)}function Mk(){for(;Y!==null&&!cc();)Vk(Y)}function Vk(e){var i=Wk(e.alternate,e,gj);e.memoizedProps=e.pendingProps,i===null?Tk(e):Y=i,ok.current=null}function Tk(e){var i=e;do{var s=i.alternate;if(e=i.return,i.flags&32768){if(s=Jj(s,i),s!==null){s.flags&=32767,Y=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{T=6,Y=null;return}}else if(s=Fj(s,i,gj),s!==null){Y=s;return}if(i=i.sibling,i!==null){Y=i;return}Y=i=e}while(i!==null);T===0&&(T=5)}function Qk(e,i,s){var o=C,a=pk.transition;try{pk.transition=null,C=1,Xk(e,i,s,o)}finally{pk.transition=a,C=o}return null}function Xk(e,i,s,o){do Ik();while(xk!==null);if(K&6)throw Error(p(327));s=e.finishedWork;var a=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(p(177));e.callbackNode=null,e.callbackPriority=0;var c=s.lanes|s.childLanes;if(Bc(e,c),e===R&&(Y=R=null,Z=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),c=(s.flags&15990)!==0,s.subtreeFlags&15990||c){c=pk.transition,pk.transition=null;var d=C;C=1;var h=K;K|=4,ok.current=null,Pj(e,s),ek(s,e),Oe(Df),dd=!!Cf,Df=Cf=null,e.current=s,ik(s),dc(),K=h,C=d,pk.transition=c}else e.current=s;if(wk&&(wk=!1,xk=e,yk=a),c=e.pendingLanes,c===0&&(Si=null),mc(s.stateNode),Ek(e,B()),i!==null)for(o=e.onRecoverableError,s=0;s<i.length;s++)a=i[s],o(a.value,{componentStack:a.stack,digest:a.digest});if(Pi)throw Pi=!1,e=Qi,Qi=null,e;return yk&1&&e.tag!==0&&Ik(),c=e.pendingLanes,c&1?e===Ak?zk++:(zk=0,Ak=e):zk=0,jg(),null}function Ik(){if(xk!==null){var e=Dc(yk),i=pk.transition,s=C;try{if(pk.transition=null,C=16>e?16:e,xk===null)var o=!1;else{if(e=xk,xk=null,yk=0,K&6)throw Error(p(331));var a=K;for(K|=4,V=e.current;V!==null;){var c=V,d=c.child;if(V.flags&16){var h=c.deletions;if(h!==null){for(var g=0;g<h.length;g++){var b=h[g];for(V=b;V!==null;){var _=V;switch(_.tag){case 0:case 11:case 15:Qj(8,_,c)}var _e=_.child;if(_e!==null)_e.return=_,V=_e;else for(;V!==null;){_=V;var ot=_.sibling,ut=_.return;if(Tj(_),_===b){V=null;break}if(ot!==null){ot.return=ut,V=ot;break}V=ut}}}var rt=c.alternate;if(rt!==null){var it=rt.child;if(it!==null){rt.child=null;do{var dt=it.sibling;it.sibling=null,it=dt}while(it!==null)}}V=c}}if(c.subtreeFlags&2064&&d!==null)d.return=c,V=d;else e:for(;V!==null;){if(c=V,c.flags&2048)switch(c.tag){case 0:case 11:case 15:Qj(9,c,c.return)}var tt=c.sibling;if(tt!==null){tt.return=c.return,V=tt;break e}V=c.return}}var st=e.current;for(V=st;V!==null;){d=V;var nt=d.child;if(d.subtreeFlags&2064&&nt!==null)nt.return=d,V=nt;else e:for(d=st;V!==null;){if(h=V,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:Rj(9,h)}}catch(_t){W(h,h.return,_t)}if(h===d){V=null;break e}var $=h.sibling;if($!==null){$.return=h.return,V=$;break e}V=h.return}}if(K=a,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,e)}catch{}o=!0}return o}finally{C=s,pk.transition=i}}return!1}function Yk(e,i,s){i=Ki(s,i),i=Oi(e,i,1),e=dh(e,i,1),i=L(),e!==null&&(Ac(e,1,i),Ek(e,i))}function W(e,i,s){if(e.tag===3)Yk(e,e,s);else for(;i!==null;){if(i.tag===3){Yk(i,e,s);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Si===null||!Si.has(o))){e=Ki(s,e),e=Ri(i,e,1),i=dh(i,e,1),e=L(),i!==null&&(Ac(i,1,e),Ek(i,e));break}}i=i.return}}function Ui(e,i,s){var o=e.pingCache;o!==null&&o.delete(i),i=L(),e.pingedLanes|=e.suspendedLanes&s,R===e&&(Z&s)===s&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-gk?Lk(e,0):sk|=s),Ek(e,i)}function Zk(e,i){i===0&&(e.mode&1?(i=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):i=1);var s=L();e=Zg(e,i),e!==null&&(Ac(e,i,s),Ek(e,s))}function vj(e){var i=e.memoizedState,s=0;i!==null&&(s=i.retryLane),Zk(e,s)}function ck(e,i){var s=0;switch(e.tag){case 13:var o=e.stateNode,a=e.memoizedState;a!==null&&(s=a.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(p(314))}o!==null&&o.delete(i),Zk(e,s)}var Wk;Wk=function(e,i,s){if(e!==null)if(e.memoizedProps!==i.pendingProps||Wf.current)Ug=!0;else{if(!(e.lanes&s)&&!(i.flags&128))return Ug=!1,zj(e,i,s);Ug=!!(e.flags&131072)}else Ug=!1,I&&i.flags&1048576&&ug(i,ng,i.index);switch(i.lanes=0,i.tag){case 2:var o=i.type;jj(e,i),e=i.pendingProps;var a=Yf(i,H.current);Tg(i,s),a=Xh(null,i,o,e,a,s);var c=bi();return i.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Zf(o)?(c=!0,cg(i)):c=!1,i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,ah(i),a.updater=nh,i.stateNode=a,a._reactInternals=i,rh(i,o,e,s),i=kj(null,i,o,!0,c,s)):(i.tag=0,I&&c&&vg(i),Yi(null,i,a,s),i=i.child),i;case 16:o=i.elementType;e:{switch(jj(e,i),e=i.pendingProps,a=o._init,o=a(o._payload),i.type=o,a=i.tag=$k(o),e=Lg(o,e),a){case 0:i=dj(null,i,o,e,s);break e;case 1:i=ij(null,i,o,e,s);break e;case 11:i=Zi(null,i,o,e,s);break e;case 14:i=aj(null,i,o,Lg(o.type,e),s);break e}throw Error(p(306,o,""))}return i;case 0:return o=i.type,a=i.pendingProps,a=i.elementType===o?a:Lg(o,a),dj(e,i,o,a,s);case 1:return o=i.type,a=i.pendingProps,a=i.elementType===o?a:Lg(o,a),ij(e,i,o,a,s);case 3:e:{if(lj(i),e===null)throw Error(p(387));o=i.pendingProps,c=i.memoizedState,a=c.element,bh(e,i),gh(i,o,null,s);var d=i.memoizedState;if(o=d.element,c.isDehydrated)if(c={element:o,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},i.updateQueue.baseState=c,i.memoizedState=c,i.flags&256){a=Ki(Error(p(423)),i),i=mj(e,i,o,s,a);break e}else if(o!==a){a=Ki(Error(p(424)),i),i=mj(e,i,o,s,a);break e}else for(yg=Lf(i.stateNode.containerInfo.firstChild),xg=i,I=!0,zg=null,s=Ch(i,null,o,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ig(),o===a){i=$i(e,i,s);break e}Yi(e,i,o,s)}i=i.child}return i;case 5:return Kh(i),e===null&&Eg(i),o=i.type,a=i.pendingProps,c=e!==null?e.memoizedProps:null,d=a.children,Ef(o,a)?d=null:c!==null&&Ef(o,c)&&(i.flags|=32),hj(e,i),Yi(e,i,d,s),i.child;case 6:return e===null&&Eg(i),null;case 13:return pj(e,i,s);case 4:return Ih(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=Bh(i,null,o,s):Yi(e,i,o,s),i.child;case 11:return o=i.type,a=i.pendingProps,a=i.elementType===o?a:Lg(o,a),Zi(e,i,o,a,s);case 7:return Yi(e,i,i.pendingProps,s),i.child;case 8:return Yi(e,i,i.pendingProps.children,s),i.child;case 12:return Yi(e,i,i.pendingProps.children,s),i.child;case 10:e:{if(o=i.type._context,a=i.pendingProps,c=i.memoizedProps,d=a.value,G(Mg,o._currentValue),o._currentValue=d,c!==null)if(He(c.value,d)){if(c.children===a.children&&!Wf.current){i=$i(e,i,s);break e}}else for(c=i.child,c!==null&&(c.return=i);c!==null;){var h=c.dependencies;if(h!==null){d=c.child;for(var g=h.firstContext;g!==null;){if(g.context===o){if(c.tag===1){g=ch(-1,s&-s),g.tag=2;var b=c.updateQueue;if(b!==null){b=b.shared;var _=b.pending;_===null?g.next=g:(g.next=_.next,_.next=g),b.pending=g}}c.lanes|=s,g=c.alternate,g!==null&&(g.lanes|=s),Sg(c.return,s,i),h.lanes|=s;break}g=g.next}}else if(c.tag===10)d=c.type===i.type?null:c.child;else if(c.tag===18){if(d=c.return,d===null)throw Error(p(341));d.lanes|=s,h=d.alternate,h!==null&&(h.lanes|=s),Sg(d,s,i),d=c.sibling}else d=c.child;if(d!==null)d.return=c;else for(d=c;d!==null;){if(d===i){d=null;break}if(c=d.sibling,c!==null){c.return=d.return,d=c;break}d=d.return}c=d}Yi(e,i,a.children,s),i=i.child}return i;case 9:return a=i.type,o=i.pendingProps.children,Tg(i,s),a=Vg(a),o=o(a),i.flags|=1,Yi(e,i,o,s),i.child;case 14:return o=i.type,a=Lg(o,i.pendingProps),a=Lg(o.type,a),aj(e,i,o,a,s);case 15:return cj(e,i,i.type,i.pendingProps,s);case 17:return o=i.type,a=i.pendingProps,a=i.elementType===o?a:Lg(o,a),jj(e,i),i.tag=1,Zf(o)?(e=!0,cg(i)):e=!1,Tg(i,s),ph(i,o,a),rh(i,o,a,s),kj(null,i,o,!0,e,s);case 19:return yj(e,i,s);case 22:return ej(e,i,s)}throw Error(p(156,i.tag))};function Gk(e,i){return ac(e,i)}function al(e,i,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(e,i,s,o){return new al(e,i,s,o)}function bj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $k(e){if(typeof e=="function")return bj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Da)return 11;if(e===Ga)return 14}return 2}function wh(e,i){var s=e.alternate;return s===null?(s=Bg(e.tag,i,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=i,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,i=e.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function yh(e,i,s,o,a,c){var d=2;if(o=e,typeof e=="function")bj(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case ya:return Ah(s.children,a,c,i);case za:d=8,a|=8;break;case Aa:return e=Bg(12,s,i,a|2),e.elementType=Aa,e.lanes=c,e;case Ea:return e=Bg(13,s,i,a),e.elementType=Ea,e.lanes=c,e;case Fa:return e=Bg(19,s,i,a),e.elementType=Fa,e.lanes=c,e;case Ia:return qj(s,a,c,i);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ba:d=10;break e;case Ca:d=9;break e;case Da:d=11;break e;case Ga:d=14;break e;case Ha:d=16,o=null;break e}throw Error(p(130,e==null?e:typeof e,""))}return i=Bg(d,s,i,a),i.elementType=e,i.type=o,i.lanes=c,i}function Ah(e,i,s,o){return e=Bg(7,e,o,i),e.lanes=s,e}function qj(e,i,s,o){return e=Bg(22,e,o,i),e.elementType=Ia,e.lanes=s,e.stateNode={isHidden:!1},e}function xh(e,i,s){return e=Bg(6,e,null,i),e.lanes=s,e}function zh(e,i,s){return i=Bg(4,e.children!==null?e.children:[],e.key,i),i.lanes=s,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function bl(e,i,s,o,a){this.tag=i,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=o,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function cl(e,i,s,o,a,c,d,h,g){return e=new bl(e,i,s,h,g),i===1?(i=1,c===!0&&(i|=8)):i=0,c=Bg(3,null,null,i),e.current=c,c.stateNode=e,c.memoizedState={element:o,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(c),e}function dl(e,i,s){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:o==null?null:""+o,children:e,containerInfo:i,implementation:s}}function el(e){if(!e)return Vf;e=e._reactInternals;e:{if(Vb(e)!==e||e.tag!==1)throw Error(p(170));var i=e;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Zf(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(p(171))}if(e.tag===1){var s=e.type;if(Zf(s))return bg(e,s,i)}return i}function fl(e,i,s,o,a,c,d,h,g){return e=cl(s,o,!0,e,a,c,d,h,g),e.context=el(null),s=e.current,o=L(),a=lh(s),c=ch(o,a),c.callback=i??null,dh(s,c,a),e.current.lanes=a,Ac(e,a,o),Ek(e,o),e}function gl(e,i,s,o){var a=i.current,c=L(),d=lh(a);return s=el(s),i.context===null?i.context=s:i.pendingContext=s,i=ch(c,d),i.payload={element:e},o=o===void 0?null:o,o!==null&&(i.callback=o),e=dh(a,i,d),e!==null&&(mh(e,a,d,c),eh(e,a,d)),d}function hl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function il(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<i?s:i}}function jl(e,i){il(e,i),(e=e.alternate)&&il(e,i)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(e){console.error(e)};function ml(e){this._internalRoot=e}nl.prototype.render=ml.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(p(409));gl(e,i,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Sk(function(){gl(null,e,null,null)}),i[uf]=null}};function nl(e){this._internalRoot=e}nl.prototype.unstable_scheduleHydration=function(e){if(e){var i=Hc();e={blockedOn:null,target:e,priority:i};for(var s=0;s<Qc.length&&i!==0&&i<Qc[s].priority;s++);Qc.splice(s,0,e),s===0&&Vc(e)}};function ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function pl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(e,i,s,o,a){if(a){if(typeof o=="function"){var c=o;o=function(){var b=hl(d);c.call(b)}}var d=fl(i,o,e,0,null,!1,!1,"",ql);return e._reactRootContainer=d,e[uf]=d.current,sf(e.nodeType===8?e.parentNode:e),Sk(),d}for(;a=e.lastChild;)e.removeChild(a);if(typeof o=="function"){var h=o;o=function(){var b=hl(g);h.call(b)}}var g=cl(e,0,!1,null,null,!1,!1,"",ql);return e._reactRootContainer=g,e[uf]=g.current,sf(e.nodeType===8?e.parentNode:e),Sk(function(){gl(i,g,s,o)}),g}function sl(e,i,s,o,a){var c=s._reactRootContainer;if(c){var d=c;if(typeof a=="function"){var h=a;a=function(){var g=hl(d);h.call(g)}}gl(i,d,e,a)}else d=rl(s,i,e,a,o);return hl(d)}Ec=function(e){switch(e.tag){case 3:var i=e.stateNode;if(i.current.memoizedState.isDehydrated){var s=tc(i.pendingLanes);s!==0&&(Cc(i,s|1),Ek(i,B()),!(K&6)&&(Hj=B()+500,jg()))}break;case 13:Sk(function(){var o=Zg(e,1);if(o!==null){var a=L();mh(o,e,1,a)}}),jl(e,1)}};Fc=function(e){if(e.tag===13){var i=Zg(e,134217728);if(i!==null){var s=L();mh(i,e,134217728,s)}jl(e,134217728)}};Gc=function(e){if(e.tag===13){var i=lh(e),s=Zg(e,i);if(s!==null){var o=L();mh(s,e,i,o)}jl(e,i)}};Hc=function(){return C};Ic=function(e,i){var s=C;try{return C=e,i()}finally{C=s}};yb=function(e,i,s){switch(i){case"input":if(bb(e,s),i=s.name,s.type==="radio"&&i!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<s.length;i++){var o=s[i];if(o!==e&&o.form===e.form){var a=Db(o);if(!a)throw Error(p(90));Wa(o),bb(o,a)}}}break;case"textarea":ib(e,s);break;case"select":i=s.value,i!=null&&fb(e,!!s.multiple,i,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zb(e),e===null?null:e.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(e,i){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(i))throw Error(p(200));return dl(e,i,null,s)};reactDom_production_min.createRoot=function(e,i){if(!ol(e))throw Error(p(299));var s=!1,o="",a=ll;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onRecoverableError!==void 0&&(a=i.onRecoverableError)),i=cl(e,1,!1,null,null,s,!1,o,a),e[uf]=i.current,sf(e.nodeType===8?e.parentNode:e),new ml(i)};reactDom_production_min.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(p(188)):(e=Object.keys(e).join(","),Error(p(268,e)));return e=Zb(i),e=e===null?null:e.stateNode,e};reactDom_production_min.flushSync=function(e){return Sk(e)};reactDom_production_min.hydrate=function(e,i,s){if(!pl(i))throw Error(p(200));return sl(null,e,i,!0,s)};reactDom_production_min.hydrateRoot=function(e,i,s){if(!ol(e))throw Error(p(405));var o=s!=null&&s.hydratedSources||null,a=!1,c="",d=ll;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),i=fl(i,null,e,1,s??null,a,!1,c,d),e[uf]=i.current,sf(e),o)for(e=0;e<o.length;e++)s=o[e],a=s._getVersion,a=a(s._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[s,a]:i.mutableSourceEagerHydrationData.push(s,a);return new nl(i)};reactDom_production_min.render=function(e,i,s){if(!pl(i))throw Error(p(200));return sl(null,e,i,!1,s)};reactDom_production_min.unmountComponentAtNode=function(e){if(!pl(e))throw Error(p(40));return e._reactRootContainer?(Sk(function(){sl(null,null,e,!1,function(){e._reactRootContainer=null,e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(e,i,s,o){if(!pl(s))throw Error(p(200));if(e==null||e._reactInternals===void 0)throw Error(p(38));return sl(e,i,s,!1,o)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(e){console.error(e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m=reactDomExports;client.createRoot=m.createRoot,client.hydrateRoot=m.hydrateRoot;/**
 * @remix-run/router v1.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},_extends$3.apply(this,arguments)}var Action;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(e){e===void 0&&(e={});function i(o,a){let{pathname:c,search:d,hash:h}=o.location;return createLocation("",{pathname:c,search:d,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(o,a){return typeof a=="string"?a:createPath(a)}return getUrlBasedHistory(i,s,null,e)}function invariant(e,i){if(e===!1||e===null||typeof e>"u")throw new Error(i)}function warning(e,i){if(!e){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(e,i){return{usr:e.state,key:e.key,idx:i}}function createLocation(e,i,s,o){return s===void 0&&(s=null),_extends$3({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof i=="string"?parsePath(i):i,{state:s,key:i&&i.key||o||createKey()})}function createPath(e){let{pathname:i="/",search:s="",hash:o=""}=e;return s&&s!=="?"&&(i+=s.charAt(0)==="?"?s:"?"+s),o&&o!=="#"&&(i+=o.charAt(0)==="#"?o:"#"+o),i}function parsePath(e){let i={};if(e){let s=e.indexOf("#");s>=0&&(i.hash=e.substr(s),e=e.substr(0,s));let o=e.indexOf("?");o>=0&&(i.search=e.substr(o),e=e.substr(0,o)),e&&(i.pathname=e)}return i}function getUrlBasedHistory(e,i,s,o){o===void 0&&(o={});let{window:a=document.defaultView,v5Compat:c=!1}=o,d=a.history,h=Action.Pop,g=null,b=_();b==null&&(b=0,d.replaceState(_extends$3({},d.state,{idx:b}),""));function _(){return(d.state||{idx:null}).idx}function _e(){h=Action.Pop;let dt=_(),tt=dt==null?null:dt-b;b=dt,g&&g({action:h,location:it.location,delta:tt})}function ot(dt,tt){h=Action.Push;let st=createLocation(it.location,dt,tt);s&&s(st,dt),b=_()+1;let nt=getHistoryState(st,b),$=it.createHref(st);try{d.pushState(nt,"",$)}catch(_t){if(_t instanceof DOMException&&_t.name==="DataCloneError")throw _t;a.location.assign($)}c&&g&&g({action:h,location:it.location,delta:1})}function ut(dt,tt){h=Action.Replace;let st=createLocation(it.location,dt,tt);s&&s(st,dt),b=_();let nt=getHistoryState(st,b),$=it.createHref(st);d.replaceState(nt,"",$),c&&g&&g({action:h,location:it.location,delta:0})}function rt(dt){let tt=a.location.origin!=="null"?a.location.origin:a.location.href,st=typeof dt=="string"?dt:createPath(dt);return invariant(tt,"No window.location.(origin|href) available to create URL for href: "+st),new URL(st,tt)}let it={get action(){return h},get location(){return e(a,d)},listen(dt){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(PopStateEventType,_e),g=dt,()=>{a.removeEventListener(PopStateEventType,_e),g=null}},createHref(dt){return i(a,dt)},createURL:rt,encodeLocation(dt){let tt=rt(dt);return{pathname:tt.pathname,search:tt.search,hash:tt.hash}},push:ot,replace:ut,go(dt){return d.go(dt)}};return it}var ResultType;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ResultType||(ResultType={}));const immutableRouteKeys=new Set(["lazy","caseSensitive","path","id","index","children"]);function isIndexRoute(e){return e.index===!0}function convertRoutesToDataRoutes(e,i,s,o){return s===void 0&&(s=[]),o===void 0&&(o={}),e.map((a,c)=>{let d=[...s,c],h=typeof a.id=="string"?a.id:d.join("-");if(invariant(a.index!==!0||!a.children,"Cannot specify children on an index route"),invariant(!o[h],'Found a route id collision on id "'+h+`".  Route id's must be globally unique within Data Router usages`),isIndexRoute(a)){let g=_extends$3({},a,i(a),{id:h});return o[h]=g,g}else{let g=_extends$3({},a,i(a),{id:h,children:void 0});return o[h]=g,a.children&&(g.children=convertRoutesToDataRoutes(a.children,i,d,o)),g}})}function matchRoutes(e,i,s){s===void 0&&(s="/");let o=typeof i=="string"?parsePath(i):i,a=stripBasename(o.pathname||"/",s);if(a==null)return null;let c=flattenRoutes(e);rankRouteBranches(c);let d=null;for(let h=0;d==null&&h<c.length;++h)d=matchRouteBranch(c[h],safelyDecodeURI(a));return d}function flattenRoutes(e,i,s,o){i===void 0&&(i=[]),s===void 0&&(s=[]),o===void 0&&(o="");let a=(c,d,h)=>{let g={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};g.relativePath.startsWith("/")&&(invariant(g.relativePath.startsWith(o),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(o.length));let b=joinPaths([o,g.relativePath]),_=s.concat(g);c.children&&c.children.length>0&&(invariant(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+b+'".')),flattenRoutes(c.children,i,_,b)),!(c.path==null&&!c.index)&&i.push({path:b,score:computeScore(b,c.index),routesMeta:_})};return e.forEach((c,d)=>{var h;if(c.path===""||!((h=c.path)!=null&&h.includes("?")))a(c,d);else for(let g of explodeOptionalSegments(c.path))a(c,d,g)}),i}function explodeOptionalSegments(e){let i=e.split("/");if(i.length===0)return[];let[s,...o]=i,a=s.endsWith("?"),c=s.replace(/\?$/,"");if(o.length===0)return a?[c,""]:[c];let d=explodeOptionalSegments(o.join("/")),h=[];return h.push(...d.map(g=>g===""?c:[c,g].join("/"))),a&&h.push(...d),h.map(g=>e.startsWith("/")&&g===""?"/":g)}function rankRouteBranches(e){e.sort((i,s)=>i.score!==s.score?s.score-i.score:compareIndexes(i.routesMeta.map(o=>o.childrenIndex),s.routesMeta.map(o=>o.childrenIndex)))}const paramRe=/^:\w+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=e=>e==="*";function computeScore(e,i){let s=e.split("/"),o=s.length;return s.some(isSplat)&&(o+=splatPenalty),i&&(o+=indexRouteValue),s.filter(a=>!isSplat(a)).reduce((a,c)=>a+(paramRe.test(c)?dynamicSegmentValue:c===""?emptySegmentValue:staticSegmentValue),o)}function compareIndexes(e,i){return e.length===i.length&&e.slice(0,-1).every((o,a)=>o===i[a])?e[e.length-1]-i[i.length-1]:0}function matchRouteBranch(e,i){let{routesMeta:s}=e,o={},a="/",c=[];for(let d=0;d<s.length;++d){let h=s[d],g=d===s.length-1,b=a==="/"?i:i.slice(a.length)||"/",_=matchPath({path:h.relativePath,caseSensitive:h.caseSensitive,end:g},b);if(!_)return null;Object.assign(o,_.params);let _e=h.route;c.push({params:o,pathname:joinPaths([a,_.pathname]),pathnameBase:normalizePathname(joinPaths([a,_.pathnameBase])),route:_e}),_.pathnameBase!=="/"&&(a=joinPaths([a,_.pathnameBase]))}return c}function matchPath(e,i){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,o]=compilePath(e.path,e.caseSensitive,e.end),a=i.match(s);if(!a)return null;let c=a[0],d=c.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:o.reduce((b,_,_e)=>{if(_==="*"){let ot=h[_e]||"";d=c.slice(0,c.length-ot.length).replace(/(.)\/+$/,"$1")}return b[_]=safelyDecodeURIComponent(h[_e]||"",_),b},{}),pathname:c,pathnameBase:d,pattern:e}}function compilePath(e,i,s){i===void 0&&(i=!1),s===void 0&&(s=!0),warning(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let o=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(d,h)=>(o.push(h),"/([^\\/]+)"));return e.endsWith("*")?(o.push("*"),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,i?void 0:"i"),o]}function safelyDecodeURI(e){try{return decodeURI(e)}catch(i){return warning(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+i+").")),e}}function safelyDecodeURIComponent(e,i){try{return decodeURIComponent(e)}catch(s){return warning(!1,'The value for the URL param "'+i+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+s+").")),e}}function stripBasename(e,i){if(i==="/")return e;if(!e.toLowerCase().startsWith(i.toLowerCase()))return null;let s=i.endsWith("/")?i.length-1:i.length,o=e.charAt(s);return o&&o!=="/"?null:e.slice(s)||"/"}function resolvePath(e,i){i===void 0&&(i="/");let{pathname:s,search:o="",hash:a=""}=typeof e=="string"?parsePath(e):e;return{pathname:s?s.startsWith("/")?s:resolvePathname(s,i):i,search:normalizeSearch(o),hash:normalizeHash(a)}}function resolvePathname(e,i){let s=i.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function getInvalidPathError(e,i,s,o){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+i+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(e){return e.filter((i,s)=>s===0||i.route.path&&i.route.path.length>0)}function resolveTo(e,i,s,o){o===void 0&&(o=!1);let a;typeof e=="string"?a=parsePath(e):(a=_extends$3({},e),invariant(!a.pathname||!a.pathname.includes("?"),getInvalidPathError("?","pathname","search",a)),invariant(!a.pathname||!a.pathname.includes("#"),getInvalidPathError("#","pathname","hash",a)),invariant(!a.search||!a.search.includes("#"),getInvalidPathError("#","search","hash",a)));let c=e===""||a.pathname==="",d=c?"/":a.pathname,h;if(o||d==null)h=s;else{let _e=i.length-1;if(d.startsWith("..")){let ot=d.split("/");for(;ot[0]==="..";)ot.shift(),_e-=1;a.pathname=ot.join("/")}h=_e>=0?i[_e]:"/"}let g=resolvePath(a,h),b=d&&d!=="/"&&d.endsWith("/"),_=(c||d===".")&&s.endsWith("/");return!g.pathname.endsWith("/")&&(b||_)&&(g.pathname+="/"),g}const joinPaths=e=>e.join("/").replace(/\/\/+/g,"/"),normalizePathname=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,normalizeHash=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class ErrorResponse{constructor(i,s,o,a){a===void 0&&(a=!1),this.status=i,this.statusText=s||"",this.internal=a,o instanceof Error?(this.data=o.toString(),this.error=o):this.data=o}}function isRouteErrorResponse(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const validMutationMethodsArr=["post","put","patch","delete"],validMutationMethods=new Set(validMutationMethodsArr),validRequestMethodsArr=["get",...validMutationMethodsArr],validRequestMethods=new Set(validRequestMethodsArr),redirectStatusCodes=new Set([301,302,303,307,308]),redirectPreserveMethodStatusCodes=new Set([307,308]),IDLE_NAVIGATION={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},IDLE_FETCHER={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},IDLE_BLOCKER={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,defaultMapRouteProperties=e=>({hasErrorBoundary:!!e.hasErrorBoundary});function createRouter(e){const i=e.window?e.window:typeof window<"u"?window:void 0,s=typeof i<"u"&&typeof i.document<"u"&&typeof i.document.createElement<"u",o=!s;invariant(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let a;if(e.mapRouteProperties)a=e.mapRouteProperties;else if(e.detectErrorBoundary){let zt=e.detectErrorBoundary;a=Ht=>({hasErrorBoundary:zt(Ht)})}else a=defaultMapRouteProperties;let c={},d=convertRoutesToDataRoutes(e.routes,a,void 0,c),h,g=e.basename||"/",b=_extends$3({v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),_=null,_e=new Set,ot=null,ut=null,rt=null,it=e.hydrationData!=null,dt=matchRoutes(d,e.history.location,g),tt=null;if(dt==null){let zt=getInternalRouterError(404,{pathname:e.history.location.pathname}),{matches:Ht,route:Ft}=getShortCircuitMatches(d);dt=Ht,tt={[Ft.id]:zt}}let st=!dt.some(zt=>zt.route.lazy)&&(!dt.some(zt=>zt.route.loader)||e.hydrationData!=null),nt,$={historyAction:e.history.action,location:e.history.location,matches:dt,initialized:st,navigation:IDLE_NAVIGATION,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||tt,fetchers:new Map,blockers:new Map},_t=Action.Pop,At=!1,ft,j=!1,at=!1,yt=[],lt=[],vt=new Map,xt=0,bt=-1,It=new Map,Kt=new Set,Zt=new Map,jt=new Map,$t=new Map,Qt=!1;function Jt(){return _=e.history.listen(zt=>{let{action:Ht,location:Ft,delta:Ot}=zt;if(Qt){Qt=!1;return}warning($t.size===0||Ot!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Dt=ln({currentLocation:$.location,nextLocation:Ft,historyAction:Ht});if(Dt&&Ot!=null){Qt=!0,e.history.go(Ot*-1),rn(Dt,{state:"blocked",location:Ft,proceed(){rn(Dt,{state:"proceeding",proceed:void 0,reset:void 0,location:Ft}),e.history.go(Ot)},reset(){tn(Dt),Ct({blockers:new Map(nt.state.blockers)})}});return}return Rt(Ht,Ft)}),$.initialized||Rt(Action.Pop,$.location),nt}function on(){_&&_(),_e.clear(),ft&&ft.abort(),$.fetchers.forEach((zt,Ht)=>Lt(Ht)),$.blockers.forEach((zt,Ht)=>tn(Ht))}function un(zt){return _e.add(zt),()=>_e.delete(zt)}function Ct(zt){$=_extends$3({},$,zt),_e.forEach(Ht=>Ht($))}function ht(zt,Ht){var Ft,Ot;let Dt=$.actionData!=null&&$.navigation.formMethod!=null&&isMutationMethod($.navigation.formMethod)&&$.navigation.state==="loading"&&((Ft=zt.state)==null?void 0:Ft._isRedirect)!==!0,en;Ht.actionData?Object.keys(Ht.actionData).length>0?en=Ht.actionData:en=null:Dt?en=$.actionData:en=null;let fn=Ht.loaderData?mergeLoaderData($.loaderData,Ht.loaderData,Ht.matches||[],Ht.errors):$.loaderData;for(let[mn]of $t)tn(mn);let vn=At===!0||$.navigation.formMethod!=null&&isMutationMethod($.navigation.formMethod)&&((Ot=zt.state)==null?void 0:Ot._isRedirect)!==!0;h&&(d=h,h=void 0),Ct(_extends$3({},Ht,{actionData:en,loaderData:fn,historyAction:_t,location:zt,initialized:!0,navigation:IDLE_NAVIGATION,revalidation:"idle",restoreScrollPosition:Ut(zt,Ht.matches||$.matches),preventScrollReset:vn,blockers:new Map($.blockers)})),j||_t===Action.Pop||(_t===Action.Push?e.history.push(zt,zt.state):_t===Action.Replace&&e.history.replace(zt,zt.state)),_t=Action.Pop,At=!1,j=!1,at=!1,yt=[],lt=[]}async function gt(zt,Ht){if(typeof zt=="number"){e.history.go(zt);return}let Ft=normalizeTo($.location,$.matches,g,b.v7_prependBasename,zt,Ht==null?void 0:Ht.fromRouteId,Ht==null?void 0:Ht.relative),{path:Ot,submission:Dt,error:en}=normalizeNavigateOptions(b.v7_normalizeFormMethod,!1,Ft,Ht),fn=$.location,vn=createLocation($.location,Ot,Ht&&Ht.state);vn=_extends$3({},vn,e.history.encodeLocation(vn));let mn=Ht&&Ht.replace!=null?Ht.replace:void 0,bn=Action.Push;mn===!0?bn=Action.Replace:mn===!1||Dt!=null&&isMutationMethod(Dt.formMethod)&&Dt.formAction===$.location.pathname+$.location.search&&(bn=Action.Replace);let Cn=Ht&&"preventScrollReset"in Ht?Ht.preventScrollReset===!0:void 0,Fn=ln({currentLocation:fn,nextLocation:vn,historyAction:bn});if(Fn){rn(Fn,{state:"blocked",location:vn,proceed(){rn(Fn,{state:"proceeding",proceed:void 0,reset:void 0,location:vn}),gt(zt,Ht)},reset(){tn(Fn),Ct({blockers:new Map($.blockers)})}});return}return await Rt(bn,vn,{submission:Dt,pendingError:en,preventScrollReset:Cn,replace:Ht&&Ht.replace})}function wt(){if(Et(),Ct({revalidation:"loading"}),$.navigation.state!=="submitting"){if($.navigation.state==="idle"){Rt($.historyAction,$.location,{startUninterruptedRevalidation:!0});return}Rt(_t||$.historyAction,$.navigation.location,{overrideNavigation:$.navigation})}}async function Rt(zt,Ht,Ft){ft&&ft.abort(),ft=null,_t=zt,j=(Ft&&Ft.startUninterruptedRevalidation)===!0,_n($.location,$.matches),At=(Ft&&Ft.preventScrollReset)===!0;let Ot=h||d,Dt=Ft&&Ft.overrideNavigation,en=matchRoutes(Ot,Ht,g);if(!en){let Bt=getInternalRouterError(404,{pathname:Ht.pathname}),{matches:nn,route:dn}=getShortCircuitMatches(Ot);pn(),ht(Ht,{matches:nn,loaderData:{},errors:{[dn.id]:Bt}});return}if($.initialized&&!at&&isHashChangeOnly($.location,Ht)&&!(Ft&&Ft.submission&&isMutationMethod(Ft.submission.formMethod))){ht(Ht,{matches:en});return}ft=new AbortController;let fn=createClientSideRequest(e.history,Ht,ft.signal,Ft&&Ft.submission),vn,mn;if(Ft&&Ft.pendingError)mn={[findNearestBoundary(en).route.id]:Ft.pendingError};else if(Ft&&Ft.submission&&isMutationMethod(Ft.submission.formMethod)){let Bt=await Mt(fn,Ht,Ft.submission,en,{replace:Ft.replace});if(Bt.shortCircuited)return;vn=Bt.pendingActionData,mn=Bt.pendingActionError,Dt=_extends$3({state:"loading",location:Ht},Ft.submission),fn=new Request(fn.url,{signal:fn.signal})}let{shortCircuited:bn,loaderData:Cn,errors:Fn}=await Nt(fn,Ht,en,Dt,Ft&&Ft.submission,Ft&&Ft.fetcherSubmission,Ft&&Ft.replace,vn,mn);bn||(ft=null,ht(Ht,_extends$3({matches:en},vn?{actionData:vn}:{},{loaderData:Cn,errors:Fn})))}async function Mt(zt,Ht,Ft,Ot,Dt){Et();let en=_extends$3({state:"submitting",location:Ht},Ft);Ct({navigation:en});let fn,vn=getTargetMatch(Ot,Ht);if(!vn.route.action&&!vn.route.lazy)fn={type:ResultType.error,error:getInternalRouterError(405,{method:zt.method,pathname:Ht.pathname,routeId:vn.route.id})};else if(fn=await callLoaderOrAction("action",zt,vn,Ot,c,a,g),zt.signal.aborted)return{shortCircuited:!0};if(isRedirectResult(fn)){let mn;return Dt&&Dt.replace!=null?mn=Dt.replace:mn=fn.location===$.location.pathname+$.location.search,await ct($,fn,{submission:Ft,replace:mn}),{shortCircuited:!0}}if(isErrorResult(fn)){let mn=findNearestBoundary(Ot,vn.route.id);return(Dt&&Dt.replace)!==!0&&(_t=Action.Push),{pendingActionData:{},pendingActionError:{[mn.route.id]:fn.error}}}if(isDeferredResult(fn))throw getInternalRouterError(400,{type:"defer-action"});return{pendingActionData:{[vn.route.id]:fn.data}}}async function Nt(zt,Ht,Ft,Ot,Dt,en,fn,vn,mn){let bn=Ot;bn||(bn=_extends$3({state:"loading",location:Ht,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Dt));let Cn=Dt||en?Dt||en:bn.formMethod&&bn.formAction&&bn.formData&&bn.formEncType?{formMethod:bn.formMethod,formAction:bn.formAction,formData:bn.formData,formEncType:bn.formEncType}:void 0,Fn=h||d,[Bt,nn]=getMatchesToLoad(e.history,$,Ft,Cn,Ht,at,yt,lt,Zt,Fn,g,vn,mn);if(pn(wn=>!(Ft&&Ft.some(Rn=>Rn.route.id===wn))||Bt&&Bt.some(Rn=>Rn.route.id===wn)),Bt.length===0&&nn.length===0){let wn=qt();return ht(Ht,_extends$3({matches:Ft,loaderData:{},errors:mn||null},vn?{actionData:vn}:{},wn?{fetchers:new Map($.fetchers)}:{})),{shortCircuited:!0}}if(!j){nn.forEach(Rn=>{let Dn=$.fetchers.get(Rn.key),On={state:"loading",data:Dn&&Dn.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};$.fetchers.set(Rn.key,On)});let wn=vn||$.actionData;Ct(_extends$3({navigation:bn},wn?Object.keys(wn).length===0?{actionData:null}:{actionData:wn}:{},nn.length>0?{fetchers:new Map($.fetchers)}:{}))}bt=++xt,nn.forEach(wn=>{wn.controller&&vt.set(wn.key,wn.controller)});let dn=()=>nn.forEach(wn=>Gt(wn.key));ft&&ft.signal.addEventListener("abort",dn);let{results:hn,loaderResults:gn,fetcherResults:An}=await mt($.matches,Ft,Bt,nn,zt);if(zt.signal.aborted)return{shortCircuited:!0};ft&&ft.signal.removeEventListener("abort",dn),nn.forEach(wn=>vt.delete(wn.key));let Sn=findRedirect(hn);if(Sn)return await ct($,Sn,{replace:fn}),{shortCircuited:!0};let{loaderData:En,errors:xn}=processLoaderData($,Ft,Bt,gn,mn,nn,An,jt);jt.forEach((wn,Rn)=>{wn.subscribe(Dn=>{(Dn||wn.done)&&jt.delete(Rn)})});let kn=qt(),Tn=Yt(bt),Pn=kn||Tn||nn.length>0;return _extends$3({loaderData:En,errors:xn},Pn?{fetchers:new Map($.fetchers)}:{})}function Pt(zt){return $.fetchers.get(zt)||IDLE_FETCHER}function kt(zt,Ht,Ft,Ot){if(o)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");vt.has(zt)&&Gt(zt);let Dt=h||d,en=normalizeTo($.location,$.matches,g,b.v7_prependBasename,Ft,Ht,Ot==null?void 0:Ot.relative),fn=matchRoutes(Dt,en,g);if(!fn){St(zt,Ht,getInternalRouterError(404,{pathname:en}));return}let{path:vn,submission:mn}=normalizeNavigateOptions(b.v7_normalizeFormMethod,!0,en,Ot),bn=getTargetMatch(fn,vn);if(At=(Ot&&Ot.preventScrollReset)===!0,mn&&isMutationMethod(mn.formMethod)){Tt(zt,Ht,vn,bn,fn,mn);return}Zt.set(zt,{routeId:Ht,path:vn}),et(zt,Ht,vn,bn,fn,mn)}async function Tt(zt,Ht,Ft,Ot,Dt,en){if(Et(),Zt.delete(zt),!Ot.route.action&&!Ot.route.lazy){let On=getInternalRouterError(405,{method:en.formMethod,pathname:Ft,routeId:Ht});St(zt,Ht,On);return}let fn=$.fetchers.get(zt),vn=_extends$3({state:"submitting"},en,{data:fn&&fn.data," _hasFetcherDoneAnything ":!0});$.fetchers.set(zt,vn),Ct({fetchers:new Map($.fetchers)});let mn=new AbortController,bn=createClientSideRequest(e.history,Ft,mn.signal,en);vt.set(zt,mn);let Cn=await callLoaderOrAction("action",bn,Ot,Dt,c,a,g);if(bn.signal.aborted){vt.get(zt)===mn&&vt.delete(zt);return}if(isRedirectResult(Cn)){vt.delete(zt),Kt.add(zt);let On=_extends$3({state:"loading"},en,{data:void 0," _hasFetcherDoneAnything ":!0});return $.fetchers.set(zt,On),Ct({fetchers:new Map($.fetchers)}),ct($,Cn,{submission:en,isFetchActionRedirect:!0})}if(isErrorResult(Cn)){St(zt,Ht,Cn.error);return}if(isDeferredResult(Cn))throw getInternalRouterError(400,{type:"defer-action"});let Fn=$.navigation.location||$.location,Bt=createClientSideRequest(e.history,Fn,mn.signal),nn=h||d,dn=$.navigation.state!=="idle"?matchRoutes(nn,$.navigation.location,g):$.matches;invariant(dn,"Didn't find any matches after fetcher action");let hn=++xt;It.set(zt,hn);let gn=_extends$3({state:"loading",data:Cn.data},en,{" _hasFetcherDoneAnything ":!0});$.fetchers.set(zt,gn);let[An,Sn]=getMatchesToLoad(e.history,$,dn,en,Fn,at,yt,lt,Zt,nn,g,{[Ot.route.id]:Cn.data},void 0);Sn.filter(On=>On.key!==zt).forEach(On=>{let Ln=On.key,Nn=$.fetchers.get(Ln),In={state:"loading",data:Nn&&Nn.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};$.fetchers.set(Ln,In),On.controller&&vt.set(Ln,On.controller)}),Ct({fetchers:new Map($.fetchers)});let En=()=>Sn.forEach(On=>Gt(On.key));mn.signal.addEventListener("abort",En);let{results:xn,loaderResults:kn,fetcherResults:Tn}=await mt($.matches,dn,An,Sn,Bt);if(mn.signal.aborted)return;mn.signal.removeEventListener("abort",En),It.delete(zt),vt.delete(zt),Sn.forEach(On=>vt.delete(On.key));let Pn=findRedirect(xn);if(Pn)return ct($,Pn);let{loaderData:wn,errors:Rn}=processLoaderData($,$.matches,An,kn,void 0,Sn,Tn,jt);if($.fetchers.has(zt)){let On={state:"idle",data:Cn.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};$.fetchers.set(zt,On)}let Dn=Yt(hn);$.navigation.state==="loading"&&hn>bt?(invariant(_t,"Expected pending action"),ft&&ft.abort(),ht($.navigation.location,{matches:dn,loaderData:wn,errors:Rn,fetchers:new Map($.fetchers)})):(Ct(_extends$3({errors:Rn,loaderData:mergeLoaderData($.loaderData,wn,dn,Rn)},Dn||Sn.length>0?{fetchers:new Map($.fetchers)}:{})),at=!1)}async function et(zt,Ht,Ft,Ot,Dt,en){let fn=$.fetchers.get(zt),vn=_extends$3({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},en,{data:fn&&fn.data," _hasFetcherDoneAnything ":!0});$.fetchers.set(zt,vn),Ct({fetchers:new Map($.fetchers)});let mn=new AbortController,bn=createClientSideRequest(e.history,Ft,mn.signal);vt.set(zt,mn);let Cn=await callLoaderOrAction("loader",bn,Ot,Dt,c,a,g);if(isDeferredResult(Cn)&&(Cn=await resolveDeferredData(Cn,bn.signal,!0)||Cn),vt.get(zt)===mn&&vt.delete(zt),bn.signal.aborted)return;if(isRedirectResult(Cn)){Kt.add(zt),await ct($,Cn);return}if(isErrorResult(Cn)){let Bt=findNearestBoundary($.matches,Ht);$.fetchers.delete(zt),Ct({fetchers:new Map($.fetchers),errors:{[Bt.route.id]:Cn.error}});return}invariant(!isDeferredResult(Cn),"Unhandled fetcher deferred data");let Fn={state:"idle",data:Cn.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};$.fetchers.set(zt,Fn),Ct({fetchers:new Map($.fetchers)})}async function ct(zt,Ht,Ft){let{submission:Ot,replace:Dt,isFetchActionRedirect:en}=Ft===void 0?{}:Ft;Ht.revalidate&&(at=!0);let fn=createLocation(zt.location,Ht.location,_extends$3({_isRedirect:!0},en?{_isFetchActionRedirect:!0}:{}));if(invariant(fn,"Expected a location on the redirect navigation"),ABSOLUTE_URL_REGEX.test(Ht.location)&&s){let Bt=e.history.createURL(Ht.location),nn=stripBasename(Bt.pathname,g)==null;if(i.location.origin!==Bt.origin||nn){Dt?i.location.replace(Ht.location):i.location.assign(Ht.location);return}}ft=null;let vn=Dt===!0?Action.Replace:Action.Push,{formMethod:mn,formAction:bn,formEncType:Cn,formData:Fn}=zt.navigation;!Ot&&mn&&bn&&Fn&&Cn&&(Ot={formMethod:mn,formAction:bn,formEncType:Cn,formData:Fn}),redirectPreserveMethodStatusCodes.has(Ht.status)&&Ot&&isMutationMethod(Ot.formMethod)?await Rt(vn,fn,{submission:_extends$3({},Ot,{formAction:Ht.location}),preventScrollReset:At}):en?await Rt(vn,fn,{overrideNavigation:{state:"loading",location:fn,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},fetcherSubmission:Ot,preventScrollReset:At}):await Rt(vn,fn,{overrideNavigation:{state:"loading",location:fn,formMethod:Ot?Ot.formMethod:void 0,formAction:Ot?Ot.formAction:void 0,formEncType:Ot?Ot.formEncType:void 0,formData:Ot?Ot.formData:void 0},preventScrollReset:At})}async function mt(zt,Ht,Ft,Ot,Dt){let en=await Promise.all([...Ft.map(mn=>callLoaderOrAction("loader",Dt,mn,Ht,c,a,g)),...Ot.map(mn=>mn.matches&&mn.match&&mn.controller?callLoaderOrAction("loader",createClientSideRequest(e.history,mn.path,mn.controller.signal),mn.match,mn.matches,c,a,g):{type:ResultType.error,error:getInternalRouterError(404,{pathname:mn.path})})]),fn=en.slice(0,Ft.length),vn=en.slice(Ft.length);return await Promise.all([resolveDeferredResults(zt,Ft,fn,fn.map(()=>Dt.signal),!1,$.loaderData),resolveDeferredResults(zt,Ot.map(mn=>mn.match),vn,Ot.map(mn=>mn.controller?mn.controller.signal:null),!0)]),{results:en,loaderResults:fn,fetcherResults:vn}}function Et(){at=!0,yt.push(...pn()),Zt.forEach((zt,Ht)=>{vt.has(Ht)&&(lt.push(Ht),Gt(Ht))})}function St(zt,Ht,Ft){let Ot=findNearestBoundary($.matches,Ht);Lt(zt),Ct({errors:{[Ot.route.id]:Ft},fetchers:new Map($.fetchers)})}function Lt(zt){let Ht=$.fetchers.get(zt);vt.has(zt)&&!(Ht&&Ht.state==="loading"&&It.has(zt))&&Gt(zt),Zt.delete(zt),It.delete(zt),Kt.delete(zt),$.fetchers.delete(zt)}function Gt(zt){let Ht=vt.get(zt);invariant(Ht,"Expected fetch controller: "+zt),Ht.abort(),vt.delete(zt)}function Vt(zt){for(let Ht of zt){let Ot={state:"idle",data:Pt(Ht).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};$.fetchers.set(Ht,Ot)}}function qt(){let zt=[],Ht=!1;for(let Ft of Kt){let Ot=$.fetchers.get(Ft);invariant(Ot,"Expected fetcher: "+Ft),Ot.state==="loading"&&(Kt.delete(Ft),zt.push(Ft),Ht=!0)}return Vt(zt),Ht}function Yt(zt){let Ht=[];for(let[Ft,Ot]of It)if(Ot<zt){let Dt=$.fetchers.get(Ft);invariant(Dt,"Expected fetcher: "+Ft),Dt.state==="loading"&&(Gt(Ft),It.delete(Ft),Ht.push(Ft))}return Vt(Ht),Ht.length>0}function sn(zt,Ht){let Ft=$.blockers.get(zt)||IDLE_BLOCKER;return $t.get(zt)!==Ht&&$t.set(zt,Ht),Ft}function tn(zt){$.blockers.delete(zt),$t.delete(zt)}function rn(zt,Ht){let Ft=$.blockers.get(zt)||IDLE_BLOCKER;invariant(Ft.state==="unblocked"&&Ht.state==="blocked"||Ft.state==="blocked"&&Ht.state==="blocked"||Ft.state==="blocked"&&Ht.state==="proceeding"||Ft.state==="blocked"&&Ht.state==="unblocked"||Ft.state==="proceeding"&&Ht.state==="unblocked","Invalid blocker state transition: "+Ft.state+" -> "+Ht.state),$.blockers.set(zt,Ht),Ct({blockers:new Map($.blockers)})}function ln(zt){let{currentLocation:Ht,nextLocation:Ft,historyAction:Ot}=zt;if($t.size===0)return;$t.size>1&&warning(!1,"A router only supports one blocker at a time");let Dt=Array.from($t.entries()),[en,fn]=Dt[Dt.length-1],vn=$.blockers.get(en);if(!(vn&&vn.state==="proceeding")&&fn({currentLocation:Ht,nextLocation:Ft,historyAction:Ot}))return en}function pn(zt){let Ht=[];return jt.forEach((Ft,Ot)=>{(!zt||zt(Ot))&&(Ft.cancel(),Ht.push(Ot),jt.delete(Ot))}),Ht}function yn(zt,Ht,Ft){if(ot=zt,rt=Ht,ut=Ft||(Ot=>Ot.key),!it&&$.navigation===IDLE_NAVIGATION){it=!0;let Ot=Ut($.location,$.matches);Ot!=null&&Ct({restoreScrollPosition:Ot})}return()=>{ot=null,rt=null,ut=null}}function _n(zt,Ht){if(ot&&ut&&rt){let Ft=Ht.map(Dt=>createUseMatchesMatch(Dt,$.loaderData)),Ot=ut(zt,Ft)||zt.key;ot[Ot]=rt()}}function Ut(zt,Ht){if(ot&&ut&&rt){let Ft=Ht.map(en=>createUseMatchesMatch(en,$.loaderData)),Ot=ut(zt,Ft)||zt.key,Dt=ot[Ot];if(typeof Dt=="number")return Dt}return null}function cn(zt){c={},h=convertRoutesToDataRoutes(zt,a,void 0,c)}return nt={get basename(){return g},get state(){return $},get routes(){return d},initialize:Jt,subscribe:un,enableScrollRestoration:yn,navigate:gt,fetch:kt,revalidate:wt,createHref:zt=>e.history.createHref(zt),encodeLocation:zt=>e.history.encodeLocation(zt),getFetcher:Pt,deleteFetcher:Lt,dispose:on,getBlocker:sn,deleteBlocker:tn,_internalFetchControllers:vt,_internalActiveDeferreds:jt,_internalSetRoutes:cn},nt}function isSubmissionNavigation(e){return e!=null&&"formData"in e}function normalizeTo(e,i,s,o,a,c,d){let h,g;if(c!=null&&d!=="path"){h=[];for(let _ of i)if(h.push(_),_.route.id===c){g=_;break}}else h=i,g=i[i.length-1];let b=resolveTo(a||".",getPathContributingMatches(h).map(_=>_.pathnameBase),stripBasename(e.pathname,s)||e.pathname,d==="path");return a==null&&(b.search=e.search,b.hash=e.hash),(a==null||a===""||a===".")&&g&&g.route.index&&!hasNakedIndexQuery(b.search)&&(b.search=b.search?b.search.replace(/^\?/,"?index&"):"?index"),o&&s!=="/"&&(b.pathname=b.pathname==="/"?s:joinPaths([s,b.pathname])),createPath(b)}function normalizeNavigateOptions(e,i,s,o){if(!o||!isSubmissionNavigation(o))return{path:s};if(o.formMethod&&!isValidMethod(o.formMethod))return{path:s,error:getInternalRouterError(405,{method:o.formMethod})};let a;if(o.formData){let h=o.formMethod||"get";if(a={formMethod:e?h.toUpperCase():h.toLowerCase(),formAction:stripHashFromPath(s),formEncType:o&&o.formEncType||"application/x-www-form-urlencoded",formData:o.formData},isMutationMethod(a.formMethod))return{path:s,submission:a}}let c=parsePath(s),d=convertFormDataToSearchParams(o.formData);return i&&c.search&&hasNakedIndexQuery(c.search)&&d.append("index",""),c.search="?"+d,{path:createPath(c),submission:a}}function getLoaderMatchesUntilBoundary(e,i){let s=e;if(i){let o=e.findIndex(a=>a.route.id===i);o>=0&&(s=e.slice(0,o))}return s}function getMatchesToLoad(e,i,s,o,a,c,d,h,g,b,_,_e,ot){let ut=ot?Object.values(ot)[0]:_e?Object.values(_e)[0]:void 0,rt=e.createURL(i.location),it=e.createURL(a),dt=ot?Object.keys(ot)[0]:void 0,st=getLoaderMatchesUntilBoundary(s,dt).filter(($,_t)=>{if($.route.lazy)return!0;if($.route.loader==null)return!1;if(isNewLoader(i.loaderData,i.matches[_t],$)||d.some(j=>j===$.route.id))return!0;let At=i.matches[_t],ft=$;return shouldRevalidateLoader($,_extends$3({currentUrl:rt,currentParams:At.params,nextUrl:it,nextParams:ft.params},o,{actionResult:ut,defaultShouldRevalidate:c||rt.pathname+rt.search===it.pathname+it.search||rt.search!==it.search||isNewRouteInstance(At,ft)}))}),nt=[];return g.forEach(($,_t)=>{if(!s.some(at=>at.route.id===$.routeId))return;let At=matchRoutes(b,$.path,_);if(!At){nt.push({key:_t,routeId:$.routeId,path:$.path,matches:null,match:null,controller:null});return}let ft=getTargetMatch(At,$.path);if(h.includes(_t)){nt.push({key:_t,routeId:$.routeId,path:$.path,matches:At,match:ft,controller:new AbortController});return}shouldRevalidateLoader(ft,_extends$3({currentUrl:rt,currentParams:i.matches[i.matches.length-1].params,nextUrl:it,nextParams:s[s.length-1].params},o,{actionResult:ut,defaultShouldRevalidate:c}))&&nt.push({key:_t,routeId:$.routeId,path:$.path,matches:At,match:ft,controller:new AbortController})}),[st,nt]}function isNewLoader(e,i,s){let o=!i||s.route.id!==i.route.id,a=e[s.route.id]===void 0;return o||a}function isNewRouteInstance(e,i){let s=e.route.path;return e.pathname!==i.pathname||s!=null&&s.endsWith("*")&&e.params["*"]!==i.params["*"]}function shouldRevalidateLoader(e,i){if(e.route.shouldRevalidate){let s=e.route.shouldRevalidate(i);if(typeof s=="boolean")return s}return i.defaultShouldRevalidate}async function loadLazyRouteModule(e,i,s){if(!e.lazy)return;let o=await e.lazy();if(!e.lazy)return;let a=s[e.id];invariant(a,"No route found in manifest");let c={};for(let d in o){let g=a[d]!==void 0&&d!=="hasErrorBoundary";warning(!g,'Route "'+a.id+'" has a static property "'+d+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+d+'" will be ignored.')),!g&&!immutableRouteKeys.has(d)&&(c[d]=o[d])}Object.assign(a,c),Object.assign(a,_extends$3({},i(a),{lazy:void 0}))}async function callLoaderOrAction(e,i,s,o,a,c,d,h,g,b){h===void 0&&(h=!1),g===void 0&&(g=!1);let _,_e,ot,ut=dt=>{let tt,st=new Promise((nt,$)=>tt=$);return ot=()=>tt(),i.signal.addEventListener("abort",ot),Promise.race([dt({request:i,params:s.params,context:b}),st])};try{let dt=s.route[e];if(s.route.lazy)if(dt)_e=(await Promise.all([ut(dt),loadLazyRouteModule(s.route,c,a)]))[0];else if(await loadLazyRouteModule(s.route,c,a),dt=s.route[e],dt)_e=await ut(dt);else if(e==="action"){let tt=new URL(i.url),st=tt.pathname+tt.search;throw getInternalRouterError(405,{method:i.method,pathname:st,routeId:s.route.id})}else return{type:ResultType.data,data:void 0};else if(dt)_e=await ut(dt);else{let tt=new URL(i.url),st=tt.pathname+tt.search;throw getInternalRouterError(404,{pathname:st})}invariant(_e!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+s.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(dt){_=ResultType.error,_e=dt}finally{ot&&i.signal.removeEventListener("abort",ot)}if(isResponse(_e)){let dt=_e.status;if(redirectStatusCodes.has(dt)){let nt=_e.headers.get("Location");if(invariant(nt,"Redirects returned/thrown from loaders/actions must have a Location header"),!ABSOLUTE_URL_REGEX.test(nt))nt=normalizeTo(new URL(i.url),o.slice(0,o.indexOf(s)+1),d,!0,nt);else if(!h){let $=new URL(i.url),_t=nt.startsWith("//")?new URL($.protocol+nt):new URL(nt),At=stripBasename(_t.pathname,d)!=null;_t.origin===$.origin&&At&&(nt=_t.pathname+_t.search+_t.hash)}if(h)throw _e.headers.set("Location",nt),_e;return{type:ResultType.redirect,status:dt,location:nt,revalidate:_e.headers.get("X-Remix-Revalidate")!==null}}if(g)throw{type:_||ResultType.data,response:_e};let tt,st=_e.headers.get("Content-Type");return st&&/\bapplication\/json\b/.test(st)?tt=await _e.json():tt=await _e.text(),_===ResultType.error?{type:_,error:new ErrorResponse(dt,_e.statusText,tt),headers:_e.headers}:{type:ResultType.data,data:tt,statusCode:_e.status,headers:_e.headers}}if(_===ResultType.error)return{type:_,error:_e};if(isDeferredData(_e)){var rt,it;return{type:ResultType.deferred,deferredData:_e,statusCode:(rt=_e.init)==null?void 0:rt.status,headers:((it=_e.init)==null?void 0:it.headers)&&new Headers(_e.init.headers)}}return{type:ResultType.data,data:_e}}function createClientSideRequest(e,i,s,o){let a=e.createURL(stripHashFromPath(i)).toString(),c={signal:s};if(o&&isMutationMethod(o.formMethod)){let{formMethod:d,formEncType:h,formData:g}=o;c.method=d.toUpperCase(),c.body=h==="application/x-www-form-urlencoded"?convertFormDataToSearchParams(g):g}return new Request(a,c)}function convertFormDataToSearchParams(e){let i=new URLSearchParams;for(let[s,o]of e.entries())i.append(s,o instanceof File?o.name:o);return i}function processRouteLoaderData(e,i,s,o,a){let c={},d=null,h,g=!1,b={};return s.forEach((_,_e)=>{let ot=i[_e].route.id;if(invariant(!isRedirectResult(_),"Cannot handle redirect results in processLoaderData"),isErrorResult(_)){let ut=findNearestBoundary(e,ot),rt=_.error;o&&(rt=Object.values(o)[0],o=void 0),d=d||{},d[ut.route.id]==null&&(d[ut.route.id]=rt),c[ot]=void 0,g||(g=!0,h=isRouteErrorResponse(_.error)?_.error.status:500),_.headers&&(b[ot]=_.headers)}else isDeferredResult(_)?(a.set(ot,_.deferredData),c[ot]=_.deferredData.data):c[ot]=_.data,_.statusCode!=null&&_.statusCode!==200&&!g&&(h=_.statusCode),_.headers&&(b[ot]=_.headers)}),o&&(d=o,c[Object.keys(o)[0]]=void 0),{loaderData:c,errors:d,statusCode:h||200,loaderHeaders:b}}function processLoaderData(e,i,s,o,a,c,d,h){let{loaderData:g,errors:b}=processRouteLoaderData(i,s,o,a,h);for(let _=0;_<c.length;_++){let{key:_e,match:ot,controller:ut}=c[_];invariant(d!==void 0&&d[_]!==void 0,"Did not find corresponding fetcher result");let rt=d[_];if(!(ut&&ut.signal.aborted))if(isErrorResult(rt)){let it=findNearestBoundary(e.matches,ot==null?void 0:ot.route.id);b&&b[it.route.id]||(b=_extends$3({},b,{[it.route.id]:rt.error})),e.fetchers.delete(_e)}else if(isRedirectResult(rt))invariant(!1,"Unhandled fetcher revalidation redirect");else if(isDeferredResult(rt))invariant(!1,"Unhandled fetcher deferred data");else{let it={state:"idle",data:rt.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};e.fetchers.set(_e,it)}}return{loaderData:g,errors:b}}function mergeLoaderData(e,i,s,o){let a=_extends$3({},i);for(let c of s){let d=c.route.id;if(i.hasOwnProperty(d)?i[d]!==void 0&&(a[d]=i[d]):e[d]!==void 0&&c.route.loader&&(a[d]=e[d]),o&&o.hasOwnProperty(d))break}return a}function findNearestBoundary(e,i){return(i?e.slice(0,e.findIndex(o=>o.route.id===i)+1):[...e]).reverse().find(o=>o.route.hasErrorBoundary===!0)||e[0]}function getShortCircuitMatches(e){let i=e.find(s=>s.index||!s.path||s.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:i}],route:i}}function getInternalRouterError(e,i){let{pathname:s,routeId:o,method:a,type:c}=i===void 0?{}:i,d="Unknown Server Error",h="Unknown @remix-run/router error";return e===400?(d="Bad Request",a&&s&&o?h="You made a "+a+' request to "'+s+'" but '+('did not provide a `loader` for route "'+o+'", ')+"so there is no way to handle the request.":c==="defer-action"&&(h="defer() is not supported in actions")):e===403?(d="Forbidden",h='Route "'+o+'" does not match URL "'+s+'"'):e===404?(d="Not Found",h='No route matches URL "'+s+'"'):e===405&&(d="Method Not Allowed",a&&s&&o?h="You made a "+a.toUpperCase()+' request to "'+s+'" but '+('did not provide an `action` for route "'+o+'", ')+"so there is no way to handle the request.":a&&(h='Invalid request method "'+a.toUpperCase()+'"')),new ErrorResponse(e||500,d,new Error(h),!0)}function findRedirect(e){for(let i=e.length-1;i>=0;i--){let s=e[i];if(isRedirectResult(s))return s}}function stripHashFromPath(e){let i=typeof e=="string"?parsePath(e):e;return createPath(_extends$3({},i,{hash:""}))}function isHashChangeOnly(e,i){return e.pathname!==i.pathname||e.search!==i.search?!1:e.hash===""?i.hash!=="":e.hash===i.hash?!0:i.hash!==""}function isDeferredResult(e){return e.type===ResultType.deferred}function isErrorResult(e){return e.type===ResultType.error}function isRedirectResult(e){return(e&&e.type)===ResultType.redirect}function isDeferredData(e){let i=e;return i&&typeof i=="object"&&typeof i.data=="object"&&typeof i.subscribe=="function"&&typeof i.cancel=="function"&&typeof i.resolveData=="function"}function isResponse(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function isValidMethod(e){return validRequestMethods.has(e.toLowerCase())}function isMutationMethod(e){return validMutationMethods.has(e.toLowerCase())}async function resolveDeferredResults(e,i,s,o,a,c){for(let d=0;d<s.length;d++){let h=s[d],g=i[d];if(!g)continue;let b=e.find(_e=>_e.route.id===g.route.id),_=b!=null&&!isNewRouteInstance(b,g)&&(c&&c[g.route.id])!==void 0;if(isDeferredResult(h)&&(a||_)){let _e=o[d];invariant(_e,"Expected an AbortSignal for revalidating fetcher deferred result"),await resolveDeferredData(h,_e,a).then(ot=>{ot&&(s[d]=ot||s[d])})}}}async function resolveDeferredData(e,i,s){if(s===void 0&&(s=!1),!await e.deferredData.resolveData(i)){if(s)try{return{type:ResultType.data,data:e.deferredData.unwrappedData}}catch(a){return{type:ResultType.error,error:a}}return{type:ResultType.data,data:e.deferredData.data}}}function hasNakedIndexQuery(e){return new URLSearchParams(e).getAll("index").some(i=>i==="")}function createUseMatchesMatch(e,i){let{route:s,pathname:o,params:a}=e;return{id:s.id,pathname:o,params:a,data:i[s.id],handle:s.handle}}function getTargetMatch(e,i){let s=typeof i=="string"?parsePath(i).search:i.search;if(e[e.length-1].route.index&&hasNakedIndexQuery(s||""))return e[e.length-1];let o=getPathContributingMatches(e);return o[o.length-1]}/**
 * React Router v6.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},_extends$2.apply(this,arguments)}const START_TRANSITION="startTransition";var startTransitionImpl=React$1[START_TRANSITION];const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useRoutesImpl(e,i,s){useInRouterContext()||invariant(!1);let{navigator:o}=reactExports.useContext(NavigationContext),{matches:a}=reactExports.useContext(RouteContext),c=a[a.length-1],d=c?c.params:{};c&&c.pathname;let h=c?c.pathnameBase:"/";c&&c.route;let g=useLocation(),b;if(i){var _;let it=typeof i=="string"?parsePath(i):i;h==="/"||(_=it.pathname)!=null&&_.startsWith(h)||invariant(!1),b=it}else b=g;let _e=b.pathname||"/",ot=h==="/"?_e:_e.slice(h.length)||"/",ut=matchRoutes(e,{pathname:ot}),rt=_renderMatches(ut&&ut.map(it=>Object.assign({},it,{params:Object.assign({},d,it.params),pathname:joinPaths([h,o.encodeLocation?o.encodeLocation(it.pathname).pathname:it.pathname]),pathnameBase:it.pathnameBase==="/"?h:joinPaths([h,o.encodeLocation?o.encodeLocation(it.pathnameBase).pathname:it.pathnameBase])})),a,s);return i&&rt?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$2({pathname:"/",search:"",hash:"",state:null,key:"default"},b),navigationType:Action.Pop}},rt):rt}function DefaultErrorComponent(){let e=useRouteError(),i=isRouteErrorResponse(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},c=null;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},i),s?reactExports.createElement("pre",{style:a},s):null,c)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,s){return s.location!==i.location||s.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error||s.error,location:s.location,revalidation:i.revalidation||s.revalidation}}componentDidCatch(i,s){console.error("React Router caught the following error during render",i,s)}render(){return this.state.error?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(e){let{routeContext:i,match:s,children:o}=e,a=reactExports.useContext(DataRouterContext);return a&&a.static&&a.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=s.route.id),reactExports.createElement(RouteContext.Provider,{value:i},o)}function _renderMatches(e,i,s){var o;if(i===void 0&&(i=[]),s===void 0&&(s=null),e==null){var a;if((a=s)!=null&&a.errors)e=s.matches;else return null}let c=e,d=(o=s)==null?void 0:o.errors;if(d!=null){let h=c.findIndex(g=>g.route.id&&(d==null?void 0:d[g.route.id]));h>=0||invariant(!1),c=c.slice(0,Math.min(c.length,h+1))}return c.reduceRight((h,g,b)=>{let _=g.route.id?d==null?void 0:d[g.route.id]:null,_e=null;s&&(_e=g.route.errorElement||defaultErrorElement);let ot=i.concat(c.slice(0,b+1)),ut=()=>{let rt;return _?rt=_e:g.route.Component?rt=reactExports.createElement(g.route.Component,null):g.route.element?rt=g.route.element:rt=h,reactExports.createElement(RenderedRoute,{match:g,routeContext:{outlet:h,matches:ot,isDataRoute:s!=null},children:rt})};return s&&(g.route.ErrorBoundary||g.route.errorElement||b===0)?reactExports.createElement(RenderErrorBoundary,{location:s.location,revalidation:s.revalidation,component:_e,error:_,children:ut(),routeContext:{outlet:null,matches:ot,isDataRoute:!0}}):ut()},null)}var DataRouterHook$1;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"})(DataRouterHook$1||(DataRouterHook$1={}));var DataRouterStateHook$1;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"})(DataRouterStateHook$1||(DataRouterStateHook$1={}));function useDataRouterState(e){let i=reactExports.useContext(DataRouterStateContext);return i||invariant(!1),i}function useRouteContext(e){let i=reactExports.useContext(RouteContext);return i||invariant(!1),i}function useCurrentRouteId(e){let i=useRouteContext(),s=i.matches[i.matches.length-1];return s.route.id||invariant(!1),s.route.id}function useRouteError(){var e;let i=reactExports.useContext(RouteErrorContext),s=useDataRouterState(DataRouterStateHook$1.UseRouteError),o=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return i||((e=s.errors)==null?void 0:e[o])}function RouterProvider(e){let{fallbackElement:i,router:s,future:o}=e,[a,c]=reactExports.useState(s.state),{v7_startTransition:d}=o||{},h=reactExports.useCallback(_e=>{d&&startTransitionImpl?startTransitionImpl(()=>c(_e)):c(_e)},[c,d]);reactExports.useLayoutEffect(()=>s.subscribe(h),[s,h]);let g=reactExports.useMemo(()=>({createHref:s.createHref,encodeLocation:s.encodeLocation,go:_e=>s.navigate(_e),push:(_e,ot,ut)=>s.navigate(_e,{state:ot,preventScrollReset:ut==null?void 0:ut.preventScrollReset}),replace:(_e,ot,ut)=>s.navigate(_e,{replace:!0,state:ot,preventScrollReset:ut==null?void 0:ut.preventScrollReset})}),[s]),b=s.basename||"/",_=reactExports.useMemo(()=>({router:s,navigator:g,static:!1,basename:b}),[s,g,b]);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(DataRouterContext.Provider,{value:_},reactExports.createElement(DataRouterStateContext.Provider,{value:a},reactExports.createElement(Router,{basename:b,location:a.location,navigationType:a.historyAction,navigator:g},a.initialized?reactExports.createElement(DataRoutes,{routes:s.routes,state:a}):i))),null)}function DataRoutes(e){let{routes:i,state:s}=e;return useRoutesImpl(i,void 0,s)}function Router(e){let{basename:i="/",children:s=null,location:o,navigationType:a=Action.Pop,navigator:c,static:d=!1}=e;useInRouterContext()&&invariant(!1);let h=i.replace(/^\/*/,"/"),g=reactExports.useMemo(()=>({basename:h,navigator:c,static:d}),[h,c,d]);typeof o=="string"&&(o=parsePath(o));let{pathname:b="/",search:_="",hash:_e="",state:ot=null,key:ut="default"}=o,rt=reactExports.useMemo(()=>{let it=stripBasename(b,h);return it==null?null:{location:{pathname:it,search:_,hash:_e,state:ot,key:ut},navigationType:a}},[h,b,_,_e,ot,ut,a]);return rt==null?null:reactExports.createElement(NavigationContext.Provider,{value:g},reactExports.createElement(LocationContext.Provider,{children:s,value:rt}))}var AwaitRenderStatus;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(AwaitRenderStatus||(AwaitRenderStatus={}));new Promise(()=>{});function mapRouteProperties(e){let i={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(i,{element:reactExports.createElement(e.Component),Component:void 0}),e.ErrorBoundary&&Object.assign(i,{errorElement:reactExports.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),i}/**
 * React Router DOM v6.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},_extends$1.apply(this,arguments)}function createBrowserRouter(e,i){return createRouter({basename:i==null?void 0:i.basename,future:_extends$1({},i==null?void 0:i.future,{v7_prependBasename:!0}),history:createBrowserHistory({window:i==null?void 0:i.window}),hydrationData:(i==null?void 0:i.hydrationData)||parseHydrationData(),routes:e,mapRouteProperties}).initialize()}function parseHydrationData(){var e;let i=(e=window)==null?void 0:e.__staticRouterHydrationData;return i&&i.errors&&(i=_extends$1({},i,{errors:deserializeErrors(i.errors)})),i}function deserializeErrors(e){if(!e)return null;let i=Object.entries(e),s={};for(let[o,a]of i)if(a&&a.__type==="RouteErrorResponse")s[o]=new ErrorResponse(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){let c=new Error(a.message);c.stack="",s[o]=c}else s[o]=a;return s}var DataRouterHook;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function isPlainObject(e){return e!==null&&typeof e=="object"&&e.constructor===Object}function deepClone(e){if(!isPlainObject(e))return e;const i={};return Object.keys(e).forEach(s=>{i[s]=deepClone(e[s])}),i}function deepmerge(e,i,s={clone:!0}){const o=s.clone?{...e}:e;return isPlainObject(e)&&isPlainObject(i)&&Object.keys(i).forEach(a=>{a!=="__proto__"&&(isPlainObject(i[a])&&a in e&&isPlainObject(e[a])?o[a]=deepmerge(e[a],i[a],s):s.clone?o[a]=isPlainObject(i[a])?deepClone(i[a]):i[a]:o[a]=i[a])}),o}function formatMuiErrorMessage(e){let i="https://mui.com/production-error/?code="+e;for(let s=1;s<arguments.length;s+=1)i+="&args[]="+encodeURIComponent(arguments[s]);return"Minified MUI error #"+e+"; visit "+i+" for the full message."}function capitalize(e){if(typeof e!="string")throw new Error(formatMuiErrorMessage(7));return e.charAt(0).toUpperCase()+e.slice(1)}const useEnhancedEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,useEnhancedEffect$1=useEnhancedEffect;function resolveProps(e,i){const s={...i};return Object.keys(e).forEach(o=>{if(o.toString().match(/^(components|slots)$/))s[o]={...e[o],...s[o]};else if(o.toString().match(/^(componentsProps|slotProps)$/)){const a=e[o]||{},c=i[o];s[o]={},!c||!Object.keys(c)?s[o]=a:!a||!Object.keys(a)?s[o]=c:(s[o]={...c},Object.keys(a).forEach(d=>{s[o][d]=resolveProps(a[d],c[d])}))}else s[o]===void 0&&(s[o]=e[o])}),s}const THEME_ID="$$material";function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(e,i){if(e==null)return{};var s={},o=Object.keys(e),a,c;for(c=0;c<o.length;c++)a=o[c],!(i.indexOf(a)>=0)&&(s[a]=e[a]);return s}function sheetForTag(e){if(e.sheet)return e.sheet;for(var i=0;i<document.styleSheets.length;i++)if(document.styleSheets[i].ownerNode===e)return document.styleSheets[i]}function createStyleElement(e){var i=document.createElement("style");return i.setAttribute("data-emotion",e.key),e.nonce!==void 0&&i.setAttribute("nonce",e.nonce),i.appendChild(document.createTextNode("")),i.setAttribute("data-s",""),i}var StyleSheet=function(){function e(s){var o=this;this._insertTag=function(a){var c;o.tags.length===0?o.insertionPoint?c=o.insertionPoint.nextSibling:o.prepend?c=o.container.firstChild:c=o.before:c=o.tags[o.tags.length-1].nextSibling,o.container.insertBefore(a,c),o.tags.push(a)},this.isSpeedy=s.speedy===void 0?!0:s.speedy,this.tags=[],this.ctr=0,this.nonce=s.nonce,this.key=s.key,this.container=s.container,this.prepend=s.prepend,this.insertionPoint=s.insertionPoint,this.before=null}var i=e.prototype;return i.hydrate=function(o){o.forEach(this._insertTag)},i.insert=function(o){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var c=sheetForTag(a);try{c.insertRule(o,c.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(o));this.ctr++},i.flush=function(){this.tags.forEach(function(o){return o.parentNode&&o.parentNode.removeChild(o)}),this.tags=[],this.ctr=0},e}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash(e,i){return charat(e,0)^45?(((i<<2^charat(e,0))<<2^charat(e,1))<<2^charat(e,2))<<2^charat(e,3):0}function trim(e){return e.trim()}function match(e,i){return(e=i.exec(e))?e[0]:e}function replace(e,i,s){return e.replace(i,s)}function indexof(e,i){return e.indexOf(i)}function charat(e,i){return e.charCodeAt(i)|0}function substr(e,i,s){return e.slice(i,s)}function strlen(e){return e.length}function sizeof(e){return e.length}function append(e,i){return i.push(e),e}function combine(e,i){return e.map(i).join("")}var line=1,column=1,length=0,position=0,character=0,characters="";function node(e,i,s,o,a,c,d){return{value:e,root:i,parent:s,type:o,props:a,children:c,line,column,length:d,return:""}}function copy(e,i){return assign(node("",null,null,"",null,null,0),e,{length:-e.length},i)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(e,i){return substr(characters,e,i)}function token(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(e){return line=column=1,length=strlen(characters=e),position=0,[]}function dealloc(e){return characters="",e}function delimit(e){return trim(slice(position-1,delimiter(e===91?e+2:e===40?e+1:e)))}function whitespace(e){for(;(character=peek())&&character<33;)next();return token(e)>2||token(character)>3?"":" "}function escaping(e,i){for(;--i&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(e,caret()+(i<6&&peek()==32&&next()==32))}function delimiter(e){for(;next();)switch(character){case e:return position;case 34:case 39:e!==34&&e!==39&&delimiter(character);break;case 40:e===41&&delimiter(e);break;case 92:next();break}return position}function commenter(e,i){for(;next()&&e+character!==47+10;)if(e+character===42+42&&peek()===47)break;return"/*"+slice(i,position-1)+"*"+from(e===47?e:next())}function identifier(e){for(;!token(peek());)next();return slice(e,position)}function compile(e){return dealloc(parse("",null,null,null,[""],e=alloc(e),0,[0],e))}function parse(e,i,s,o,a,c,d,h,g){for(var b=0,_=0,_e=d,ot=0,ut=0,rt=0,it=1,dt=1,tt=1,st=0,nt="",$=a,_t=c,At=o,ft=nt;dt;)switch(rt=st,st=next()){case 40:if(rt!=108&&charat(ft,_e-1)==58){indexof(ft+=replace(delimit(st),"&","&\f"),"&\f")!=-1&&(tt=-1);break}case 34:case 39:case 91:ft+=delimit(st);break;case 9:case 10:case 13:case 32:ft+=whitespace(rt);break;case 92:ft+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),i,s),g);break;default:ft+="/"}break;case 123*it:h[b++]=strlen(ft)*tt;case 125*it:case 59:case 0:switch(st){case 0:case 125:dt=0;case 59+_:tt==-1&&(ft=replace(ft,/\f/g,"")),ut>0&&strlen(ft)-_e&&append(ut>32?declaration(ft+";",o,s,_e-1):declaration(replace(ft," ","")+";",o,s,_e-2),g);break;case 59:ft+=";";default:if(append(At=ruleset(ft,i,s,b,_,a,h,nt,$=[],_t=[],_e),c),st===123)if(_===0)parse(ft,i,At,At,$,c,_e,h,_t);else switch(ot===99&&charat(ft,3)===110?100:ot){case 100:case 108:case 109:case 115:parse(e,At,At,o&&append(ruleset(e,At,At,0,0,a,h,nt,a,$=[],_e),_t),a,_t,_e,h,o?$:_t);break;default:parse(ft,At,At,At,[""],_t,0,h,_t)}}b=_=ut=0,it=tt=1,nt=ft="",_e=d;break;case 58:_e=1+strlen(ft),ut=rt;default:if(it<1){if(st==123)--it;else if(st==125&&it++==0&&prev()==125)continue}switch(ft+=from(st),st*it){case 38:tt=_>0?1:(ft+="\f",-1);break;case 44:h[b++]=(strlen(ft)-1)*tt,tt=1;break;case 64:peek()===45&&(ft+=delimit(next())),ot=peek(),_=_e=strlen(nt=ft+=identifier(caret())),st++;break;case 45:rt===45&&strlen(ft)==2&&(it=0)}}return c}function ruleset(e,i,s,o,a,c,d,h,g,b,_){for(var _e=a-1,ot=a===0?c:[""],ut=sizeof(ot),rt=0,it=0,dt=0;rt<o;++rt)for(var tt=0,st=substr(e,_e+1,_e=abs(it=d[rt])),nt=e;tt<ut;++tt)(nt=trim(it>0?ot[tt]+" "+st:replace(st,/&\f/g,ot[tt])))&&(g[dt++]=nt);return node(e,i,s,a===0?RULESET:h,g,b,_)}function comment(e,i,s){return node(e,i,s,COMMENT,from(char()),substr(e,2,-2),0)}function declaration(e,i,s,o){return node(e,i,s,DECLARATION,substr(e,0,o),substr(e,o+1,-1),o)}function serialize(e,i){for(var s="",o=sizeof(e),a=0;a<o;a++)s+=i(e[a],a,e,i)||"";return s}function stringify(e,i,s,o){switch(e.type){case LAYER:if(e.children.length)break;case IMPORT:case DECLARATION:return e.return=e.return||e.value;case COMMENT:return"";case KEYFRAMES:return e.return=e.value+"{"+serialize(e.children,o)+"}";case RULESET:e.value=e.props.join(",")}return strlen(s=serialize(e.children,o))?e.return=e.value+"{"+s+"}":""}function middleware(e){var i=sizeof(e);return function(s,o,a,c){for(var d="",h=0;h<i;h++)d+=e[h](s,o,a,c)||"";return d}}function rulesheet(e){return function(i){i.root||(i=i.return)&&e(i)}}var identifierWithPointTracking=function(i,s,o){for(var a=0,c=0;a=c,c=peek(),a===38&&c===12&&(s[o]=1),!token(c);)next();return slice(i,position)},toRules=function(i,s){var o=-1,a=44;do switch(token(a)){case 0:a===38&&peek()===12&&(s[o]=1),i[o]+=identifierWithPointTracking(position-1,s,o);break;case 2:i[o]+=delimit(a);break;case 4:if(a===44){i[++o]=peek()===58?"&\f":"",s[o]=i[o].length;break}default:i[o]+=from(a)}while(a=next());return i},getRules=function(i,s){return dealloc(toRules(alloc(i),s))},fixedElements=new WeakMap,compat=function(i){if(!(i.type!=="rule"||!i.parent||i.length<1)){for(var s=i.value,o=i.parent,a=i.column===o.column&&i.line===o.line;o.type!=="rule";)if(o=o.parent,!o)return;if(!(i.props.length===1&&s.charCodeAt(0)!==58&&!fixedElements.get(o))&&!a){fixedElements.set(i,!0);for(var c=[],d=getRules(s,c),h=o.props,g=0,b=0;g<d.length;g++)for(var _=0;_<h.length;_++,b++)i.props[b]=c[g]?d[g].replace(/&\f/g,h[_]):h[_]+" "+d[g]}}},removeLabel=function(i){if(i.type==="decl"){var s=i.value;s.charCodeAt(0)===108&&s.charCodeAt(2)===98&&(i.return="",i.value="")}};function prefix(e,i){switch(hash(e,i)){case 5103:return WEBKIT+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+e+MOZ+e+MS+e+e;case 6828:case 4268:return WEBKIT+e+MS+e+e;case 6165:return WEBKIT+e+MS+"flex-"+e+e;case 5187:return WEBKIT+e+replace(e,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+e;case 5443:return WEBKIT+e+MS+"flex-item-"+replace(e,/flex-|-self/,"")+e;case 4675:return WEBKIT+e+MS+"flex-line-pack"+replace(e,/align-content|flex-|-self/,"")+e;case 5548:return WEBKIT+e+MS+replace(e,"shrink","negative")+e;case 5292:return WEBKIT+e+MS+replace(e,"basis","preferred-size")+e;case 6060:return WEBKIT+"box-"+replace(e,"-grow","")+WEBKIT+e+MS+replace(e,"grow","positive")+e;case 4554:return WEBKIT+replace(e,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+e;case 6187:return replace(replace(replace(e,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),e,"")+e;case 5495:case 3959:return replace(e,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(e,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+e+e;case 4095:case 3583:case 4068:case 2532:return replace(e,/(.+)-inline(.+)/,WEBKIT+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(e)-1-i>6)switch(charat(e,i+1)){case 109:if(charat(e,i+4)!==45)break;case 102:return replace(e,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(e,i+3)==108?"$3":"$2-$3"))+e;case 115:return~indexof(e,"stretch")?prefix(replace(e,"stretch","fill-available"),i)+e:e}break;case 4949:if(charat(e,i+1)!==115)break;case 6444:switch(charat(e,strlen(e)-3-(~indexof(e,"!important")&&10))){case 107:return replace(e,":",":"+WEBKIT)+e;case 101:return replace(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(e,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+e}break;case 5936:switch(charat(e,i+11)){case 114:return WEBKIT+e+MS+replace(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return WEBKIT+e+MS+replace(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return WEBKIT+e+MS+replace(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return WEBKIT+e+MS+e+e}return e}var prefixer=function(i,s,o,a){if(i.length>-1&&!i.return)switch(i.type){case DECLARATION:i.return=prefix(i.value,i.length);break;case KEYFRAMES:return serialize([copy(i,{value:replace(i.value,"@","@"+WEBKIT)})],a);case RULESET:if(i.length)return combine(i.props,function(c){switch(match(c,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(i,{props:[replace(c,/:(read-\w+)/,":"+MOZ+"$1")]})],a);case"::placeholder":return serialize([copy(i,{props:[replace(c,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(i,{props:[replace(c,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(i,{props:[replace(c,/:(plac\w+)/,MS+"input-$1")]})],a)}return""})}},defaultStylisPlugins=[prefixer],createCache=function(i){var s=i.key;if(s==="css"){var o=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(o,function(it){var dt=it.getAttribute("data-emotion");dt.indexOf(" ")!==-1&&(document.head.appendChild(it),it.setAttribute("data-s",""))})}var a=i.stylisPlugins||defaultStylisPlugins,c={},d,h=[];d=i.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+s+' "]'),function(it){for(var dt=it.getAttribute("data-emotion").split(" "),tt=1;tt<dt.length;tt++)c[dt[tt]]=!0;h.push(it)});var g,b=[compat,removeLabel];{var _,_e=[stringify,rulesheet(function(it){_.insert(it)})],ot=middleware(b.concat(a,_e)),ut=function(dt){return serialize(compile(dt),ot)};g=function(dt,tt,st,nt){_=st,ut(dt?dt+"{"+tt.styles+"}":tt.styles),nt&&(rt.inserted[tt.name]=!0)}}var rt={key:s,sheet:new StyleSheet({key:s,container:d,nonce:i.nonce,speedy:i.speedy,prepend:i.prepend,insertionPoint:i.insertionPoint}),nonce:i.nonce,inserted:c,registered:{},insert:g};return rt.sheet.hydrate(h),rt},EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var ThemeContext$2=reactExports.createContext({});const _excluded$6=["values","unit","step"],sortBreakpointsValues=e=>{const i=Object.keys(e).map(s=>({key:s,val:e[s]}))||[];return i.sort((s,o)=>s.val-o.val),i.reduce((s,o)=>_extends({},s,{[o.key]:o.val}),{})};function createBreakpoints(e){const{values:i={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:s="px",step:o=5}=e,a=_objectWithoutPropertiesLoose(e,_excluded$6),c=sortBreakpointsValues(i),d=Object.keys(c);function h(ot){return`@media (min-width:${typeof i[ot]=="number"?i[ot]:ot}${s})`}function g(ot){return`@media (max-width:${(typeof i[ot]=="number"?i[ot]:ot)-o/100}${s})`}function b(ot,ut){const rt=d.indexOf(ut);return`@media (min-width:${typeof i[ot]=="number"?i[ot]:ot}${s}) and (max-width:${(rt!==-1&&typeof i[d[rt]]=="number"?i[d[rt]]:ut)-o/100}${s})`}function _(ot){return d.indexOf(ot)+1<d.length?b(ot,d[d.indexOf(ot)+1]):h(ot)}function _e(ot){const ut=d.indexOf(ot);return ut===0?h(d[1]):ut===d.length-1?g(d[ut]):b(ot,d[d.indexOf(ot)+1]).replace("@media","@media not all and")}return _extends({keys:d,values:c,up:h,down:g,between:b,only:_,not:_e,unit:s},a)}const shape={borderRadius:4},shape$1=shape;function merge(e,i){return i?deepmerge(e,i,{clone:!1}):e}const values={xs:0,sm:600,md:900,lg:1200,xl:1536},defaultBreakpoints={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${values[e]}px)`};function handleBreakpoints(e,i,s){const o=e.theme||{};if(Array.isArray(i)){const c=o.breakpoints||defaultBreakpoints;return i.reduce((d,h,g)=>(d[c.up(c.keys[g])]=s(i[g]),d),{})}if(typeof i=="object"){const c=o.breakpoints||defaultBreakpoints;return Object.keys(i).reduce((d,h)=>{if(Object.keys(c.values||values).indexOf(h)!==-1){const g=c.up(h);d[g]=s(i[h],h)}else{const g=h;d[g]=i[g]}return d},{})}return s(i)}function createEmptyBreakpointObject(e={}){var i;return((i=e.keys)==null?void 0:i.reduce((o,a)=>{const c=e.up(a);return o[c]={},o},{}))||{}}function removeUnusedBreakpoints(e,i){return e.reduce((s,o)=>{const a=s[o];return(!a||Object.keys(a).length===0)&&delete s[o],s},i)}function getPath(e,i,s=!0){if(!i||typeof i!="string")return null;if(e&&e.vars&&s){const o=`vars.${i}`.split(".").reduce((a,c)=>a&&a[c]?a[c]:null,e);if(o!=null)return o}return i.split(".").reduce((o,a)=>o&&o[a]!=null?o[a]:null,e)}function getStyleValue(e,i,s,o=s){let a;return typeof e=="function"?a=e(s):Array.isArray(e)?a=e[s]||o:a=getPath(e,s)||o,i&&(a=i(a,o,e)),a}function style$1(e){const{prop:i,cssProperty:s=e.prop,themeKey:o,transform:a}=e,c=d=>{if(d[i]==null)return null;const h=d[i],g=d.theme,b=getPath(g,o)||{};return handleBreakpoints(d,h,_e=>{let ot=getStyleValue(b,a,_e);return _e===ot&&typeof _e=="string"&&(ot=getStyleValue(b,a,`${i}${_e==="default"?"":capitalize(_e)}`,_e)),s===!1?ot:{[s]:ot}})};return c.propTypes={},c.filterProps=[i],c}function memoize(e){const i={};return s=>(i[s]===void 0&&(i[s]=e(s)),i[s])}const properties={m:"margin",p:"padding"},directions={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},aliases={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},getCssProperties=memoize(e=>{if(e.length>2)if(aliases[e])e=aliases[e];else return[e];const[i,s]=e.split(""),o=properties[i],a=directions[s]||"";return Array.isArray(a)?a.map(c=>o+c):[o+a]}),marginKeys=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],paddingKeys=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...marginKeys,...paddingKeys];function createUnaryUnit(e,i,s,o){var a;const c=(a=getPath(e,i,!1))!=null?a:s;return typeof c=="number"?d=>typeof d=="string"?d:c*d:Array.isArray(c)?d=>typeof d=="string"?d:c[d]:typeof c=="function"?c:()=>{}}function createUnarySpacing(e){return createUnaryUnit(e,"spacing",8)}function getValue(e,i){if(typeof i=="string"||i==null)return i;const s=Math.abs(i),o=e(s);return i>=0?o:typeof o=="number"?-o:`-${o}`}function getStyleFromPropValue(e,i){return s=>e.reduce((o,a)=>(o[a]=getValue(i,s),o),{})}function resolveCssProperty(e,i,s,o){if(i.indexOf(s)===-1)return null;const a=getCssProperties(s),c=getStyleFromPropValue(a,o),d=e[s];return handleBreakpoints(e,d,c)}function style(e,i){const s=createUnarySpacing(e.theme);return Object.keys(e).map(o=>resolveCssProperty(e,i,o,s)).reduce(merge,{})}function margin(e){return style(e,marginKeys)}margin.propTypes={};margin.filterProps=marginKeys;function padding(e){return style(e,paddingKeys)}padding.propTypes={};padding.filterProps=paddingKeys;function createSpacing(e=8){if(e.mui)return e;const i=createUnarySpacing({spacing:e}),s=(...o)=>(o.length===0?[1]:o).map(c=>{const d=i(c);return typeof d=="number"?`${d}px`:d}).join(" ");return s.mui=!0,s}function compose(...e){const i=e.reduce((o,a)=>(a.filterProps.forEach(c=>{o[c]=a}),o),{}),s=o=>Object.keys(o).reduce((a,c)=>i[c]?merge(a,i[c](o)):a,{});return s.propTypes={},s.filterProps=e.reduce((o,a)=>o.concat(a.filterProps),[]),s}function borderTransform(e){return typeof e!="number"?e:`${e}px solid`}const border=style$1({prop:"border",themeKey:"borders",transform:borderTransform}),borderTop=style$1({prop:"borderTop",themeKey:"borders",transform:borderTransform}),borderRight=style$1({prop:"borderRight",themeKey:"borders",transform:borderTransform}),borderBottom=style$1({prop:"borderBottom",themeKey:"borders",transform:borderTransform}),borderLeft=style$1({prop:"borderLeft",themeKey:"borders",transform:borderTransform}),borderColor=style$1({prop:"borderColor",themeKey:"palette"}),borderTopColor=style$1({prop:"borderTopColor",themeKey:"palette"}),borderRightColor=style$1({prop:"borderRightColor",themeKey:"palette"}),borderBottomColor=style$1({prop:"borderBottomColor",themeKey:"palette"}),borderLeftColor=style$1({prop:"borderLeftColor",themeKey:"palette"}),borderRadius=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const i=createUnaryUnit(e.theme,"shape.borderRadius",4),s=o=>({borderRadius:getValue(i,o)});return handleBreakpoints(e,e.borderRadius,s)}return null};borderRadius.propTypes={};borderRadius.filterProps=["borderRadius"];compose(border,borderTop,borderRight,borderBottom,borderLeft,borderColor,borderTopColor,borderRightColor,borderBottomColor,borderLeftColor,borderRadius);const gap=e=>{if(e.gap!==void 0&&e.gap!==null){const i=createUnaryUnit(e.theme,"spacing",8),s=o=>({gap:getValue(i,o)});return handleBreakpoints(e,e.gap,s)}return null};gap.propTypes={};gap.filterProps=["gap"];const columnGap=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const i=createUnaryUnit(e.theme,"spacing",8),s=o=>({columnGap:getValue(i,o)});return handleBreakpoints(e,e.columnGap,s)}return null};columnGap.propTypes={};columnGap.filterProps=["columnGap"];const rowGap=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const i=createUnaryUnit(e.theme,"spacing",8),s=o=>({rowGap:getValue(i,o)});return handleBreakpoints(e,e.rowGap,s)}return null};rowGap.propTypes={};rowGap.filterProps=["rowGap"];const gridColumn=style$1({prop:"gridColumn"}),gridRow=style$1({prop:"gridRow"}),gridAutoFlow=style$1({prop:"gridAutoFlow"}),gridAutoColumns=style$1({prop:"gridAutoColumns"}),gridAutoRows=style$1({prop:"gridAutoRows"}),gridTemplateColumns=style$1({prop:"gridTemplateColumns"}),gridTemplateRows=style$1({prop:"gridTemplateRows"}),gridTemplateAreas=style$1({prop:"gridTemplateAreas"}),gridArea=style$1({prop:"gridArea"});compose(gap,columnGap,rowGap,gridColumn,gridRow,gridAutoFlow,gridAutoColumns,gridAutoRows,gridTemplateColumns,gridTemplateRows,gridTemplateAreas,gridArea);function paletteTransform(e,i){return i==="grey"?i:e}const color=style$1({prop:"color",themeKey:"palette",transform:paletteTransform}),bgcolor=style$1({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:paletteTransform}),backgroundColor=style$1({prop:"backgroundColor",themeKey:"palette",transform:paletteTransform});compose(color,bgcolor,backgroundColor);function sizingTransform(e){return e<=1&&e!==0?`${e*100}%`:e}const width=style$1({prop:"width",transform:sizingTransform}),maxWidth=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const i=s=>{var o,a,c;return{maxWidth:((o=e.theme)==null||(a=o.breakpoints)==null||(c=a.values)==null?void 0:c[s])||values[s]||sizingTransform(s)}};return handleBreakpoints(e,e.maxWidth,i)}return null};maxWidth.filterProps=["maxWidth"];const minWidth=style$1({prop:"minWidth",transform:sizingTransform}),height=style$1({prop:"height",transform:sizingTransform}),maxHeight=style$1({prop:"maxHeight",transform:sizingTransform}),minHeight=style$1({prop:"minHeight",transform:sizingTransform});style$1({prop:"size",cssProperty:"width",transform:sizingTransform});style$1({prop:"size",cssProperty:"height",transform:sizingTransform});const boxSizing=style$1({prop:"boxSizing"});compose(width,maxWidth,minWidth,height,maxHeight,minHeight,boxSizing);const defaultSxConfig={border:{themeKey:"borders",transform:borderTransform},borderTop:{themeKey:"borders",transform:borderTransform},borderRight:{themeKey:"borders",transform:borderTransform},borderBottom:{themeKey:"borders",transform:borderTransform},borderLeft:{themeKey:"borders",transform:borderTransform},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:borderRadius},color:{themeKey:"palette",transform:paletteTransform},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:paletteTransform},backgroundColor:{themeKey:"palette",transform:paletteTransform},p:{style:padding},pt:{style:padding},pr:{style:padding},pb:{style:padding},pl:{style:padding},px:{style:padding},py:{style:padding},padding:{style:padding},paddingTop:{style:padding},paddingRight:{style:padding},paddingBottom:{style:padding},paddingLeft:{style:padding},paddingX:{style:padding},paddingY:{style:padding},paddingInline:{style:padding},paddingInlineStart:{style:padding},paddingInlineEnd:{style:padding},paddingBlock:{style:padding},paddingBlockStart:{style:padding},paddingBlockEnd:{style:padding},m:{style:margin},mt:{style:margin},mr:{style:margin},mb:{style:margin},ml:{style:margin},mx:{style:margin},my:{style:margin},margin:{style:margin},marginTop:{style:margin},marginRight:{style:margin},marginBottom:{style:margin},marginLeft:{style:margin},marginX:{style:margin},marginY:{style:margin},marginInline:{style:margin},marginInlineStart:{style:margin},marginInlineEnd:{style:margin},marginBlock:{style:margin},marginBlockStart:{style:margin},marginBlockEnd:{style:margin},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:gap},rowGap:{style:rowGap},columnGap:{style:columnGap},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:sizingTransform},maxWidth:{style:maxWidth},minWidth:{transform:sizingTransform},height:{transform:sizingTransform},maxHeight:{transform:sizingTransform},minHeight:{transform:sizingTransform},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},defaultSxConfig$1=defaultSxConfig;function objectsHaveSameKeys(...e){const i=e.reduce((o,a)=>o.concat(Object.keys(a)),[]),s=new Set(i);return e.every(o=>s.size===Object.keys(o).length)}function callIfFn(e,i){return typeof e=="function"?e(i):e}function unstable_createStyleFunctionSx(){function e(s,o,a,c){const d={[s]:o,theme:a},h=c[s];if(!h)return{[s]:o};const{cssProperty:g=s,themeKey:b,transform:_,style:_e}=h;if(o==null)return null;if(b==="typography"&&o==="inherit")return{[s]:o};const ot=getPath(a,b)||{};return _e?_e(d):handleBreakpoints(d,o,rt=>{let it=getStyleValue(ot,_,rt);return rt===it&&typeof rt=="string"&&(it=getStyleValue(ot,_,`${s}${rt==="default"?"":capitalize(rt)}`,rt)),g===!1?it:{[g]:it}})}function i(s){var o;const{sx:a,theme:c={}}=s||{};if(!a)return null;const d=(o=c.unstable_sxConfig)!=null?o:defaultSxConfig$1;function h(g){let b=g;if(typeof g=="function")b=g(c);else if(typeof g!="object")return g;if(!b)return null;const _=createEmptyBreakpointObject(c.breakpoints),_e=Object.keys(_);let ot=_;return Object.keys(b).forEach(ut=>{const rt=callIfFn(b[ut],c);if(rt!=null)if(typeof rt=="object")if(d[ut])ot=merge(ot,e(ut,rt,c,d));else{const it=handleBreakpoints({theme:c},rt,dt=>({[ut]:dt}));objectsHaveSameKeys(it,rt)?ot[ut]=i({sx:rt,theme:c}):ot=merge(ot,it)}else ot=merge(ot,e(ut,rt,c,d))}),removeUnusedBreakpoints(_e,ot)}return Array.isArray(a)?a.map(h):h(a)}return i}const styleFunctionSx=unstable_createStyleFunctionSx();styleFunctionSx.filterProps=["sx"];const styleFunctionSx$1=styleFunctionSx,_excluded$5=["breakpoints","palette","spacing","shape"];function createTheme$1(e={},...i){const{breakpoints:s={},palette:o={},spacing:a,shape:c={}}=e,d=_objectWithoutPropertiesLoose(e,_excluded$5),h=createBreakpoints(s),g=createSpacing(a);let b=deepmerge({breakpoints:h,direction:"ltr",components:{},palette:_extends({mode:"light"},o),spacing:g,shape:_extends({},shape$1,c)},d);return b=i.reduce((_,_e)=>deepmerge(_,_e),b),b.unstable_sxConfig=_extends({},defaultSxConfig$1,d==null?void 0:d.unstable_sxConfig),b.unstable_sx=function(_e){return styleFunctionSx$1({sx:_e,theme:this})},b}function isObjectEmpty(e){return Object.keys(e).length===0}function useTheme$1(e=null){const i=reactExports.useContext(ThemeContext$2);return!i||isObjectEmpty(i)?e:i}function getThemeProps(e){const{theme:i,name:s,props:o}=e;return!i||!i.components||!i.components[s]||!i.components[s].defaultProps?o:resolveProps(i.components[s].defaultProps,o)}function clamp(e,i=0,s=1){return Math.min(Math.max(i,e),s)}function hexToRgb(e){e=e.slice(1);const i=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let s=e.match(i);return s&&s[0].length===1&&(s=s.map(o=>o+o)),s?`rgb${s.length===4?"a":""}(${s.map((o,a)=>a<3?parseInt(o,16):Math.round(parseInt(o,16)/255*1e3)/1e3).join(", ")})`:""}function decomposeColor(e){if(e.type)return e;if(e.charAt(0)==="#")return decomposeColor(hexToRgb(e));const i=e.indexOf("("),s=e.substring(0,i);if(["rgb","rgba","hsl","hsla","color"].indexOf(s)===-1)throw new Error(formatMuiErrorMessage(9,e));let o=e.substring(i+1,e.length-1),a;if(s==="color"){if(o=o.split(" "),a=o.shift(),o.length===4&&o[3].charAt(0)==="/"&&(o[3]=o[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(a)===-1)throw new Error(formatMuiErrorMessage(10,a))}else o=o.split(",");return o=o.map(c=>parseFloat(c)),{type:s,values:o,colorSpace:a}}function recomposeColor(e){const{type:i,colorSpace:s}=e;let{values:o}=e;return i.indexOf("rgb")!==-1?o=o.map((a,c)=>c<3?parseInt(a,10):a):i.indexOf("hsl")!==-1&&(o[1]=`${o[1]}%`,o[2]=`${o[2]}%`),i.indexOf("color")!==-1?o=`${s} ${o.join(" ")}`:o=`${o.join(", ")}`,`${i}(${o})`}function hslToRgb(e){e=decomposeColor(e);const{values:i}=e,s=i[0],o=i[1]/100,a=i[2]/100,c=o*Math.min(a,1-a),d=(b,_=(b+s/30)%12)=>a-c*Math.max(Math.min(_-3,9-_,1),-1);let h="rgb";const g=[Math.round(d(0)*255),Math.round(d(8)*255),Math.round(d(4)*255)];return e.type==="hsla"&&(h+="a",g.push(i[3])),recomposeColor({type:h,values:g})}function getLuminance(e){e=decomposeColor(e);let i=e.type==="hsl"||e.type==="hsla"?decomposeColor(hslToRgb(e)).values:e.values;return i=i.map(s=>(e.type!=="color"&&(s/=255),s<=.03928?s/12.92:((s+.055)/1.055)**2.4)),Number((.2126*i[0]+.7152*i[1]+.0722*i[2]).toFixed(3))}function getContrastRatio(e,i){const s=getLuminance(e),o=getLuminance(i);return(Math.max(s,o)+.05)/(Math.min(s,o)+.05)}function darken(e,i){if(e=decomposeColor(e),i=clamp(i),e.type.indexOf("hsl")!==-1)e.values[2]*=1-i;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let s=0;s<3;s+=1)e.values[s]*=1-i;return recomposeColor(e)}function lighten(e,i){if(e=decomposeColor(e),i=clamp(i),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*i;else if(e.type.indexOf("rgb")!==-1)for(let s=0;s<3;s+=1)e.values[s]+=(255-e.values[s])*i;else if(e.type.indexOf("color")!==-1)for(let s=0;s<3;s+=1)e.values[s]+=(1-e.values[s])*i;return recomposeColor(e)}const ThemeContext=reactExports.createContext(null),ThemeContext$1=ThemeContext;function useTheme(){return reactExports.useContext(ThemeContext$1)}const hasSymbol=typeof Symbol=="function"&&Symbol.for,nested=hasSymbol?Symbol.for("mui.nested"):"__THEME_NESTED__";function mergeOuterLocalTheme(e,i){return typeof i=="function"?i(e):{...e,...i}}function ThemeProvider$2(e){const{children:i,theme:s}=e,o=useTheme(),a=reactExports.useMemo(()=>{const c=o===null?s:mergeOuterLocalTheme(o,s);return c!=null&&(c[nested]=o!==null),c},[s,o]);return jsxRuntimeExports.jsx(ThemeContext$1.Provider,{value:a,children:i})}const EMPTY_THEME={};function useThemeScoping(e,i,s,o=!1){return reactExports.useMemo(()=>{const a=e&&i[e]||i;if(typeof s=="function"){const c=s(a),d=e?_extends({},i,{[e]:c}):c;return o?()=>d:d}return e?_extends({},i,{[e]:s}):_extends({},i,s)},[e,i,s,o])}function ThemeProvider$1(e){const{children:i,theme:s,themeId:o}=e,a=useTheme$1(EMPTY_THEME),c=useTheme()||EMPTY_THEME,d=useThemeScoping(o,a,s),h=useThemeScoping(o,c,s,!0);return jsxRuntimeExports.jsx(ThemeProvider$2,{theme:h,children:jsxRuntimeExports.jsx(ThemeContext$2.Provider,{value:d,children:i})})}function createMixins(e,i){return _extends({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},i)}const common={black:"#000",white:"#fff"},common$1=common,grey={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},grey$1=grey,purple={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},purple$1=purple,red={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},red$1=red,orange={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},orange$1=orange,blue={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},blue$1=blue,lightBlue={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},lightBlue$1=lightBlue,green={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},green$1=green,_excluded$4=["mode","contrastThreshold","tonalOffset"],light={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:common$1.white,default:common$1.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},dark={text:{primary:common$1.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:common$1.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function addLightOrDark(e,i,s,o){const a=o.light||o,c=o.dark||o*1.5;e[i]||(e.hasOwnProperty(s)?e[i]=e[s]:i==="light"?e.light=lighten(e.main,a):i==="dark"&&(e.dark=darken(e.main,c)))}function getDefaultPrimary(e="light"){return e==="dark"?{main:blue$1[200],light:blue$1[50],dark:blue$1[400]}:{main:blue$1[700],light:blue$1[400],dark:blue$1[800]}}function getDefaultSecondary(e="light"){return e==="dark"?{main:purple$1[200],light:purple$1[50],dark:purple$1[400]}:{main:purple$1[500],light:purple$1[300],dark:purple$1[700]}}function getDefaultError(e="light"){return e==="dark"?{main:red$1[500],light:red$1[300],dark:red$1[700]}:{main:red$1[700],light:red$1[400],dark:red$1[800]}}function getDefaultInfo(e="light"){return e==="dark"?{main:lightBlue$1[400],light:lightBlue$1[300],dark:lightBlue$1[700]}:{main:lightBlue$1[700],light:lightBlue$1[500],dark:lightBlue$1[900]}}function getDefaultSuccess(e="light"){return e==="dark"?{main:green$1[400],light:green$1[300],dark:green$1[700]}:{main:green$1[800],light:green$1[500],dark:green$1[900]}}function getDefaultWarning(e="light"){return e==="dark"?{main:orange$1[400],light:orange$1[300],dark:orange$1[700]}:{main:"#ed6c02",light:orange$1[500],dark:orange$1[900]}}function createPalette(e){const{mode:i="light",contrastThreshold:s=3,tonalOffset:o=.2}=e,a=_objectWithoutPropertiesLoose(e,_excluded$4),c=e.primary||getDefaultPrimary(i),d=e.secondary||getDefaultSecondary(i),h=e.error||getDefaultError(i),g=e.info||getDefaultInfo(i),b=e.success||getDefaultSuccess(i),_=e.warning||getDefaultWarning(i);function _e(it){return getContrastRatio(it,dark.text.primary)>=s?dark.text.primary:light.text.primary}const ot=({color:it,name:dt,mainShade:tt=500,lightShade:st=300,darkShade:nt=700})=>{if(it=_extends({},it),!it.main&&it[tt]&&(it.main=it[tt]),!it.hasOwnProperty("main"))throw new Error(formatMuiErrorMessage(11,dt?` (${dt})`:"",tt));if(typeof it.main!="string")throw new Error(formatMuiErrorMessage(12,dt?` (${dt})`:"",JSON.stringify(it.main)));return addLightOrDark(it,"light",st,o),addLightOrDark(it,"dark",nt,o),it.contrastText||(it.contrastText=_e(it.main)),it},ut={dark,light};return deepmerge(_extends({common:_extends({},common$1),mode:i,primary:ot({color:c,name:"primary"}),secondary:ot({color:d,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:ot({color:h,name:"error"}),warning:ot({color:_,name:"warning"}),info:ot({color:g,name:"info"}),success:ot({color:b,name:"success"}),grey:grey$1,contrastThreshold:s,getContrastText:_e,augmentColor:ot,tonalOffset:o},ut[i]),a)}const _excluded$3=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function round(e){return Math.round(e*1e5)/1e5}const caseAllCaps={textTransform:"uppercase"},defaultFontFamily='"Roboto", "Helvetica", "Arial", sans-serif';function createTypography(e,i){const s=typeof i=="function"?i(e):i,{fontFamily:o=defaultFontFamily,fontSize:a=14,fontWeightLight:c=300,fontWeightRegular:d=400,fontWeightMedium:h=500,fontWeightBold:g=700,htmlFontSize:b=16,allVariants:_,pxToRem:_e}=s,ot=_objectWithoutPropertiesLoose(s,_excluded$3),ut=a/14,rt=_e||(tt=>`${tt/b*ut}rem`),it=(tt,st,nt,$,_t)=>_extends({fontFamily:o,fontWeight:tt,fontSize:rt(st),lineHeight:nt},o===defaultFontFamily?{letterSpacing:`${round($/st)}em`}:{},_t,_),dt={h1:it(c,96,1.167,-1.5),h2:it(c,60,1.2,-.5),h3:it(d,48,1.167,0),h4:it(d,34,1.235,.25),h5:it(d,24,1.334,0),h6:it(h,20,1.6,.15),subtitle1:it(d,16,1.75,.15),subtitle2:it(h,14,1.57,.1),body1:it(d,16,1.5,.15),body2:it(d,14,1.43,.15),button:it(h,14,1.75,.4,caseAllCaps),caption:it(d,12,1.66,.4),overline:it(d,12,2.66,1,caseAllCaps),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return deepmerge(_extends({htmlFontSize:b,pxToRem:rt,fontFamily:o,fontSize:a,fontWeightLight:c,fontWeightRegular:d,fontWeightMedium:h,fontWeightBold:g},dt),ot,{clone:!1})}const shadowKeyUmbraOpacity=.2,shadowKeyPenumbraOpacity=.14,shadowAmbientShadowOpacity=.12;function createShadow(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${shadowKeyUmbraOpacity})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${shadowKeyPenumbraOpacity})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${shadowAmbientShadowOpacity})`].join(",")}const shadows=["none",createShadow(0,2,1,-1,0,1,1,0,0,1,3,0),createShadow(0,3,1,-2,0,2,2,0,0,1,5,0),createShadow(0,3,3,-2,0,3,4,0,0,1,8,0),createShadow(0,2,4,-1,0,4,5,0,0,1,10,0),createShadow(0,3,5,-1,0,5,8,0,0,1,14,0),createShadow(0,3,5,-1,0,6,10,0,0,1,18,0),createShadow(0,4,5,-2,0,7,10,1,0,2,16,1),createShadow(0,5,5,-3,0,8,10,1,0,3,14,2),createShadow(0,5,6,-3,0,9,12,1,0,3,16,2),createShadow(0,6,6,-3,0,10,14,1,0,4,18,3),createShadow(0,6,7,-4,0,11,15,1,0,4,20,3),createShadow(0,7,8,-4,0,12,17,2,0,5,22,4),createShadow(0,7,8,-4,0,13,19,2,0,5,24,4),createShadow(0,7,9,-4,0,14,21,2,0,5,26,4),createShadow(0,8,9,-5,0,15,22,2,0,6,28,5),createShadow(0,8,10,-5,0,16,24,2,0,6,30,5),createShadow(0,8,11,-5,0,17,26,2,0,6,32,5),createShadow(0,9,11,-5,0,18,28,2,0,7,34,6),createShadow(0,9,12,-6,0,19,29,2,0,7,36,6),createShadow(0,10,13,-6,0,20,31,3,0,8,38,7),createShadow(0,10,13,-6,0,21,33,3,0,8,40,7),createShadow(0,10,14,-6,0,22,35,3,0,8,42,7),createShadow(0,11,14,-7,0,23,36,3,0,9,44,8),createShadow(0,11,15,-7,0,24,38,3,0,9,46,8)],shadows$1=shadows,_excluded$2=["duration","easing","delay"],easing={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},duration={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function formatMs(e){return`${Math.round(e)}ms`}function getAutoHeightDuration(e){if(!e)return 0;const i=e/36;return Math.round((4+15*i**.25+i/5)*10)}function createTransitions(e){const i=_extends({},easing,e.easing),s=_extends({},duration,e.duration);return _extends({getAutoHeightDuration,create:(a=["all"],c={})=>{const{duration:d=s.standard,easing:h=i.easeInOut,delay:g=0}=c;return _objectWithoutPropertiesLoose(c,_excluded$2),(Array.isArray(a)?a:[a]).map(b=>`${b} ${typeof d=="string"?d:formatMs(d)} ${h} ${typeof g=="string"?g:formatMs(g)}`).join(",")}},e,{easing:i,duration:s})}const zIndex={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},zIndex$1=zIndex,_excluded$1=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function createTheme(e={},...i){const{mixins:s={},palette:o={},transitions:a={},typography:c={}}=e,d=_objectWithoutPropertiesLoose(e,_excluded$1);if(e.vars)throw new Error(formatMuiErrorMessage(18));const h=createPalette(o),g=createTheme$1(e);let b=deepmerge(g,{mixins:createMixins(g.breakpoints,s),palette:h,shadows:shadows$1.slice(),typography:createTypography(h,c),transitions:createTransitions(a),zIndex:_extends({},zIndex$1)});return b=deepmerge(b,d),b=i.reduce((_,_e)=>deepmerge(_,_e),b),b.unstable_sxConfig=_extends({},defaultSxConfig$1,d==null?void 0:d.unstable_sxConfig),b.unstable_sx=function(_e){return styleFunctionSx$1({sx:_e,theme:this})},b}const _excluded=["theme"];function ThemeProvider(e){let{theme:i}=e,s=_objectWithoutPropertiesLoose(e,_excluded);const o=i[THEME_ID];return jsxRuntimeExports.jsx(ThemeProvider$1,_extends({},s,{themeId:o?THEME_ID:void 0,theme:o||i}))}const App$1="",scriptRel="modulepreload",assetsURL=function(e){return"/"+e},seen={},__vitePreload=function(i,s,o){if(!s||s.length===0)return i();const a=document.getElementsByTagName("link");return Promise.all(s.map(c=>{if(c=assetsURL(c),c in seen)return;seen[c]=!0;const d=c.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(!!o)for(let _=a.length-1;_>=0;_--){const _e=a[_];if(_e.href===c&&(!d||_e.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${h}`))return;const b=document.createElement("link");if(b.rel=d?"stylesheet":scriptRel,d||(b.as="script",b.crossOrigin=""),b.href=c,document.head.appendChild(b),d)return new Promise((_,_e)=>{b.addEventListener("load",_),b.addEventListener("error",()=>_e(new Error(`Unable to preload CSS for ${c}`)))})})).then(()=>i())};var __awaiter$d=globalThis&&globalThis.__awaiter||function(e,i,s,o){function a(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function h(_){try{b(o.next(_))}catch(_e){d(_e)}}function g(_){try{b(o.throw(_))}catch(_e){d(_e)}}function b(_){_.done?c(_.value):a(_.value).then(h,g)}b((o=o.apply(e,i||[])).next())})};const resolveFetch$3=e=>{let i;return e?i=e:typeof fetch>"u"?i=(...s)=>__awaiter$d(void 0,void 0,void 0,function*(){return yield(yield __vitePreload(()=>Promise.resolve().then(()=>browserPonyfill),void 0)).fetch(...s)}):i=fetch,(...s)=>i(...s)};class FunctionsError extends Error{constructor(i,s="FunctionsError",o){super(i),this.name=s,this.context=o}}class FunctionsFetchError extends FunctionsError{constructor(i){super("Failed to send a request to the Edge Function","FunctionsFetchError",i)}}class FunctionsRelayError extends FunctionsError{constructor(i){super("Relay Error invoking the Edge Function","FunctionsRelayError",i)}}class FunctionsHttpError extends FunctionsError{constructor(i){super("Edge Function returned a non-2xx status code","FunctionsHttpError",i)}}var __awaiter$c=globalThis&&globalThis.__awaiter||function(e,i,s,o){function a(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function h(_){try{b(o.next(_))}catch(_e){d(_e)}}function g(_){try{b(o.throw(_))}catch(_e){d(_e)}}function b(_){_.done?c(_.value):a(_.value).then(h,g)}b((o=o.apply(e,i||[])).next())})};class FunctionsClient{constructor(i,{headers:s={},customFetch:o}={}){this.url=i,this.headers=s,this.fetch=resolveFetch$3(o)}setAuth(i){this.headers.Authorization=`Bearer ${i}`}invoke(i,s={}){var o;return __awaiter$c(this,void 0,void 0,function*(){try{const{headers:a,method:c,body:d}=s;let h={},g;d&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",g=d):typeof d=="string"?(h["Content-Type"]="text/plain",g=d):typeof FormData<"u"&&d instanceof FormData?g=d:(h["Content-Type"]="application/json",g=JSON.stringify(d)));const b=yield this.fetch(`${this.url}/${i}`,{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:g}).catch(ut=>{throw new FunctionsFetchError(ut)}),_=b.headers.get("x-relay-error");if(_&&_==="true")throw new FunctionsRelayError(b);if(!b.ok)throw new FunctionsHttpError(b);let _e=((o=b.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),ot;return _e==="application/json"?ot=yield b.json():_e==="application/octet-stream"?ot=yield b.blob():_e==="multipart/form-data"?ot=yield b.formData():ot=yield b.text(),{data:ot,error:null}}catch(a){return{data:null,error:a}}})}}var browserPonyfill$1={exports:{}};(function(e,i){var s=typeof self<"u"?self:commonjsGlobal,o=function(){function c(){this.fetch=!1,this.DOMException=s.DOMException}return c.prototype=s,new c}();(function(c){(function(d){var h={searchParams:"URLSearchParams"in c,iterable:"Symbol"in c&&"iterator"in Symbol,blob:"FileReader"in c&&"Blob"in c&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in c,arrayBuffer:"ArrayBuffer"in c};function g(bt){return bt&&DataView.prototype.isPrototypeOf(bt)}if(h.arrayBuffer)var b=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],_=ArrayBuffer.isView||function(bt){return bt&&b.indexOf(Object.prototype.toString.call(bt))>-1};function _e(bt){if(typeof bt!="string"&&(bt=String(bt)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(bt))throw new TypeError("Invalid character in header field name");return bt.toLowerCase()}function ot(bt){return typeof bt!="string"&&(bt=String(bt)),bt}function ut(bt){var It={next:function(){var Kt=bt.shift();return{done:Kt===void 0,value:Kt}}};return h.iterable&&(It[Symbol.iterator]=function(){return It}),It}function rt(bt){this.map={},bt instanceof rt?bt.forEach(function(It,Kt){this.append(Kt,It)},this):Array.isArray(bt)?bt.forEach(function(It){this.append(It[0],It[1])},this):bt&&Object.getOwnPropertyNames(bt).forEach(function(It){this.append(It,bt[It])},this)}rt.prototype.append=function(bt,It){bt=_e(bt),It=ot(It);var Kt=this.map[bt];this.map[bt]=Kt?Kt+", "+It:It},rt.prototype.delete=function(bt){delete this.map[_e(bt)]},rt.prototype.get=function(bt){return bt=_e(bt),this.has(bt)?this.map[bt]:null},rt.prototype.has=function(bt){return this.map.hasOwnProperty(_e(bt))},rt.prototype.set=function(bt,It){this.map[_e(bt)]=ot(It)},rt.prototype.forEach=function(bt,It){for(var Kt in this.map)this.map.hasOwnProperty(Kt)&&bt.call(It,this.map[Kt],Kt,this)},rt.prototype.keys=function(){var bt=[];return this.forEach(function(It,Kt){bt.push(Kt)}),ut(bt)},rt.prototype.values=function(){var bt=[];return this.forEach(function(It){bt.push(It)}),ut(bt)},rt.prototype.entries=function(){var bt=[];return this.forEach(function(It,Kt){bt.push([Kt,It])}),ut(bt)},h.iterable&&(rt.prototype[Symbol.iterator]=rt.prototype.entries);function it(bt){if(bt.bodyUsed)return Promise.reject(new TypeError("Already read"));bt.bodyUsed=!0}function dt(bt){return new Promise(function(It,Kt){bt.onload=function(){It(bt.result)},bt.onerror=function(){Kt(bt.error)}})}function tt(bt){var It=new FileReader,Kt=dt(It);return It.readAsArrayBuffer(bt),Kt}function st(bt){var It=new FileReader,Kt=dt(It);return It.readAsText(bt),Kt}function nt(bt){for(var It=new Uint8Array(bt),Kt=new Array(It.length),Zt=0;Zt<It.length;Zt++)Kt[Zt]=String.fromCharCode(It[Zt]);return Kt.join("")}function $(bt){if(bt.slice)return bt.slice(0);var It=new Uint8Array(bt.byteLength);return It.set(new Uint8Array(bt)),It.buffer}function _t(){return this.bodyUsed=!1,this._initBody=function(bt){this._bodyInit=bt,bt?typeof bt=="string"?this._bodyText=bt:h.blob&&Blob.prototype.isPrototypeOf(bt)?this._bodyBlob=bt:h.formData&&FormData.prototype.isPrototypeOf(bt)?this._bodyFormData=bt:h.searchParams&&URLSearchParams.prototype.isPrototypeOf(bt)?this._bodyText=bt.toString():h.arrayBuffer&&h.blob&&g(bt)?(this._bodyArrayBuffer=$(bt.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):h.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(bt)||_(bt))?this._bodyArrayBuffer=$(bt):this._bodyText=bt=Object.prototype.toString.call(bt):this._bodyText="",this.headers.get("content-type")||(typeof bt=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):h.searchParams&&URLSearchParams.prototype.isPrototypeOf(bt)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},h.blob&&(this.blob=function(){var bt=it(this);if(bt)return bt;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?it(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(tt)}),this.text=function(){var bt=it(this);if(bt)return bt;if(this._bodyBlob)return st(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(nt(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},h.formData&&(this.formData=function(){return this.text().then(at)}),this.json=function(){return this.text().then(JSON.parse)},this}var At=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function ft(bt){var It=bt.toUpperCase();return At.indexOf(It)>-1?It:bt}function j(bt,It){It=It||{};var Kt=It.body;if(bt instanceof j){if(bt.bodyUsed)throw new TypeError("Already read");this.url=bt.url,this.credentials=bt.credentials,It.headers||(this.headers=new rt(bt.headers)),this.method=bt.method,this.mode=bt.mode,this.signal=bt.signal,!Kt&&bt._bodyInit!=null&&(Kt=bt._bodyInit,bt.bodyUsed=!0)}else this.url=String(bt);if(this.credentials=It.credentials||this.credentials||"same-origin",(It.headers||!this.headers)&&(this.headers=new rt(It.headers)),this.method=ft(It.method||this.method||"GET"),this.mode=It.mode||this.mode||null,this.signal=It.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Kt)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Kt)}j.prototype.clone=function(){return new j(this,{body:this._bodyInit})};function at(bt){var It=new FormData;return bt.trim().split("&").forEach(function(Kt){if(Kt){var Zt=Kt.split("="),jt=Zt.shift().replace(/\+/g," "),$t=Zt.join("=").replace(/\+/g," ");It.append(decodeURIComponent(jt),decodeURIComponent($t))}}),It}function yt(bt){var It=new rt,Kt=bt.replace(/\r?\n[\t ]+/g," ");return Kt.split(/\r?\n/).forEach(function(Zt){var jt=Zt.split(":"),$t=jt.shift().trim();if($t){var Qt=jt.join(":").trim();It.append($t,Qt)}}),It}_t.call(j.prototype);function lt(bt,It){It||(It={}),this.type="default",this.status=It.status===void 0?200:It.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in It?It.statusText:"OK",this.headers=new rt(It.headers),this.url=It.url||"",this._initBody(bt)}_t.call(lt.prototype),lt.prototype.clone=function(){return new lt(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new rt(this.headers),url:this.url})},lt.error=function(){var bt=new lt(null,{status:0,statusText:""});return bt.type="error",bt};var vt=[301,302,303,307,308];lt.redirect=function(bt,It){if(vt.indexOf(It)===-1)throw new RangeError("Invalid status code");return new lt(null,{status:It,headers:{location:bt}})},d.DOMException=c.DOMException;try{new d.DOMException}catch{d.DOMException=function(It,Kt){this.message=It,this.name=Kt;var Zt=Error(It);this.stack=Zt.stack},d.DOMException.prototype=Object.create(Error.prototype),d.DOMException.prototype.constructor=d.DOMException}function xt(bt,It){return new Promise(function(Kt,Zt){var jt=new j(bt,It);if(jt.signal&&jt.signal.aborted)return Zt(new d.DOMException("Aborted","AbortError"));var $t=new XMLHttpRequest;function Qt(){$t.abort()}$t.onload=function(){var Jt={status:$t.status,statusText:$t.statusText,headers:yt($t.getAllResponseHeaders()||"")};Jt.url="responseURL"in $t?$t.responseURL:Jt.headers.get("X-Request-URL");var on="response"in $t?$t.response:$t.responseText;Kt(new lt(on,Jt))},$t.onerror=function(){Zt(new TypeError("Network request failed"))},$t.ontimeout=function(){Zt(new TypeError("Network request failed"))},$t.onabort=function(){Zt(new d.DOMException("Aborted","AbortError"))},$t.open(jt.method,jt.url,!0),jt.credentials==="include"?$t.withCredentials=!0:jt.credentials==="omit"&&($t.withCredentials=!1),"responseType"in $t&&h.blob&&($t.responseType="blob"),jt.headers.forEach(function(Jt,on){$t.setRequestHeader(on,Jt)}),jt.signal&&(jt.signal.addEventListener("abort",Qt),$t.onreadystatechange=function(){$t.readyState===4&&jt.signal.removeEventListener("abort",Qt)}),$t.send(typeof jt._bodyInit>"u"?null:jt._bodyInit)})}return xt.polyfill=!0,c.fetch||(c.fetch=xt,c.Headers=rt,c.Request=j,c.Response=lt),d.Headers=rt,d.Request=j,d.Response=lt,d.fetch=xt,Object.defineProperty(d,"__esModule",{value:!0}),d})({})})(o),o.fetch.ponyfill=!0,delete o.fetch.polyfill;var a=o;i=a.fetch,i.default=a.fetch,i.fetch=a.fetch,i.Headers=a.Headers,i.Request=a.Request,i.Response=a.Response,e.exports=i})(browserPonyfill$1,browserPonyfill$1.exports);var browserPonyfillExports=browserPonyfill$1.exports;const crossFetch=getDefaultExportFromCjs(browserPonyfillExports),browserPonyfill=_mergeNamespaces({__proto__:null,default:crossFetch},[browserPonyfillExports]);class PostgrestBuilder{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=crossFetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const o=this.fetch;let a=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var d,h,g;let b=null,_=null,_e=null,ot=c.status,ut=c.statusText;if(c.ok){if(this.method!=="HEAD"){const tt=await c.text();tt===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?_=tt:_=JSON.parse(tt))}const it=(d=this.headers.Prefer)===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),dt=(h=c.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");it&&dt&&dt.length>1&&(_e=parseInt(dt[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(b={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,_e=null,ot=406,ut="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const it=await c.text();try{b=JSON.parse(it),Array.isArray(b)&&c.status===404&&(_=[],b=null,ot=200,ut="OK")}catch{c.status===404&&it===""?(ot=204,ut="No Content"):b={message:it}}if(b&&this.isMaybeSingle&&(!((g=b==null?void 0:b.details)===null||g===void 0)&&g.includes("Results contain 0 rows"))&&(b=null,ot=200,ut="OK"),b&&this.shouldThrowOnError)throw b}return{error:b,data:_,count:_e,status:ot,statusText:ut}});return this.shouldThrowOnError||(a=a.catch(c=>{var d,h,g;return{error:{message:`${(d=c==null?void 0:c.name)!==null&&d!==void 0?d:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(h=c==null?void 0:c.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(g=c==null?void 0:c.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),a.then(i,s)}}class PostgrestTransformBuilder extends PostgrestBuilder{select(i){let s=!1;const o=(i??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:s=!0,nullsFirst:o,foreignTable:a}={}){const c=a?`${a}.order`:"order",d=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${d?`${d},`:""}${i}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s}={}){const o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${i}`),this}range(i,s,{foreignTable:o}={}){const a=typeof o>"u"?"offset":`${o}.offset`,c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${i}`),this.url.searchParams.set(c,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:s=!1,settings:o=!1,buffers:a=!1,wal:c=!1,format:d="text"}={}){const h=[i?"analyze":null,s?"verbose":null,o?"settings":null,a?"buffers":null,c?"wal":null].filter(Boolean).join("|"),g=this.headers.Accept;return this.headers.Accept=`application/vnd.pgrst.plan+${d}; for="${g}"; options=${h};`,d==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class PostgrestFilterBuilder extends PostgrestTransformBuilder{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const o=s.map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:o,type:a}={}){let c="";a==="plain"?c="pl":a==="phrase"?c="ph":a==="websearch"&&(c="w");const d=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${c}fts${d}.${s}`),this}match(i){return Object.entries(i).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(i,s,o){return this.url.searchParams.append(i,`not.${s}.${o}`),this}or(i,{foreignTable:s}={}){const o=s?`${s}.or`:"or";return this.url.searchParams.append(o,`(${i})`),this}filter(i,s,o){return this.url.searchParams.append(i,`${s}.${o}`),this}}class PostgrestQueryBuilder{constructor(i,{headers:s={},schema:o,fetch:a}){this.url=i,this.headers=s,this.schema=o,this.fetch=a}select(i,{head:s=!1,count:o}={}){const a=s?"HEAD":"GET";let c=!1;const d=(i??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",d),o&&(this.headers.Prefer=`count=${o}`),new PostgrestFilterBuilder({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:s,defaultToNull:o=!0}={}){const a="POST",c=[];if(this.headers.Prefer&&c.push(this.headers.Prefer),s&&c.push(`count=${s}`),o||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(i)){const d=i.reduce((h,g)=>h.concat(Object.keys(g)),[]);if(d.length>0){const h=[...new Set(d)].map(g=>`"${g}"`);this.url.searchParams.set("columns",h.join(","))}}return new PostgrestFilterBuilder({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:s,ignoreDuplicates:o=!1,count:a,defaultToNull:c=!0}={}){const d="POST",h=[`resolution=${o?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&h.push(this.headers.Prefer),a&&h.push(`count=${a}`),c||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(i)){const g=i.reduce((b,_)=>b.concat(Object.keys(_)),[]);if(g.length>0){const b=[...new Set(g)].map(_=>`"${_}"`);this.url.searchParams.set("columns",b.join(","))}}return new PostgrestFilterBuilder({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:s}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),this.headers.Prefer=a.join(","),new PostgrestFilterBuilder({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const s="DELETE",o=[];return i&&o.push(`count=${i}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new PostgrestFilterBuilder({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const version$6="1.7.1",DEFAULT_HEADERS$4={"X-Client-Info":`postgrest-js/${version$6}`};class PostgrestClient{constructor(i,{headers:s={},schema:o,fetch:a}={}){this.url=i,this.headers=Object.assign(Object.assign({},DEFAULT_HEADERS$4),s),this.schema=o,this.fetch=a}from(i){const s=new URL(`${this.url}/${i}`);return new PostgrestQueryBuilder(s,{headers:Object.assign({},this.headers),schema:this.schema,fetch:this.fetch})}rpc(i,s={},{head:o=!1,count:a}={}){let c;const d=new URL(`${this.url}/rpc/${i}`);let h;o?(c="HEAD",Object.entries(s).forEach(([b,_])=>{d.searchParams.append(b,`${_}`)})):(c="POST",h=s);const g=Object.assign({},this.headers);return a&&(g.Prefer=`count=${a}`),new PostgrestFilterBuilder({method:c,url:d,headers:g,schema:this.schema,body:h,fetch:this.fetch,allowEmpty:!1})}}var global$1,hasRequiredGlobal;function requireGlobal(){if(hasRequiredGlobal)return global$1;hasRequiredGlobal=1;var e=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return global$1=function(){if(this)return this;if(typeof globalThis=="object"&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return e()}try{return __global__||e()}finally{delete Object.prototype.__global__}}(),global$1}const name="websocket",description="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",keywords=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],author="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",contributors=["Iaki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],version$5="1.0.34",repository={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},homepage="https://github.com/theturtle32/WebSocket-Node",engines={node:">=4.0.0"},dependencies={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},devDependencies={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},config={verbose:!1},scripts={test:"tape test/unit/*.js",gulp:"gulp"},main="index",directories={lib:"./lib"},browser$1="lib/browser.js",license="Apache-2.0",require$$0={name,description,keywords,author,contributors,version:version$5,repository,homepage,engines,dependencies,devDependencies,config,scripts,main,directories,browser:browser$1,license};var version$4=require$$0.version,_globalThis;if(typeof globalThis=="object")_globalThis=globalThis;else try{_globalThis=requireGlobal()}catch{}finally{if(!_globalThis&&typeof window<"u"&&(_globalThis=window),!_globalThis)throw new Error("Could not determine global this")}var NativeWebSocket=_globalThis.WebSocket||_globalThis.MozWebSocket,websocket_version=version$4;function W3CWebSocket(e,i){var s;return i?s=new NativeWebSocket(e,i):s=new NativeWebSocket(e),s}NativeWebSocket&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(e){Object.defineProperty(W3CWebSocket,e,{get:function(){return NativeWebSocket[e]}})});var browser={w3cwebsocket:NativeWebSocket?W3CWebSocket:null,version:websocket_version};const version$3="2.7.3",DEFAULT_HEADERS$3={"X-Client-Info":`realtime-js/${version$3}`},VSN="1.0.0",DEFAULT_TIMEOUT=1e4,WS_CLOSE_NORMAL=1e3;var SOCKET_STATES;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(SOCKET_STATES||(SOCKET_STATES={}));var CHANNEL_STATES;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(CHANNEL_STATES||(CHANNEL_STATES={}));var CHANNEL_EVENTS;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(CHANNEL_EVENTS||(CHANNEL_EVENTS={}));var TRANSPORTS;(function(e){e.websocket="websocket"})(TRANSPORTS||(TRANSPORTS={}));var CONNECTION_STATE;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(CONNECTION_STATE||(CONNECTION_STATE={}));class Timer{constructor(i,s){this.callback=i,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=i,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class Serializer{constructor(){this.HEADER_LENGTH=1}decode(i,s){return i.constructor===ArrayBuffer?s(this._binaryDecode(i)):s(typeof i=="string"?JSON.parse(i):{})}_binaryDecode(i){const s=new DataView(i),o=new TextDecoder;return this._decodeBroadcast(i,s,o)}_decodeBroadcast(i,s,o){const a=s.getUint8(1),c=s.getUint8(2);let d=this.HEADER_LENGTH+2;const h=o.decode(i.slice(d,d+a));d=d+a;const g=o.decode(i.slice(d,d+c));d=d+c;const b=JSON.parse(o.decode(i.slice(d,i.byteLength)));return{ref:null,topic:h,event:g,payload:b}}}class Push{constructor(i,s,o={},a=DEFAULT_TIMEOUT){this.channel=i,this.event=s,this.payload=o,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null,this.rateLimited=!1}resend(i){this.timeout=i,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){if(this._hasReceived("timeout"))return;this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()})==="rate limited"&&(this.rateLimited=!0)}updatePayload(i){this.payload=Object.assign(Object.assign({},this.payload),i)}receive(i,s){var o;return this._hasReceived(i)&&s((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:i,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const i=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},i),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(i,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:i,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:i,response:s}){this.recHooks.filter(o=>o.status===i).forEach(o=>o.callback(s))}_hasReceived(i){return this.receivedResp&&this.receivedResp.status===i}}var REALTIME_PRESENCE_LISTEN_EVENTS;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(REALTIME_PRESENCE_LISTEN_EVENTS||(REALTIME_PRESENCE_LISTEN_EVENTS={}));class RealtimePresence{constructor(i,s){this.channel=i,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},a=>{const{onJoin:c,onLeave:d,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=RealtimePresence.syncState(this.state,a,c,d),this.pendingDiffs.forEach(g=>{this.state=RealtimePresence.syncDiff(this.state,g,c,d)}),this.pendingDiffs=[],h()}),this.channel._on(o.diff,{},a=>{const{onJoin:c,onLeave:d,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=RealtimePresence.syncDiff(this.state,a,c,d),h())}),this.onJoin((a,c,d)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:c,newPresences:d})}),this.onLeave((a,c,d)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:c,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(i,s,o,a){const c=this.cloneDeep(i),d=this.transformState(s),h={},g={};return this.map(c,(b,_)=>{d[b]||(g[b]=_)}),this.map(d,(b,_)=>{const _e=c[b];if(_e){const ot=_.map(dt=>dt.presence_ref),ut=_e.map(dt=>dt.presence_ref),rt=_.filter(dt=>ut.indexOf(dt.presence_ref)<0),it=_e.filter(dt=>ot.indexOf(dt.presence_ref)<0);rt.length>0&&(h[b]=rt),it.length>0&&(g[b]=it)}else h[b]=_}),this.syncDiff(c,{joins:h,leaves:g},o,a)}static syncDiff(i,s,o,a){const{joins:c,leaves:d}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return o||(o=()=>{}),a||(a=()=>{}),this.map(c,(h,g)=>{var b;const _=(b=i[h])!==null&&b!==void 0?b:[];if(i[h]=this.cloneDeep(g),_.length>0){const _e=i[h].map(ut=>ut.presence_ref),ot=_.filter(ut=>_e.indexOf(ut.presence_ref)<0);i[h].unshift(...ot)}o(h,_,g)}),this.map(d,(h,g)=>{let b=i[h];if(!b)return;const _=g.map(_e=>_e.presence_ref);b=b.filter(_e=>_.indexOf(_e.presence_ref)<0),i[h]=b,a(h,b,g),b.length===0&&delete i[h]}),i}static map(i,s){return Object.getOwnPropertyNames(i).map(o=>s(o,i[o]))}static transformState(i){return i=this.cloneDeep(i),Object.getOwnPropertyNames(i).reduce((s,o)=>{const a=i[o];return"metas"in a?s[o]=a.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):s[o]=a,s},{})}static cloneDeep(i){return JSON.parse(JSON.stringify(i))}onJoin(i){this.caller.onJoin=i}onLeave(i){this.caller.onLeave=i}onSync(i){this.caller.onSync=i}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var PostgresTypes;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(PostgresTypes||(PostgresTypes={}));const convertChangeData=(e,i,s={})=>{var o;const a=(o=s.skipTypes)!==null&&o!==void 0?o:[];return Object.keys(i).reduce((c,d)=>(c[d]=convertColumn(d,e,i,a),c),{})},convertColumn=(e,i,s,o)=>{const a=i.find(h=>h.name===e),c=a==null?void 0:a.type,d=s[e];return c&&!o.includes(c)?convertCell(c,d):noop$1(d)},convertCell=(e,i)=>{if(e.charAt(0)==="_"){const s=e.slice(1,e.length);return toArray(i,s)}switch(e){case PostgresTypes.bool:return toBoolean(i);case PostgresTypes.float4:case PostgresTypes.float8:case PostgresTypes.int2:case PostgresTypes.int4:case PostgresTypes.int8:case PostgresTypes.numeric:case PostgresTypes.oid:return toNumber(i);case PostgresTypes.json:case PostgresTypes.jsonb:return toJson(i);case PostgresTypes.timestamp:return toTimestampString(i);case PostgresTypes.abstime:case PostgresTypes.date:case PostgresTypes.daterange:case PostgresTypes.int4range:case PostgresTypes.int8range:case PostgresTypes.money:case PostgresTypes.reltime:case PostgresTypes.text:case PostgresTypes.time:case PostgresTypes.timestamptz:case PostgresTypes.timetz:case PostgresTypes.tsrange:case PostgresTypes.tstzrange:return noop$1(i);default:return noop$1(i)}},noop$1=e=>e,toBoolean=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},toNumber=e=>{if(typeof e=="string"){const i=parseFloat(e);if(!Number.isNaN(i))return i}return e},toJson=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(i){return console.log(`JSON parse error: ${i}`),e}return e},toArray=(e,i)=>{if(typeof e!="string")return e;const s=e.length-1,o=e[s];if(e[0]==="{"&&o==="}"){let c;const d=e.slice(1,s);try{c=JSON.parse("["+d+"]")}catch{c=d?d.split(","):[]}return c.map(h=>convertCell(i,h))}return e},toTimestampString=e=>typeof e=="string"?e.replace(" ","T"):e;var __awaiter$b=globalThis&&globalThis.__awaiter||function(e,i,s,o){function a(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function h(_){try{b(o.next(_))}catch(_e){d(_e)}}function g(_){try{b(o.throw(_))}catch(_e){d(_e)}}function b(_){_.done?c(_.value):a(_.value).then(h,g)}b((o=o.apply(e,i||[])).next())})},REALTIME_POSTGRES_CHANGES_LISTEN_EVENT;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT||(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT={}));var REALTIME_LISTEN_TYPES;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes"})(REALTIME_LISTEN_TYPES||(REALTIME_LISTEN_TYPES={}));var REALTIME_SUBSCRIBE_STATES;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(REALTIME_SUBSCRIBE_STATES||(REALTIME_SUBSCRIBE_STATES={}));class RealtimeChannel{constructor(i,s={config:{}},o){this.topic=i,this.params=s,this.socket=o,this.bindings={},this.state=CHANNEL_STATES.closed,this.joinedOnce=!1,this.pushBuffer=[],this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},s.config),this.timeout=this.socket.timeout,this.joinPush=new Push(this,CHANNEL_EVENTS.join,this.params,this.timeout),this.rejoinTimer=new Timer(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=CHANNEL_STATES.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=CHANNEL_STATES.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this._on(CHANNEL_EVENTS.reply,{},(a,c)=>{this._trigger(this._replyEventName(c),a)}),this.presence=new RealtimePresence(this)}subscribe(i,s=this.timeout){var o,a;if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:c,presence:d}}=this.params;this._onError(b=>i&&i("CHANNEL_ERROR",b)),this._onClose(()=>i&&i("CLOSED"));const h={},g={broadcast:c,presence:d,postgres_changes:(a=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(b=>b.filter))!==null&&a!==void 0?a:[]};this.socket.accessToken&&(h.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:g},h)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",({postgres_changes:b})=>{var _;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),b===void 0){i&&i("SUBSCRIBED");return}else{const _e=this.bindings.postgres_changes,ot=(_=_e==null?void 0:_e.length)!==null&&_!==void 0?_:0,ut=[];for(let rt=0;rt<ot;rt++){const it=_e[rt],{filter:{event:dt,schema:tt,table:st,filter:nt}}=it,$=b&&b[rt];if($&&$.event===dt&&$.schema===tt&&$.table===st&&$.filter===nt)ut.push(Object.assign(Object.assign({},it),{id:$.id}));else{this.unsubscribe(),i&&i("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=ut,i&&i("SUBSCRIBED");return}}).receive("error",b=>{i&&i("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{i&&i("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(i,s={}){return __awaiter$b(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"track",payload:i},s.timeout||this.timeout)})}untrack(i={}){return __awaiter$b(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"untrack"},i)})}on(i,s,o){return this._on(i,s,o)}send(i,s={}){return new Promise(o=>{var a,c,d;const h=this._push(i.type,i,s.timeout||this.timeout);h.rateLimited&&o("rate limited"),i.type==="broadcast"&&!(!((d=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),h.receive("ok",()=>o("ok")),h.receive("timeout",()=>o("timed out"))})}updateJoinPayload(i){this.joinPush.updatePayload(i)}unsubscribe(i=this.timeout){this.state=CHANNEL_STATES.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(CHANNEL_EVENTS.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(o=>{const a=new Push(this,CHANNEL_EVENTS.leave,{},i);a.receive("ok",()=>{s(),o("ok")}).receive("timeout",()=>{s(),o("timed out")}).receive("error",()=>{o("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}_push(i,s,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${i}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Push(this,i,s,o);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(i,s,o){return s}_isMember(i){return this.topic===i}_joinRef(){return this.joinPush.ref}_trigger(i,s,o){var a,c;const d=i.toLocaleLowerCase(),{close:h,error:g,leave:b,join:_}=CHANNEL_EVENTS;if(o&&[h,g,b,_].indexOf(d)>=0&&o!==this._joinRef())return;let ot=this._onMessage(d,s,o);if(s&&!ot)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(ut=>{var rt,it,dt;return((rt=ut.filter)===null||rt===void 0?void 0:rt.event)==="*"||((dt=(it=ut.filter)===null||it===void 0?void 0:it.event)===null||dt===void 0?void 0:dt.toLocaleLowerCase())===d}).map(ut=>ut.callback(ot,o)):(c=this.bindings[d])===null||c===void 0||c.filter(ut=>{var rt,it,dt,tt,st,nt;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in ut){const $=ut.id,_t=(rt=ut.filter)===null||rt===void 0?void 0:rt.event;return $&&((it=s.ids)===null||it===void 0?void 0:it.includes($))&&(_t==="*"||(_t==null?void 0:_t.toLocaleLowerCase())===((dt=s.data)===null||dt===void 0?void 0:dt.type.toLocaleLowerCase()))}else{const $=(st=(tt=ut==null?void 0:ut.filter)===null||tt===void 0?void 0:tt.event)===null||st===void 0?void 0:st.toLocaleLowerCase();return $==="*"||$===((nt=s==null?void 0:s.event)===null||nt===void 0?void 0:nt.toLocaleLowerCase())}else return ut.type.toLocaleLowerCase()===d}).map(ut=>{if(typeof ot=="object"&&"ids"in ot){const rt=ot.data,{schema:it,table:dt,commit_timestamp:tt,type:st,errors:nt}=rt;ot=Object.assign(Object.assign({},{schema:it,table:dt,commit_timestamp:tt,eventType:st,new:{},old:{},errors:nt}),this._getPayloadRecords(rt))}ut.callback(ot,o)})}_isClosed(){return this.state===CHANNEL_STATES.closed}_isJoined(){return this.state===CHANNEL_STATES.joined}_isJoining(){return this.state===CHANNEL_STATES.joining}_isLeaving(){return this.state===CHANNEL_STATES.leaving}_replyEventName(i){return`chan_reply_${i}`}_on(i,s,o){const a=i.toLocaleLowerCase(),c={type:a,filter:s,callback:o};return this.bindings[a]?this.bindings[a].push(c):this.bindings[a]=[c],this}_off(i,s){const o=i.toLocaleLowerCase();return this.bindings[o]=this.bindings[o].filter(a=>{var c;return!(((c=a.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===o&&RealtimeChannel.isEqual(a.filter,s))}),this}static isEqual(i,s){if(Object.keys(i).length!==Object.keys(s).length)return!1;for(const o in i)if(i[o]!==s[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(i){this._on(CHANNEL_EVENTS.close,{},i)}_onError(i){this._on(CHANNEL_EVENTS.error,{},s=>i(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(i=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=CHANNEL_STATES.joining,this.joinPush.resend(i))}_getPayloadRecords(i){const s={new:{},old:{}};return(i.type==="INSERT"||i.type==="UPDATE")&&(s.new=convertChangeData(i.columns,i.record)),(i.type==="UPDATE"||i.type==="DELETE")&&(s.old=convertChangeData(i.columns,i.old_record)),s}}var __awaiter$a=globalThis&&globalThis.__awaiter||function(e,i,s,o){function a(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function h(_){try{b(o.next(_))}catch(_e){d(_e)}}function g(_){try{b(o.throw(_))}catch(_e){d(_e)}}function b(_){_.done?c(_.value):a(_.value).then(h,g)}b((o=o.apply(e,i||[])).next())})};const noop=()=>{};class RealtimeClient{constructor(i,s){var o;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=DEFAULT_HEADERS$3,this.params={},this.timeout=DEFAULT_TIMEOUT,this.transport=browser.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=noop,this.conn=null,this.sendBuffer=[],this.serializer=new Serializer,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.eventsPerSecondLimitMs=100,this.inThrottle=!1,this.endPoint=`${i}/${TRANSPORTS.websocket}`,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.transport&&(this.transport=s.transport),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const a=(o=s==null?void 0:s.params)===null||o===void 0?void 0:o.eventsPerSecond;a&&(this.eventsPerSecondLimitMs=Math.floor(1e3/a)),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:c=>[1e3,2e3,5e3,1e4][c-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(c,d)=>d(JSON.stringify(c)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Timer(()=>__awaiter$a(this,void 0,void 0,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs)}connect(){this.conn||(this.conn=new this.transport(this._endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=i=>this._onConnError(i),this.conn.onmessage=i=>this._onConnMessage(i),this.conn.onclose=i=>this._onConnClose(i)))}disconnect(i,s){this.conn&&(this.conn.onclose=function(){},i?this.conn.close(i,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(i){return __awaiter$a(this,void 0,void 0,function*(){const s=yield i.unsubscribe();return this.channels.length===0&&this.disconnect(),s})}removeAllChannels(){return __awaiter$a(this,void 0,void 0,function*(){const i=yield Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),i})}log(i,s,o){this.logger(i,s,o)}connectionState(){switch(this.conn&&this.conn.readyState){case SOCKET_STATES.connecting:return CONNECTION_STATE.Connecting;case SOCKET_STATES.open:return CONNECTION_STATE.Open;case SOCKET_STATES.closing:return CONNECTION_STATE.Closing;default:return CONNECTION_STATE.Closed}}isConnected(){return this.connectionState()===CONNECTION_STATE.Open}channel(i,s={config:{}}){this.isConnected()||this.connect();const o=new RealtimeChannel(`realtime:${i}`,s,this);return this.channels.push(o),o}push(i){const{topic:s,event:o,payload:a,ref:c}=i;let d=()=>{this.encode(i,h=>{var g;(g=this.conn)===null||g===void 0||g.send(h)})};if(this.log("push",`${s} ${o} (${c})`,a),this.isConnected())if(["broadcast","presence","postgres_changes"].includes(o)){if(this._throttle(d)())return"rate limited"}else d();else this.sendBuffer.push(d)}setAuth(i){this.accessToken=i,this.channels.forEach(s=>{i&&s.updateJoinPayload({access_token:i}),s.joinedOnce&&s._isJoined()&&s._push(CHANNEL_EVENTS.access_token,{access_token:i})})}_makeRef(){let i=this.ref+1;return i===this.ref?this.ref=0:this.ref=i,this.ref.toString()}_leaveOpenTopic(i){let s=this.channels.find(o=>o.topic===i&&(o._isJoined()||o._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${i}"`),s.unsubscribe())}_remove(i){this.channels=this.channels.filter(s=>s._joinRef()!==i._joinRef())}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:VSN}))}_onConnMessage(i){this.decode(i.data,s=>{let{topic:o,event:a,payload:c,ref:d}=s;(d&&d===this.pendingHeartbeatRef||a===(c==null?void 0:c.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${c.status||""} ${o} ${a} ${d&&"("+d+")"||""}`,c),this.channels.filter(h=>h._isMember(o)).forEach(h=>h._trigger(a,c,d)),this.stateChangeCallbacks.message.forEach(h=>h(s))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(i=>i())}_onConnClose(i){this.log("transport","close",i),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(i))}_onConnError(i){this.log("transport",i.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(i))}_triggerChanError(){this.channels.forEach(i=>i._trigger(CHANNEL_EVENTS.error))}_appendParams(i,s){if(Object.keys(s).length===0)return i;const o=i.match(/\?/)?"&":"?",a=new URLSearchParams(s);return`${i}${o}${a}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(i=>i()),this.sendBuffer=[])}_sendHeartbeat(){var i;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(i=this.conn)===null||i===void 0||i.close(WS_CLOSE_NORMAL,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_throttle(i,s=this.eventsPerSecondLimitMs){return()=>this.inThrottle?!0:(i(),s>0&&(this.inThrottle=!0,setTimeout(()=>{this.inThrottle=!1},s)),!1)}}class StorageError extends Error{constructor(i){super(i),this.__isStorageError=!0,this.name="StorageError"}}function isStorageError(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class StorageApiError extends StorageError{constructor(i,s){super(i),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class StorageUnknownError extends StorageError{constructor(i,s){super(i),this.name="StorageUnknownError",this.originalError=s}}var __awaiter$9=globalThis&&globalThis.__awaiter||function(e,i,s,o){function a(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function h(_){try{b(o.next(_))}catch(_e){d(_e)}}function g(_){try{b(o.throw(_))}catch(_e){d(_e)}}function b(_){_.done?c(_.value):a(_.value).then(h,g)}b((o=o.apply(e,i||[])).next())})};const resolveFetch$2=e=>{let i;return e?i=e:typeof fetch>"u"?i=(...s)=>__awaiter$9(void 0,void 0,void 0,function*(){return yield(yield __vitePreload(()=>Promise.resolve().then(()=>browserPonyfill),void 0)).fetch(...s)}):i=fetch,(...s)=>i(...s)},resolveResponse=()=>__awaiter$9(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield __vitePreload(()=>Promise.resolve().then(()=>browserPonyfill),void 0)).Response:Response});var __awaiter$8=globalThis&&globalThis.__awaiter||function(e,i,s,o){function a(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function h(_){try{b(o.next(_))}catch(_e){d(_e)}}function g(_){try{b(o.throw(_))}catch(_e){d(_e)}}function b(_){_.done?c(_.value):a(_.value).then(h,g)}b((o=o.apply(e,i||[])).next())})};const _getErrorMessage$1=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),handleError$1=(e,i)=>__awaiter$8(void 0,void 0,void 0,function*(){const s=yield resolveResponse();e instanceof s?e.json().then(o=>{i(new StorageApiError(_getErrorMessage$1(o),e.status||500))}).catch(o=>{i(new StorageUnknownError(_getErrorMessage$1(o),o))}):i(new StorageUnknownError(_getErrorMessage$1(e),e))}),_getRequestParams$1=(e,i,s,o)=>{const a={method:e,headers:(i==null?void 0:i.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},i==null?void 0:i.headers),a.body=JSON.stringify(o),Object.assign(Object.assign({},a),s))};function _handleRequest$1(e,i,s,o,a,c){return __awaiter$8(this,void 0,void 0,function*(){return new Promise((d,h)=>{e(s,_getRequestParams$1(i,o,a,c)).then(g=>{if(!g.ok)throw g;return o!=null&&o.noResolveJson?g:g.json()}).then(g=>d(g)).catch(g=>handleError$1(g,h))})})}function get(e,i,s,o){return __awaiter$8(this,void 0,void 0,function*(){return _handleRequest$1(e,"GET",i,s,o)})}function post(e,i,s,o,a){return __awaiter$8(this,void 0,void 0,function*(){return _handleRequest$1(e,"POST",i,o,a,s)})}function put(e,i,s,o,a){return __awaiter$8(this,void 0,void 0,function*(){return _handleRequest$1(e,"PUT",i,o,a,s)})}function remove(e,i,s,o,a){return __awaiter$8(this,void 0,void 0,function*(){return _handleRequest$1(e,"DELETE",i,o,a,s)})}var __awaiter$7=globalThis&&globalThis.__awaiter||function(e,i,s,o){function a(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function h(_){try{b(o.next(_))}catch(_e){d(_e)}}function g(_){try{b(o.throw(_))}catch(_e){d(_e)}}function b(_){_.done?c(_.value):a(_.value).then(h,g)}b((o=o.apply(e,i||[])).next())})};const DEFAULT_SEARCH_OPTIONS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},DEFAULT_FILE_OPTIONS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class StorageFileApi{constructor(i,s={},o,a){this.url=i,this.headers=s,this.bucketId=o,this.fetch=resolveFetch$2(a)}uploadOrUpdate(i,s,o,a){return __awaiter$7(this,void 0,void 0,function*(){try{let c;const d=Object.assign(Object.assign({},DEFAULT_FILE_OPTIONS),a),h=Object.assign(Object.assign({},this.headers),i==="POST"&&{"x-upsert":String(d.upsert)});typeof Blob<"u"&&o instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",o)):typeof FormData<"u"&&o instanceof FormData?(c=o,c.append("cacheControl",d.cacheControl)):(c=o,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const g=this._removeEmptyFolders(s),b=this._getFinalPath(g),_=yield this.fetch(`${this.url}/object/${b}`,Object.assign({method:i,body:c,headers:h},d!=null&&d.duplex?{duplex:d.duplex}:{}));return _.ok?{data:{path:g},error:null}:{data:null,error:yield _.json()}}catch(c){if(isStorageError(c))return{data:null,error:c};throw c}})}upload(i,s,o){return __awaiter$7(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",i,s,o)})}uploadToSignedUrl(i,s,o,a){return __awaiter$7(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(i),d=this._getFinalPath(c),h=new URL(this.url+`/object/upload/sign/${d}`);h.searchParams.set("token",s);try{let g;const b=Object.assign({upsert:DEFAULT_FILE_OPTIONS.upsert},a),_=Object.assign(Object.assign({},this.headers),{"x-upsert":String(b.upsert)});typeof Blob<"u"&&o instanceof Blob?(g=new FormData,g.append("cacheControl",b.cacheControl),g.append("",o)):typeof FormData<"u"&&o instanceof FormData?(g=o,g.append("cacheControl",b.cacheControl)):(g=o,_["cache-control"]=`max-age=${b.cacheControl}`,_["content-type"]=b.contentType);const _e=yield this.fetch(h.toString(),{method:"PUT",body:g,headers:_});return _e.ok?{data:{path:c},error:null}:{data:null,error:yield _e.json()}}catch(g){if(isStorageError(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(i){return __awaiter$7(this,void 0,void 0,function*(){try{let s=this._getFinalPath(i);const o=yield post(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:this.headers}),a=new URL(this.url+o.url),c=a.searchParams.get("token");if(!c)throw new StorageError("No token returned by API");return{data:{signedUrl:a.toString(),path:i,token:c},error:null}}catch(s){if(isStorageError(s))return{data:null,error:s};throw s}})}update(i,s,o){return __awaiter$7(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",i,s,o)})}move(i,s){return __awaiter$7(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:i,destinationKey:s},{headers:this.headers}),error:null}}catch(o){if(isStorageError(o))return{data:null,error:o};throw o}})}copy(i,s){return __awaiter$7(this,void 0,void 0,function*(){try{return{data:{path:(yield post(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:i,destinationKey:s},{headers:this.headers})).Key},error:null}}catch(o){if(isStorageError(o))return{data:null,error:o};throw o}})}createSignedUrl(i,s,o){return __awaiter$7(this,void 0,void 0,function*(){try{let a=this._getFinalPath(i),c=yield post(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:s},o!=null&&o.transform?{transform:o.transform}:{}),{headers:this.headers});const d=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${d}`)},{data:c,error:null}}catch(a){if(isStorageError(a))return{data:null,error:a};throw a}})}createSignedUrls(i,s,o){return __awaiter$7(this,void 0,void 0,function*(){try{const a=yield post(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:i},{headers:this.headers}),c=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return{data:a.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${c}`):null})),error:null}}catch(a){if(isStorageError(a))return{data:null,error:a};throw a}})}download(i,s){return __awaiter$7(this,void 0,void 0,function*(){const a=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),d=c?`?${c}`:"";try{const h=this._getFinalPath(i);return{data:yield(yield get(this.fetch,`${this.url}/${a}/${h}${d}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(isStorageError(h))return{data:null,error:h};throw h}})}getPublicUrl(i,s){const o=this._getFinalPath(i),a=[],c=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";c!==""&&a.push(c);const h=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});g!==""&&a.push(g);let b=a.join("&");return b!==""&&(b=`?${b}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${o}${b}`)}}}remove(i){return __awaiter$7(this,void 0,void 0,function*(){try{return{data:yield remove(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:i},{headers:this.headers}),error:null}}catch(s){if(isStorageError(s))return{data:null,error:s};throw s}})}list(i,s,o){return __awaiter$7(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},DEFAULT_SEARCH_OPTIONS),s),{prefix:i||""});return{data:yield post(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},o),error:null}}catch(a){if(isStorageError(a))return{data:null,error:a};throw a}})}_getFinalPath(i){return`${this.bucketId}/${i}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const s=[];return i.width&&s.push(`width=${i.width}`),i.height&&s.push(`height=${i.height}`),i.resize&&s.push(`resize=${i.resize}`),i.format&&s.push(`format=${i.format}`),i.quality&&s.push(`quality=${i.quality}`),s.join("&")}}const version$2="2.5.1",DEFAULT_HEADERS$2={"X-Client-Info":`storage-js/${version$2}`};var __awaiter$6=globalThis&&globalThis.__awaiter||function(e,i,s,o){function a(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function h(_){try{b(o.next(_))}catch(_e){d(_e)}}function g(_){try{b(o.throw(_))}catch(_e){d(_e)}}function b(_){_.done?c(_.value):a(_.value).then(h,g)}b((o=o.apply(e,i||[])).next())})};class StorageBucketApi{constructor(i,s={},o){this.url=i,this.headers=Object.assign(Object.assign({},DEFAULT_HEADERS$2),s),this.fetch=resolveFetch$2(o)}listBuckets(){return __awaiter$6(this,void 0,void 0,function*(){try{return{data:yield get(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(i){if(isStorageError(i))return{data:null,error:i};throw i}})}getBucket(i){return __awaiter$6(this,void 0,void 0,function*(){try{return{data:yield get(this.fetch,`${this.url}/bucket/${i}`,{headers:this.headers}),error:null}}catch(s){if(isStorageError(s))return{data:null,error:s};throw s}})}createBucket(i,s={public:!1}){return __awaiter$6(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/bucket`,{id:i,name:i,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(isStorageError(o))return{data:null,error:o};throw o}})}updateBucket(i,s){return __awaiter$6(this,void 0,void 0,function*(){try{return{data:yield put(this.fetch,`${this.url}/bucket/${i}`,{id:i,name:i,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(isStorageError(o))return{data:null,error:o};throw o}})}emptyBucket(i){return __awaiter$6(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/bucket/${i}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(isStorageError(s))return{data:null,error:s};throw s}})}deleteBucket(i){return __awaiter$6(this,void 0,void 0,function*(){try{return{data:yield remove(this.fetch,`${this.url}/bucket/${i}`,{},{headers:this.headers}),error:null}}catch(s){if(isStorageError(s))return{data:null,error:s};throw s}})}}class StorageClient extends StorageBucketApi{constructor(i,s={},o){super(i,s,o)}from(i){return new StorageFileApi(this.url,this.headers,i,this.fetch)}}const version$1="2.25.0",DEFAULT_HEADERS$1={"X-Client-Info":`supabase-js/${version$1}`};var __awaiter$5=globalThis&&globalThis.__awaiter||function(e,i,s,o){function a(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function h(_){try{b(o.next(_))}catch(_e){d(_e)}}function g(_){try{b(o.throw(_))}catch(_e){d(_e)}}function b(_){_.done?c(_.value):a(_.value).then(h,g)}b((o=o.apply(e,i||[])).next())})};const resolveFetch$1=e=>{let i;return e?i=e:typeof fetch>"u"?i=crossFetch:i=fetch,(...s)=>i(...s)},resolveHeadersConstructor=()=>typeof Headers>"u"?browserPonyfillExports.Headers:Headers,fetchWithAuth=(e,i,s)=>{const o=resolveFetch$1(s),a=resolveHeadersConstructor();return(c,d)=>__awaiter$5(void 0,void 0,void 0,function*(){var h;const g=(h=yield i())!==null&&h!==void 0?h:e;let b=new a(d==null?void 0:d.headers);return b.has("apikey")||b.set("apikey",e),b.has("Authorization")||b.set("Authorization",`Bearer ${g}`),o(c,Object.assign(Object.assign({},d),{headers:b}))})};function stripTrailingSlash(e){return e.replace(/\/$/,"")}function applySettingDefaults(e,i){const{db:s,auth:o,realtime:a,global:c}=e,{db:d,auth:h,realtime:g,global:b}=i;return{db:Object.assign(Object.assign({},d),s),auth:Object.assign(Object.assign({},h),o),realtime:Object.assign(Object.assign({},g),a),global:Object.assign(Object.assign({},b),c)}}var __awaiter$4=globalThis&&globalThis.__awaiter||function(e,i,s,o){function a(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function h(_){try{b(o.next(_))}catch(_e){d(_e)}}function g(_){try{b(o.throw(_))}catch(_e){d(_e)}}function b(_){_.done?c(_.value):a(_.value).then(h,g)}b((o=o.apply(e,i||[])).next())})};function expiresAt(e){return Math.round(Date.now()/1e3)+e}function uuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const i=Math.random()*16|0;return(e=="x"?i:i&3|8).toString(16)})}const isBrowser=()=>typeof document<"u",localStorageWriteTests={tested:!1,writable:!1},supportsLocalStorage=()=>{if(!isBrowser())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(localStorageWriteTests.tested)return localStorageWriteTests.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!0}catch{localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!1}return localStorageWriteTests.writable};function getParameterByName(e,i){var s;i||(i=((s=window==null?void 0:window.location)===null||s===void 0?void 0:s.href)||""),e=e.replace(/[\[\]]/g,"\\$&");const o=new RegExp("[?&#]"+e+"(=([^&#]*)|&|#|$)"),a=o.exec(i);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}const resolveFetch=e=>{let i;return e?i=e:typeof fetch>"u"?i=(...s)=>__awaiter$4(void 0,void 0,void 0,function*(){return yield(yield __vitePreload(()=>Promise.resolve().then(()=>browserPonyfill),void 0)).fetch(...s)}):i=fetch,(...s)=>i(...s)},looksLikeFetchResponse=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",setItemAsync=(e,i,s)=>__awaiter$4(void 0,void 0,void 0,function*(){yield e.setItem(i,JSON.stringify(s))}),getItemAsync=(e,i)=>__awaiter$4(void 0,void 0,void 0,function*(){const s=yield e.getItem(i);if(!s)return null;try{return JSON.parse(s)}catch{return s}}),removeItemAsync=(e,i)=>__awaiter$4(void 0,void 0,void 0,function*(){yield e.removeItem(i)});function decodeBase64URL(e){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let s="",o,a,c,d,h,g,b,_=0;for(e=e.replace("-","+").replace("_","/");_<e.length;)d=i.indexOf(e.charAt(_++)),h=i.indexOf(e.charAt(_++)),g=i.indexOf(e.charAt(_++)),b=i.indexOf(e.charAt(_++)),o=d<<2|h>>4,a=(h&15)<<4|g>>2,c=(g&3)<<6|b,s=s+String.fromCharCode(o),g!=64&&a!=0&&(s=s+String.fromCharCode(a)),b!=64&&c!=0&&(s=s+String.fromCharCode(c));return s}class Deferred{constructor(){this.promise=new Deferred.promiseConstructor((i,s)=>{this.resolve=i,this.reject=s})}}Deferred.promiseConstructor=Promise;function decodeJWTPayload(e){const i=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,s=e.split(".");if(s.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!i.test(s[1]))throw new Error("JWT is not valid: payload is not in base64url format");const o=s[1];return JSON.parse(decodeBase64URL(o))}function sleep(e){return new Promise(i=>{setTimeout(()=>i(null),e)})}function retryable(e,i){return new Promise((o,a)=>{__awaiter$4(this,void 0,void 0,function*(){for(let c=0;c<1/0;c++)try{const d=yield e(c);if(!i(c,null,d)){o(d);return}}catch(d){if(!i(c,d)){a(d);return}}})})}function dec2hex(e){return("0"+e.toString(16)).substr(-2)}function generatePKCEVerifier(){const i=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=s.length;let a="";for(let c=0;c<56;c++)a+=s.charAt(Math.floor(Math.random()*o));return a}return crypto.getRandomValues(i),Array.from(i,dec2hex).join("")}function sha256(e){return __awaiter$4(this,void 0,void 0,function*(){const s=new TextEncoder().encode(e),o=yield crypto.subtle.digest("SHA-256",s),a=new Uint8Array(o);return Array.from(a).map(c=>String.fromCharCode(c)).join("")})}function base64urlencode(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function generatePKCEChallenge(e){return __awaiter$4(this,void 0,void 0,function*(){if(typeof crypto>"u")return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const i=yield sha256(e);return base64urlencode(i)})}class AuthError extends Error{constructor(i,s){super(i),this.__isAuthError=!0,this.name="AuthError",this.status=s}}function isAuthError(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class AuthApiError extends AuthError{constructor(i,s){super(i,s),this.name="AuthApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function isAuthApiError(e){return isAuthError(e)&&e.name==="AuthApiError"}class AuthUnknownError extends AuthError{constructor(i,s){super(i),this.name="AuthUnknownError",this.originalError=s}}class CustomAuthError extends AuthError{constructor(i,s,o){super(i),this.name=s,this.status=o}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class AuthSessionMissingError extends CustomAuthError{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class AuthInvalidTokenResponseError extends CustomAuthError{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class AuthInvalidCredentialsError extends CustomAuthError{constructor(i){super(i,"AuthInvalidCredentialsError",400)}}class AuthImplicitGrantRedirectError extends CustomAuthError{constructor(i,s=null){super(i,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class AuthPKCEGrantCodeExchangeError extends CustomAuthError{constructor(i,s=null){super(i,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class AuthRetryableFetchError extends CustomAuthError{constructor(i,s){super(i,"AuthRetryableFetchError",s)}}var __awaiter$3=globalThis&&globalThis.__awaiter||function(e,i,s,o){function a(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function h(_){try{b(o.next(_))}catch(_e){d(_e)}}function g(_){try{b(o.throw(_))}catch(_e){d(_e)}}function b(_){_.done?c(_.value):a(_.value).then(h,g)}b((o=o.apply(e,i||[])).next())})},__rest$1=globalThis&&globalThis.__rest||function(e,i){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&i.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)i.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(s[o[a]]=e[o[a]]);return s};const _getErrorMessage=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),handleError=(e,i)=>__awaiter$3(void 0,void 0,void 0,function*(){const s=[502,503,504];looksLikeFetchResponse(e)?s.includes(e.status)?i(new AuthRetryableFetchError(_getErrorMessage(e),e.status)):e.json().then(o=>{i(new AuthApiError(_getErrorMessage(o),e.status||500))}).catch(o=>{i(new AuthUnknownError(_getErrorMessage(o),o))}):i(new AuthRetryableFetchError(_getErrorMessage(e),0))}),_getRequestParams=(e,i,s,o)=>{const a={method:e,headers:(i==null?void 0:i.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},i==null?void 0:i.headers),a.body=JSON.stringify(o),Object.assign(Object.assign({},a),s))};function _request(e,i,s,o){var a;return __awaiter$3(this,void 0,void 0,function*(){const c=Object.assign({},o==null?void 0:o.headers);o!=null&&o.jwt&&(c.Authorization=`Bearer ${o.jwt}`);const d=(a=o==null?void 0:o.query)!==null&&a!==void 0?a:{};o!=null&&o.redirectTo&&(d.redirect_to=o.redirectTo);const h=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",g=yield _handleRequest(e,i,s+h,{headers:c,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(g):{data:Object.assign({},g),error:null}})}function _handleRequest(e,i,s,o,a,c){return __awaiter$3(this,void 0,void 0,function*(){return new Promise((d,h)=>{e(s,_getRequestParams(i,o,a,c)).then(g=>{if(!g.ok)throw g;return o!=null&&o.noResolveJson?g:g.json()}).then(g=>d(g)).catch(g=>handleError(g,h))})})}function _sessionResponse(e){var i;let s=null;hasSession(e)&&(s=Object.assign({},e),s.expires_at=expiresAt(e.expires_in));const o=(i=e.user)!==null&&i!==void 0?i:e;return{data:{session:s,user:o},error:null}}function _userResponse(e){var i;return{data:{user:(i=e.user)!==null&&i!==void 0?i:e},error:null}}function _ssoResponse(e){return{data:e,error:null}}function _generateLinkResponse(e){const{action_link:i,email_otp:s,hashed_token:o,redirect_to:a,verification_type:c}=e,d=__rest$1(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:i,email_otp:s,hashed_token:o,redirect_to:a,verification_type:c},g=Object.assign({},d);return{data:{properties:h,user:g},error:null}}function _noResolveJsonResponse(e){return e}function hasSession(e){return e.access_token&&e.refresh_token&&e.expires_in}var __awaiter$2=globalThis&&globalThis.__awaiter||function(e,i,s,o){function a(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function h(_){try{b(o.next(_))}catch(_e){d(_e)}}function g(_){try{b(o.throw(_))}catch(_e){d(_e)}}function b(_){_.done?c(_.value):a(_.value).then(h,g)}b((o=o.apply(e,i||[])).next())})},__rest=globalThis&&globalThis.__rest||function(e,i){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&i.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)i.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(s[o[a]]=e[o[a]]);return s};class GoTrueAdminApi{constructor({url:i="",headers:s={},fetch:o}){this.url=i,this.headers=s,this.fetch=resolveFetch(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(i){return __awaiter$2(this,void 0,void 0,function*(){try{return yield _request(this.fetch,"POST",`${this.url}/logout`,{headers:this.headers,jwt:i,noResolveJson:!0}),{data:null,error:null}}catch(s){if(isAuthError(s))return{data:null,error:s};throw s}})}inviteUserByEmail(i,s={}){return __awaiter$2(this,void 0,void 0,function*(){try{return yield _request(this.fetch,"POST",`${this.url}/invite`,{body:{email:i,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:_userResponse})}catch(o){if(isAuthError(o))return{data:{user:null},error:o};throw o}})}generateLink(i){return __awaiter$2(this,void 0,void 0,function*(){try{const{options:s}=i,o=__rest(i,["options"]),a=Object.assign(Object.assign({},o),s);return"newEmail"in o&&(a.new_email=o==null?void 0:o.newEmail,delete a.newEmail),yield _request(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:_generateLinkResponse,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(isAuthError(s))return{data:{properties:null,user:null},error:s};throw s}})}createUser(i){return __awaiter$2(this,void 0,void 0,function*(){try{return yield _request(this.fetch,"POST",`${this.url}/admin/users`,{body:i,headers:this.headers,xform:_userResponse})}catch(s){if(isAuthError(s))return{data:{user:null},error:s};throw s}})}listUsers(i){var s,o,a,c,d,h,g;return __awaiter$2(this,void 0,void 0,function*(){try{const b={nextPage:null,lastPage:0,total:0},_=yield _request(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(s=i==null?void 0:i.page)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:"",per_page:(c=(a=i==null?void 0:i.perPage)===null||a===void 0?void 0:a.toString())!==null&&c!==void 0?c:""},xform:_noResolveJsonResponse});if(_.error)throw _.error;const _e=yield _.json(),ot=(d=_.headers.get("x-total-count"))!==null&&d!==void 0?d:0,ut=(g=(h=_.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&g!==void 0?g:[];return ut.length>0&&(ut.forEach(rt=>{const it=parseInt(rt.split(";")[0].split("=")[1].substring(0,1)),dt=JSON.parse(rt.split(";")[1].split("=")[1]);b[`${dt}Page`]=it}),b.total=parseInt(ot)),{data:Object.assign(Object.assign({},_e),b),error:null}}catch(b){if(isAuthError(b))return{data:{users:[]},error:b};throw b}})}getUserById(i){return __awaiter$2(this,void 0,void 0,function*(){try{return yield _request(this.fetch,"GET",`${this.url}/admin/users/${i}`,{headers:this.headers,xform:_userResponse})}catch(s){if(isAuthError(s))return{data:{user:null},error:s};throw s}})}updateUserById(i,s){return __awaiter$2(this,void 0,void 0,function*(){try{return yield _request(this.fetch,"PUT",`${this.url}/admin/users/${i}`,{body:s,headers:this.headers,xform:_userResponse})}catch(o){if(isAuthError(o))return{data:{user:null},error:o};throw o}})}deleteUser(i,s=!1){return __awaiter$2(this,void 0,void 0,function*(){try{return yield _request(this.fetch,"DELETE",`${this.url}/admin/users/${i}`,{headers:this.headers,body:{should_soft_delete:s},xform:_userResponse})}catch(o){if(isAuthError(o))return{data:{user:null},error:o};throw o}})}_listFactors(i){return __awaiter$2(this,void 0,void 0,function*(){try{const{data:s,error:o}=yield _request(this.fetch,"GET",`${this.url}/admin/users/${i.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:s,error:o}}catch(s){if(isAuthError(s))return{data:null,error:s};throw s}})}_deleteFactor(i){return __awaiter$2(this,void 0,void 0,function*(){try{return{data:yield _request(this.fetch,"DELETE",`${this.url}/admin/users/${i.userId}/factors/${i.id}`,{headers:this.headers}),error:null}}catch(s){if(isAuthError(s))return{data:null,error:s};throw s}})}}const version="2.30.0",GOTRUE_URL="http://localhost:9999",STORAGE_KEY="supabase.auth.token",DEFAULT_HEADERS={"X-Client-Info":`gotrue-js/${version}`},EXPIRY_MARGIN=10,localStorageAdapter={getItem:e=>supportsLocalStorage()?globalThis.localStorage.getItem(e):null,setItem:(e,i)=>{supportsLocalStorage()&&globalThis.localStorage.setItem(e,i)},removeItem:e=>{supportsLocalStorage()&&globalThis.localStorage.removeItem(e)}};function polyfillGlobalThis(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var __awaiter$1=globalThis&&globalThis.__awaiter||function(e,i,s,o){function a(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function h(_){try{b(o.next(_))}catch(_e){d(_e)}}function g(_){try{b(o.throw(_))}catch(_e){d(_e)}}function b(_){_.done?c(_.value):a(_.value).then(h,g)}b((o=o.apply(e,i||[])).next())})};polyfillGlobalThis();const DEFAULT_OPTIONS={url:GOTRUE_URL,storageKey:STORAGE_KEY,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DEFAULT_HEADERS,flowType:"implicit"},AUTO_REFRESH_TICK_DURATION=30*1e3,AUTO_REFRESH_TICK_THRESHOLD=3;class GoTrueClient{constructor(i){var s;this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.broadcastChannel=null;const o=Object.assign(Object.assign({},DEFAULT_OPTIONS),i);if(this.inMemorySession=null,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.persistSession=o.persistSession,this.storage=o.storage||localStorageAdapter,this.admin=new GoTrueAdminApi({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=resolveFetch(o.fetch),this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession&&this.storage===localStorageAdapter&&!supportsLocalStorage()&&console.warn(`No storage option exists to persist the session, which may result in unexpected behavior when using auth.
        If you want to set persistSession to true, please provide a storage option or you may set persistSession to false to disable this warning.`),isBrowser()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",a=>__awaiter$1(this,void 0,void 0,function*(){yield this._notifyAllSubscribers(a.data.event,a.data.session,!1)}))}this.initialize()}initialize(){return this.initializePromise||(this.initializePromise=this._initialize()),this.initializePromise}_initialize(){return __awaiter$1(this,void 0,void 0,function*(){if(this.initializePromise)return this.initializePromise;try{const i=isBrowser()?yield this._isPKCEFlow():!1;if(i||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:s,error:o}=yield this._getSessionFromUrl(i);if(o)return yield this._removeSession(),{error:o};const{session:a,redirectType:c}=s;return yield this._saveSession(a),setTimeout(()=>__awaiter$1(this,void 0,void 0,function*(){c==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(i){return isAuthError(i)?{error:i}:{error:new AuthUnknownError("Unexpected error during initialization",i)}}finally{yield this._handleVisibilityChange()}})}signUp(i){var s,o,a;return __awaiter$1(this,void 0,void 0,function*(){try{yield this._removeSession();let c;if("email"in i){const{email:_,password:_e,options:ot}=i;let ut=null,rt=null;if(this.flowType==="pkce"){const it=generatePKCEVerifier();yield setItemAsync(this.storage,`${this.storageKey}-code-verifier`,it),ut=yield generatePKCEChallenge(it),rt=it===ut?"plain":"s256"}c=yield _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:ot==null?void 0:ot.emailRedirectTo,body:{email:_,password:_e,data:(s=ot==null?void 0:ot.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:ot==null?void 0:ot.captchaToken},code_challenge:ut,code_challenge_method:rt},xform:_sessionResponse})}else if("phone"in i){const{phone:_,password:_e,options:ot}=i;c=yield _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:_e,data:(o=ot==null?void 0:ot.data)!==null&&o!==void 0?o:{},channel:(a=ot==null?void 0:ot.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:ot==null?void 0:ot.captchaToken}},xform:_sessionResponse})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:d,error:h}=c;if(h||!d)return{data:{user:null,session:null},error:h};const g=d.session,b=d.user;return d.session&&(yield this._saveSession(d.session),yield this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:b,session:g},error:null}}catch(c){if(isAuthError(c))return{data:{user:null,session:null},error:c};throw c}})}signInWithPassword(i){return __awaiter$1(this,void 0,void 0,function*(){try{yield this._removeSession();let s;if("email"in i){const{email:c,password:d,options:h}=i;s=yield _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:_sessionResponse})}else if("phone"in i){const{phone:c,password:d,options:h}=i;s=yield _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:_sessionResponse})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:o,error:a}=s;return a?{data:{user:null,session:null},error:a}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:{user:o.user,session:o.session},error:a})}catch(s){if(isAuthError(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithOAuth(i){var s,o,a,c;return __awaiter$1(this,void 0,void 0,function*(){return yield this._removeSession(),yield this._handleProviderSignIn(i.provider,{redirectTo:(s=i.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=i.options)===null||o===void 0?void 0:o.scopes,queryParams:(a=i.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(c=i.options)===null||c===void 0?void 0:c.skipBrowserRedirect})})}exchangeCodeForSession(i){return __awaiter$1(this,void 0,void 0,function*(){const s=yield getItemAsync(this.storage,`${this.storageKey}-code-verifier`),{data:o,error:a}=yield _request(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:i,code_verifier:s},xform:_sessionResponse});return yield removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),a?{data:{user:null,session:null},error:a}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:a})})}signInWithIdToken(i){return __awaiter$1(this,void 0,void 0,function*(){yield this._removeSession();try{const{options:s,provider:o,token:a,nonce:c}=i,d=yield _request(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:a,nonce:c,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:_sessionResponse}),{data:h,error:g}=d;return g?{data:{user:null,session:null},error:g}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(h.session&&(yield this._saveSession(h.session),yield this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:g})}catch(s){if(isAuthError(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithOtp(i){var s,o,a,c,d;return __awaiter$1(this,void 0,void 0,function*(){try{if(yield this._removeSession(),"email"in i){const{email:h,options:g}=i;let b=null,_=null;if(this.flowType==="pkce"){const ot=generatePKCEVerifier();yield setItemAsync(this.storage,`${this.storageKey}-code-verifier`,ot),b=yield generatePKCEChallenge(ot),_=ot===b?"plain":"s256"}const{error:_e}=yield _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(s=g==null?void 0:g.data)!==null&&s!==void 0?s:{},create_user:(o=g==null?void 0:g.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:b,code_challenge_method:_},redirectTo:g==null?void 0:g.emailRedirectTo});return{data:{user:null,session:null},error:_e}}if("phone"in i){const{phone:h,options:g}=i,{error:b}=yield _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(a=g==null?void 0:g.data)!==null&&a!==void 0?a:{},create_user:(c=g==null?void 0:g.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(d=g==null?void 0:g.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null},error:b}}throw new AuthInvalidCredentialsError("You must provide either an email or phone number.")}catch(h){if(isAuthError(h))return{data:{user:null,session:null},error:h};throw h}})}verifyOtp(i){var s,o;return __awaiter$1(this,void 0,void 0,function*(){try{i.type!=="email_change"&&i.type!=="phone_change"&&(yield this._removeSession());const{data:a,error:c}=yield _request(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},i),{gotrue_meta_security:{captcha_token:(s=i.options)===null||s===void 0?void 0:s.captchaToken}}),redirectTo:(o=i.options)===null||o===void 0?void 0:o.redirectTo,xform:_sessionResponse});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");const d=a.session,h=a.user;return d!=null&&d.access_token&&(yield this._saveSession(d),yield this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(a){if(isAuthError(a))return{data:{user:null,session:null},error:a};throw a}})}signInWithSSO(i){var s,o,a;return __awaiter$1(this,void 0,void 0,function*(){try{return yield this._removeSession(),yield _request(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in i?{provider_id:i.providerId}:null),"domain"in i?{domain:i.domain}:null),{redirect_to:(o=(s=i.options)===null||s===void 0?void 0:s.redirectTo)!==null&&o!==void 0?o:void 0}),!((a=i==null?void 0:i.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:i.options.captchaToken}}:null),{skip_http_redirect:!0}),headers:this.headers,xform:_ssoResponse})}catch(c){if(isAuthError(c))return{data:null,error:c};throw c}})}reauthenticate(){return __awaiter$1(this,void 0,void 0,function*(){try{const{data:{session:i},error:s}=yield this.getSession();if(s)throw s;if(!i)throw new AuthSessionMissingError;const{error:o}=yield _request(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return{data:{user:null,session:null},error:o}}catch(i){if(isAuthError(i))return{data:{user:null,session:null},error:i};throw i}})}resend(i){return __awaiter$1(this,void 0,void 0,function*(){try{yield this._removeSession();const s=`${this.url}/resend`;if("email"in i){const{email:o,type:a,options:c}=i,{error:d}=yield _request(this.fetch,"POST",s,{headers:this.headers,body:{email:o,type:a,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return{data:{user:null,session:null},error:d}}else if("phone"in i){const{phone:o,type:a,options:c}=i,{error:d}=yield _request(this.fetch,"POST",s,{headers:this.headers,body:{phone:o,type:a,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return{data:{user:null,session:null},error:d}}throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a type")}catch(s){if(isAuthError(s))return{data:{user:null,session:null},error:s};throw s}})}getSession(){return __awaiter$1(this,void 0,void 0,function*(){yield this.initializePromise;let i=null;if(this.persistSession){const c=yield getItemAsync(this.storage,this.storageKey);c!==null&&(this._isValidSession(c)?i=c:yield this._removeSession())}else i=this.inMemorySession;if(!i)return{data:{session:null},error:null};if(!(i.expires_at?i.expires_at<=Date.now()/1e3:!1))return{data:{session:i},error:null};const{session:o,error:a}=yield this._callRefreshToken(i.refresh_token);return a?{data:{session:null},error:a}:{data:{session:o},error:null}})}getUser(i){var s,o;return __awaiter$1(this,void 0,void 0,function*(){try{if(!i){const{data:a,error:c}=yield this.getSession();if(c)throw c;i=(o=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0}return yield _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:i,xform:_userResponse})}catch(a){if(isAuthError(a))return{data:{user:null},error:a};throw a}})}updateUser(i,s={}){return __awaiter$1(this,void 0,void 0,function*(){try{const{data:o,error:a}=yield this.getSession();if(a)throw a;if(!o.session)throw new AuthSessionMissingError;const c=o.session,{data:d,error:h}=yield _request(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:i,jwt:c.access_token,xform:_userResponse});if(h)throw h;return c.user=d.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}}catch(o){if(isAuthError(o))return{data:{user:null},error:o};throw o}})}_decodeJWT(i){return decodeJWTPayload(i)}setSession(i){return __awaiter$1(this,void 0,void 0,function*(){try{if(!i.access_token||!i.refresh_token)throw new AuthSessionMissingError;const s=Date.now()/1e3;let o=s,a=!0,c=null;const d=decodeJWTPayload(i.access_token);if(d.exp&&(o=d.exp,a=o<=s),a){const{session:h,error:g}=yield this._callRefreshToken(i.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!h)return{data:{user:null,session:null},error:null};c=h}else{const{data:h,error:g}=yield this.getUser(i.access_token);if(g)throw g;c={access_token:i.access_token,refresh_token:i.refresh_token,user:h.user,token_type:"bearer",expires_in:o-s,expires_at:o},yield this._saveSession(c),yield this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(s){if(isAuthError(s))return{data:{session:null,user:null},error:s};throw s}})}refreshSession(i){var s;return __awaiter$1(this,void 0,void 0,function*(){try{if(!i){const{data:c,error:d}=yield this.getSession();if(d)throw d;i=(s=c.session)!==null&&s!==void 0?s:void 0}if(!(i!=null&&i.refresh_token))throw new AuthSessionMissingError;const{session:o,error:a}=yield this._callRefreshToken(i.refresh_token);return a?{data:{user:null,session:null},error:a}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}}catch(o){if(isAuthError(o))return{data:{user:null,session:null},error:o};throw o}})}_getSessionFromUrl(i){return __awaiter$1(this,void 0,void 0,function*(){try{if(!isBrowser())throw new AuthImplicitGrantRedirectError("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new AuthImplicitGrantRedirectError("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!i)throw new AuthPKCEGrantCodeExchangeError("Not a valid PKCE flow url.");if(i){const dt=getParameterByName("code");if(!dt)throw new AuthPKCEGrantCodeExchangeError("No code detected.");const{data:tt,error:st}=yield this.exchangeCodeForSession(dt);if(st)throw st;if(!tt.session)throw new AuthPKCEGrantCodeExchangeError("No session detected.");let nt=new URL(window.location.href);return nt.searchParams.delete("code"),window.history.replaceState(window.history.state,"",nt.toString()),{data:{session:tt.session,redirectType:null},error:null}}const s=getParameterByName("error_description");if(s){const dt=getParameterByName("error_code");if(!dt)throw new AuthImplicitGrantRedirectError("No error_code detected.");const tt=getParameterByName("error");throw tt?new AuthImplicitGrantRedirectError(s,{error:tt,code:dt}):new AuthImplicitGrantRedirectError("No error detected.")}const o=getParameterByName("provider_token"),a=getParameterByName("provider_refresh_token"),c=getParameterByName("access_token");if(!c)throw new AuthImplicitGrantRedirectError("No access_token detected.");const d=getParameterByName("expires_in");if(!d)throw new AuthImplicitGrantRedirectError("No expires_in detected.");const h=getParameterByName("refresh_token");if(!h)throw new AuthImplicitGrantRedirectError("No refresh_token detected.");const g=getParameterByName("token_type");if(!g)throw new AuthImplicitGrantRedirectError("No token_type detected.");const _=Math.round(Date.now()/1e3)+parseInt(d),{data:_e,error:ot}=yield this.getUser(c);if(ot)throw ot;const ut=_e.user,rt={provider_token:o,provider_refresh_token:a,access_token:c,expires_in:parseInt(d),expires_at:_,refresh_token:h,token_type:g,user:ut},it=getParameterByName("type");return window.location.hash="",{data:{session:rt,redirectType:it},error:null}}catch(s){if(isAuthError(s))return{data:{session:null,redirectType:null},error:s};throw s}})}_isImplicitGrantFlow(){return isBrowser()&&(!!getParameterByName("access_token")||!!getParameterByName("error_description"))}_isPKCEFlow(){return __awaiter$1(this,void 0,void 0,function*(){const i=yield getItemAsync(this.storage,`${this.storageKey}-code-verifier`);return!!getParameterByName("code")&&!!i})}signOut(){var i;return __awaiter$1(this,void 0,void 0,function*(){const{data:s,error:o}=yield this.getSession();if(o)return{error:o};const a=(i=s.session)===null||i===void 0?void 0:i.access_token;if(a){const{error:c}=yield this.admin.signOut(a);if(c&&!(isAuthApiError(c)&&(c.status===404||c.status===401)))return{error:c}}return yield this._removeSession(),yield removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),yield this._notifyAllSubscribers("SIGNED_OUT",null),{error:null}})}onAuthStateChange(i){const s=uuid(),o={id:s,callback:i,unsubscribe:()=>{this.stateChangeEmitters.delete(s)}};return this.stateChangeEmitters.set(s,o),this.emitInitialSession(s),{data:{subscription:o}}}emitInitialSession(i){var s,o;return __awaiter$1(this,void 0,void 0,function*(){try{const{data:{session:a},error:c}=yield this.getSession();if(c)throw c;yield(s=this.stateChangeEmitters.get(i))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",a)}catch(a){yield(o=this.stateChangeEmitters.get(i))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),console.error(a)}})}resetPasswordForEmail(i,s={}){return __awaiter$1(this,void 0,void 0,function*(){let o=null,a=null;if(this.flowType==="pkce"){const c=generatePKCEVerifier();yield setItemAsync(this.storage,`${this.storageKey}-code-verifier`,c),o=yield generatePKCEChallenge(c),a=c===o?"plain":"s256"}try{return yield _request(this.fetch,"POST",`${this.url}/recover`,{body:{email:i,code_challenge:o,code_challenge_method:a,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(c){if(isAuthError(c))return{data:null,error:c};throw c}})}_refreshAccessToken(i){return __awaiter$1(this,void 0,void 0,function*(){try{const s=Date.now();return yield retryable(o=>__awaiter$1(this,void 0,void 0,function*(){return yield sleep(o*200),yield _request(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:i},headers:this.headers,xform:_sessionResponse})}),(o,a,c)=>c&&c.error&&c.error instanceof AuthRetryableFetchError&&Date.now()+(o+1)*200-s<AUTO_REFRESH_TICK_DURATION)}catch(s){if(isAuthError(s))return{data:{session:null,user:null},error:s};throw s}})}_isValidSession(i){return typeof i=="object"&&i!==null&&"access_token"in i&&"refresh_token"in i&&"expires_at"in i}_handleProviderSignIn(i,s){return __awaiter$1(this,void 0,void 0,function*(){const o=yield this._getUrlForProvider(i,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return isBrowser()&&!s.skipBrowserRedirect&&window.location.assign(o),{data:{provider:i,url:o},error:null}})}_recoverAndRefresh(){var i;return __awaiter$1(this,void 0,void 0,function*(){try{const s=yield getItemAsync(this.storage,this.storageKey);if(!this._isValidSession(s)){s!==null&&(yield this._removeSession());return}const o=Math.round(Date.now()/1e3);if(((i=s.expires_at)!==null&&i!==void 0?i:1/0)<o+EXPIRY_MARGIN){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=yield this._callRefreshToken(s.refresh_token);a&&(console.log(a.message),yield this._removeSession())}}else this.persistSession&&(yield this._saveSession(s)),yield this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){console.error(s);return}})}_callRefreshToken(i){var s,o;return __awaiter$1(this,void 0,void 0,function*(){if(this.refreshingDeferred)return this.refreshingDeferred.promise;try{if(this.refreshingDeferred=new Deferred,!i)throw new AuthSessionMissingError;const{data:a,error:c}=yield this._refreshAccessToken(i);if(c)throw c;if(!a.session)throw new AuthSessionMissingError;yield this._saveSession(a.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const d={session:a.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(a){if(isAuthError(a)){const c={session:null,error:a};return(s=this.refreshingDeferred)===null||s===void 0||s.resolve(c),c}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(a),a}finally{this.refreshingDeferred=null}})}_notifyAllSubscribers(i,s,o=!0){return __awaiter$1(this,void 0,void 0,function*(){this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:i,session:s});const a=[],c=Array.from(this.stateChangeEmitters.values()).map(d=>__awaiter$1(this,void 0,void 0,function*(){try{yield d.callback(i,s)}catch(h){a.push(h)}}));if(yield Promise.all(c),a.length>0){for(let d=0;d<a.length;d+=1)console.error(a[d]);throw a[0]}})}_saveSession(i){return __awaiter$1(this,void 0,void 0,function*(){this.persistSession||(this.inMemorySession=i),this.persistSession&&i.expires_at&&(yield this._persistSession(i))})}_persistSession(i){return setItemAsync(this.storage,this.storageKey,i)}_removeSession(){return __awaiter$1(this,void 0,void 0,function*(){this.persistSession?yield removeItemAsync(this.storage,this.storageKey):this.inMemorySession=null})}_removeVisibilityChangedCallback(){const i=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{i&&isBrowser()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",i)}catch(s){console.error("removing visibilitychange callback failed",s)}}_startAutoRefresh(){return __awaiter$1(this,void 0,void 0,function*(){yield this._stopAutoRefresh();const i=setInterval(()=>this._autoRefreshTokenTick(),AUTO_REFRESH_TICK_DURATION);this.autoRefreshTicker=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i),yield this._autoRefreshTokenTick()})}_stopAutoRefresh(){return __awaiter$1(this,void 0,void 0,function*(){const i=this.autoRefreshTicker;this.autoRefreshTicker=null,i&&clearInterval(i)})}startAutoRefresh(){return __awaiter$1(this,void 0,void 0,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return __awaiter$1(this,void 0,void 0,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return __awaiter$1(this,void 0,void 0,function*(){const i=Date.now();try{const{data:{session:s}}=yield this.getSession();if(!s||!s.refresh_token||!s.expires_at)return;Math.floor((s.expires_at*1e3-i)/AUTO_REFRESH_TICK_DURATION)<AUTO_REFRESH_TICK_THRESHOLD&&(yield this._callRefreshToken(s.refresh_token))}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}})}_handleVisibilityChange(){return __awaiter$1(this,void 0,void 0,function*(){if(!isBrowser()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>__awaiter$1(this,void 0,void 0,function*(){return yield this._onVisibilityChanged(!1)}),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(i){console.error("_handleVisibilityChange",i)}})}_onVisibilityChanged(i){return __awaiter$1(this,void 0,void 0,function*(){document.visibilityState==="visible"?(i||(yield this.initializePromise,yield this._recoverAndRefresh()),this.autoRefreshToken&&this._startAutoRefresh()):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(i,s){return __awaiter$1(this,void 0,void 0,function*(){const o=[`provider=${encodeURIComponent(i)}`];if(s!=null&&s.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const a=generatePKCEVerifier();yield setItemAsync(this.storage,`${this.storageKey}-code-verifier`,a);const c=yield generatePKCEChallenge(a),d=a===c?"plain":"s256",h=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(d)}`});o.push(h.toString())}if(s!=null&&s.queryParams){const a=new URLSearchParams(s.queryParams);o.push(a.toString())}return`${this.url}/authorize?${o.join("&")}`})}_unenroll(i){var s;return __awaiter$1(this,void 0,void 0,function*(){try{const{data:o,error:a}=yield this.getSession();return a?{data:null,error:a}:yield _request(this.fetch,"DELETE",`${this.url}/factors/${i.factorId}`,{headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token})}catch(o){if(isAuthError(o))return{data:null,error:o};throw o}})}_enroll(i){var s,o;return __awaiter$1(this,void 0,void 0,function*(){try{const{data:a,error:c}=yield this.getSession();if(c)return{data:null,error:c};const{data:d,error:h}=yield _request(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:i.friendlyName,factor_type:i.factorType,issuer:i.issuer},headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return h?{data:null,error:h}:(!((o=d==null?void 0:d.totp)===null||o===void 0)&&o.qr_code&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})}catch(a){if(isAuthError(a))return{data:null,error:a};throw a}})}_verify(i){var s;return __awaiter$1(this,void 0,void 0,function*(){try{const{data:o,error:a}=yield this.getSession();if(a)return{data:null,error:a};const{data:c,error:d}=yield _request(this.fetch,"POST",`${this.url}/factors/${i.factorId}/verify`,{body:{code:i.code,challenge_id:i.challengeId},headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token});return d?{data:null,error:d}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:d})}catch(o){if(isAuthError(o))return{data:null,error:o};throw o}})}_challenge(i){var s;return __awaiter$1(this,void 0,void 0,function*(){try{const{data:o,error:a}=yield this.getSession();return a?{data:null,error:a}:yield _request(this.fetch,"POST",`${this.url}/factors/${i.factorId}/challenge`,{headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token})}catch(o){if(isAuthError(o))return{data:null,error:o};throw o}})}_challengeAndVerify(i){return __awaiter$1(this,void 0,void 0,function*(){const{data:s,error:o}=yield this._challenge({factorId:i.factorId});return o?{data:null,error:o}:yield this._verify({factorId:i.factorId,challengeId:s.id,code:i.code})})}_listFactors(){return __awaiter$1(this,void 0,void 0,function*(){const{data:{user:i},error:s}=yield this.getUser();if(s)return{data:null,error:s};const o=(i==null?void 0:i.factors)||[],a=o.filter(c=>c.factor_type==="totp"&&c.status==="verified");return{data:{all:o,totp:a},error:null}})}_getAuthenticatorAssuranceLevel(){var i,s;return __awaiter$1(this,void 0,void 0,function*(){const{data:{session:o},error:a}=yield this.getSession();if(a)return{data:null,error:a};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const c=this._decodeJWT(o.access_token);let d=null;c.aal&&(d=c.aal);let h=d;((s=(i=o.user.factors)===null||i===void 0?void 0:i.filter(_=>_.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(h="aal2");const b=c.amr||[];return{data:{currentLevel:d,nextLevel:h,currentAuthenticationMethods:b},error:null}})}}class SupabaseAuthClient extends GoTrueClient{constructor(i){super(i)}}var __awaiter=globalThis&&globalThis.__awaiter||function(e,i,s,o){function a(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function h(_){try{b(o.next(_))}catch(_e){d(_e)}}function g(_){try{b(o.throw(_))}catch(_e){d(_e)}}function b(_){_.done?c(_.value):a(_.value).then(h,g)}b((o=o.apply(e,i||[])).next())})};const DEFAULT_GLOBAL_OPTIONS={headers:DEFAULT_HEADERS$1},DEFAULT_DB_OPTIONS={schema:"public"},DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},DEFAULT_REALTIME_OPTIONS={};class SupabaseClient{constructor(i,s,o){var a,c,d,h,g,b,_,_e;if(this.supabaseUrl=i,this.supabaseKey=s,!i)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const ot=stripTrailingSlash(i);this.realtimeUrl=`${ot}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${ot}/auth/v1`,this.storageUrl=`${ot}/storage/v1`,this.functionsUrl=`${ot}/functions/v1`;const ut=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,rt={db:DEFAULT_DB_OPTIONS,realtime:DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},DEFAULT_AUTH_OPTIONS),{storageKey:ut}),global:DEFAULT_GLOBAL_OPTIONS},it=applySettingDefaults(o??{},rt);this.storageKey=(c=(a=it.auth)===null||a===void 0?void 0:a.storageKey)!==null&&c!==void 0?c:"",this.headers=(h=(d=it.global)===null||d===void 0?void 0:d.headers)!==null&&h!==void 0?h:{},this.auth=this._initSupabaseAuthClient((g=it.auth)!==null&&g!==void 0?g:{},this.headers,(b=it.global)===null||b===void 0?void 0:b.fetch),this.fetch=fetchWithAuth(s,this._getAccessToken.bind(this),(_=it.global)===null||_===void 0?void 0:_.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},it.realtime)),this.rest=new PostgrestClient(`${ot}/rest/v1`,{headers:this.headers,schema:(_e=it.db)===null||_e===void 0?void 0:_e.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new FunctionsClient(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new StorageClient(this.storageUrl,this.headers,this.fetch)}from(i){return this.rest.from(i)}rpc(i,s={},o){return this.rest.rpc(i,s,o)}channel(i,s={config:{}}){return this.realtime.channel(i,s)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var i,s;return __awaiter(this,void 0,void 0,function*(){const{data:o}=yield this.auth.getSession();return(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:s,detectSessionInUrl:o,storage:a,storageKey:c,flowType:d},h,g){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SupabaseAuthClient({url:this.authUrl,headers:Object.assign(Object.assign({},b),h),storageKey:c,autoRefreshToken:i,persistSession:s,detectSessionInUrl:o,storage:a,flowType:d,fetch:g})}_initRealtimeClient(i){return new RealtimeClient(this.realtimeUrl,Object.assign(Object.assign({},i),{params:Object.assign({apikey:this.supabaseKey},i==null?void 0:i.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,o)=>{this._handleTokenChanged(s,o==null?void 0:o.access_token,"CLIENT")})}_handleTokenChanged(i,s,o){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==s?(this.realtime.setAuth(s??null),this.changedAccessToken=s):i==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),o=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const createClient=(e,i,s)=>new SupabaseClient(e,i,s),supabaseUrl="https://emoimoycgytvcixzgjiy.supabase.co",supabaseAnonKey="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVtb2ltb3ljZ3l0dmNpeHpnaml5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2ODY4NjEyMDMsImV4cCI6MjAwMjQzNzIwM30.SGbmnBFdepY81aUKfSQf77YJ1jsHAhyYycm6qycDvfw";console.log(supabaseUrl,supabaseAnonKey);const supabase=createClient(supabaseUrl,supabaseAnonKey);function Auth(){const[e,i]=reactExports.useState(!1),[s,o]=reactExports.useState("");console.log("rendering auth");const a=async c=>{c.preventDefault(),i(!0);const{error:d}=await supabase.auth.signInWithOtp({email:s,redirectTo:"http://workspace.gn-works.com"});d?(alert(d.error_description||d.message),console.log(d)):alert("Check your email for the login link!"),i(!1)};return jsxRuntimeExports.jsx("div",{className:"row flex flex-center",children:jsxRuntimeExports.jsxs("div",{className:"col-6 form-widget",children:[jsxRuntimeExports.jsx("h1",{className:"header",children:"Welcome to the Workspace"}),jsxRuntimeExports.jsx("p",{className:"description",children:"Sign in via magic link with your email below"}),jsxRuntimeExports.jsxs("form",{className:"form-widget",onSubmit:a,children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("input",{className:"inputField",type:"email",placeholder:"Your email",value:s,required:!0,onChange:c=>o(c.target.value)})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("button",{className:"button block",disabled:e,children:e?jsxRuntimeExports.jsx("span",{children:"Loading"}):jsxRuntimeExports.jsx("span",{children:"Send magic link"})})})]})]})})}function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(i,s){module.exports=s()})(globalThis,()=>(()=>{var __webpack_modules__=[,(e,i)=>{var Ht;Object.defineProperty(i,"__esModule",{value:!0}),i.VerbosityLevel=i.Util=i.UnknownErrorException=i.UnexpectedResponseException=i.TextRenderingMode=i.RenderingIntentFlag=i.PromiseCapability=i.PermissionFlag=i.PasswordResponses=i.PasswordException=i.PageActionEventType=i.OPS=i.MissingPDFException=i.MAX_IMAGE_SIZE_TO_CACHE=i.LINE_FACTOR=i.LINE_DESCENT_FACTOR=i.InvalidPDFException=i.ImageKind=i.IDENTITY_MATRIX=i.FormatError=i.FeatureTest=i.FONT_IDENTITY_MATRIX=i.DocumentActionEventType=i.CMapCompressionType=i.BaseException=i.BASELINE_FACTOR=i.AnnotationType=i.AnnotationStateModelType=i.AnnotationReviewState=i.AnnotationReplyType=i.AnnotationMode=i.AnnotationMarkedState=i.AnnotationFlag=i.AnnotationFieldFlag=i.AnnotationEditorType=i.AnnotationEditorPrefix=i.AnnotationEditorParamsType=i.AnnotationBorderStyleType=i.AnnotationActionEventType=i.AbortException=void 0,i.assert=Jt,i.bytesToString=Tt,i.createValidAbsoluteUrl=un,i.getModificationDate=yn,i.getVerbosityLevel=Zt,i.info=jt,i.isArrayBuffer=ln,i.isArrayEqual=pn,i.normalizeUnicode=zt,i.objectFromMap=Et,i.objectSize=mt,i.setVerbosityLevel=Kt,i.shadow=Ct,i.string32=ct,i.stringToBytes=et,i.stringToPDFString=sn,i.stringToUTF8String=tn,i.unreachable=Qt,i.utf8StringToString=rn,i.warn=$t;const s=[1,0,0,1,0,0];i.IDENTITY_MATRIX=s;const o=[.001,0,0,.001,0,0];i.FONT_IDENTITY_MATRIX=o;const a=1e7;i.MAX_IMAGE_SIZE_TO_CACHE=a;const c=1.35;i.LINE_FACTOR=c;const d=.35;i.LINE_DESCENT_FACTOR=d;const h=d/c;i.BASELINE_FACTOR=h;const g={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};i.RenderingIntentFlag=g;const b={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};i.AnnotationMode=b;const _="pdfjs_internal_editor_";i.AnnotationEditorPrefix=_;const _e={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};i.AnnotationEditorType=_e;const ot={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};i.AnnotationEditorParamsType=ot;const ut={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};i.PermissionFlag=ut;const rt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};i.TextRenderingMode=rt;const it={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};i.ImageKind=it;const dt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};i.AnnotationType=dt;const tt={MARKED:"Marked",REVIEW:"Review"};i.AnnotationStateModelType=tt;const st={MARKED:"Marked",UNMARKED:"Unmarked"};i.AnnotationMarkedState=st;const nt={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};i.AnnotationReviewState=nt;const $={GROUP:"Group",REPLY:"R"};i.AnnotationReplyType=$;const _t={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};i.AnnotationFlag=_t;const At={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};i.AnnotationFieldFlag=At;const ft={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};i.AnnotationBorderStyleType=ft;const j={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};i.AnnotationActionEventType=j;const at={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};i.DocumentActionEventType=at;const yt={O:"PageOpen",C:"PageClose"};i.PageActionEventType=yt;const lt={ERRORS:0,WARNINGS:1,INFOS:5};i.VerbosityLevel=lt;const vt={NONE:0,BINARY:1};i.CMapCompressionType=vt;const xt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};i.OPS=xt;const bt={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};i.PasswordResponses=bt;let It=lt.WARNINGS;function Kt(Ft){Number.isInteger(Ft)&&(It=Ft)}function Zt(){return It}function jt(Ft){It>=lt.INFOS&&console.log(`Info: ${Ft}`)}function $t(Ft){It>=lt.WARNINGS&&console.log(`Warning: ${Ft}`)}function Qt(Ft){throw new Error(Ft)}function Jt(Ft,Ot){Ft||Qt(Ot)}function on(Ft){switch(Ft==null?void 0:Ft.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function un(Ft,Ot=null,Dt=null){if(!Ft)return null;try{if(Dt&&typeof Ft=="string"){if(Dt.addDefaultProtocol&&Ft.startsWith("www.")){const fn=Ft.match(/\./g);(fn==null?void 0:fn.length)>=2&&(Ft=`http://${Ft}`)}if(Dt.tryConvertEncoding)try{Ft=tn(Ft)}catch{}}const en=Ot?new URL(Ft,Ot):new URL(Ft);if(on(en))return en}catch{}return null}function Ct(Ft,Ot,Dt,en=!1){return Object.defineProperty(Ft,Ot,{value:Dt,enumerable:!en,configurable:!0,writable:!1}),Dt}const ht=function(){function Ot(Dt,en){this.constructor===Ot&&Qt("Cannot initialize BaseException."),this.message=Dt,this.name=en}return Ot.prototype=new Error,Ot.constructor=Ot,Ot}();i.BaseException=ht;class gt extends ht{constructor(Ot,Dt){super(Ot,"PasswordException"),this.code=Dt}}i.PasswordException=gt;class wt extends ht{constructor(Ot,Dt){super(Ot,"UnknownErrorException"),this.details=Dt}}i.UnknownErrorException=wt;class Rt extends ht{constructor(Ot){super(Ot,"InvalidPDFException")}}i.InvalidPDFException=Rt;class Mt extends ht{constructor(Ot){super(Ot,"MissingPDFException")}}i.MissingPDFException=Mt;class Nt extends ht{constructor(Ot,Dt){super(Ot,"UnexpectedResponseException"),this.status=Dt}}i.UnexpectedResponseException=Nt;class Pt extends ht{constructor(Ot){super(Ot,"FormatError")}}i.FormatError=Pt;class kt extends ht{constructor(Ot){super(Ot,"AbortException")}}i.AbortException=kt;function Tt(Ft){(typeof Ft!="object"||(Ft==null?void 0:Ft.length)===void 0)&&Qt("Invalid argument for bytesToString");const Ot=Ft.length,Dt=8192;if(Ot<Dt)return String.fromCharCode.apply(null,Ft);const en=[];for(let fn=0;fn<Ot;fn+=Dt){const vn=Math.min(fn+Dt,Ot),mn=Ft.subarray(fn,vn);en.push(String.fromCharCode.apply(null,mn))}return en.join("")}function et(Ft){typeof Ft!="string"&&Qt("Invalid argument for stringToBytes");const Ot=Ft.length,Dt=new Uint8Array(Ot);for(let en=0;en<Ot;++en)Dt[en]=Ft.charCodeAt(en)&255;return Dt}function ct(Ft){return String.fromCharCode(Ft>>24&255,Ft>>16&255,Ft>>8&255,Ft&255)}function mt(Ft){return Object.keys(Ft).length}function Et(Ft){const Ot=Object.create(null);for(const[Dt,en]of Ft)Ot[Dt]=en;return Ot}function St(){const Ft=new Uint8Array(4);return Ft[0]=1,new Uint32Array(Ft.buffer,0,1)[0]===1}function Lt(){try{return new Function(""),!0}catch{return!1}}class Gt{static get isLittleEndian(){return Ct(this,"isLittleEndian",St())}static get isEvalSupported(){return Ct(this,"isEvalSupported",Lt())}static get isOffscreenCanvasSupported(){return Ct(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?Ct(this,"platform",{isWin:!1,isMac:!1}):Ct(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}}i.FeatureTest=Gt;const Vt=[...Array(256).keys()].map(Ft=>Ft.toString(16).padStart(2,"0"));class qt{static makeHexColor(Ot,Dt,en){return`#${Vt[Ot]}${Vt[Dt]}${Vt[en]}`}static scaleMinMax(Ot,Dt){let en;Ot[0]?(Ot[0]<0&&(en=Dt[0],Dt[0]=Dt[1],Dt[1]=en),Dt[0]*=Ot[0],Dt[1]*=Ot[0],Ot[3]<0&&(en=Dt[2],Dt[2]=Dt[3],Dt[3]=en),Dt[2]*=Ot[3],Dt[3]*=Ot[3]):(en=Dt[0],Dt[0]=Dt[2],Dt[2]=en,en=Dt[1],Dt[1]=Dt[3],Dt[3]=en,Ot[1]<0&&(en=Dt[2],Dt[2]=Dt[3],Dt[3]=en),Dt[2]*=Ot[1],Dt[3]*=Ot[1],Ot[2]<0&&(en=Dt[0],Dt[0]=Dt[1],Dt[1]=en),Dt[0]*=Ot[2],Dt[1]*=Ot[2]),Dt[0]+=Ot[4],Dt[1]+=Ot[4],Dt[2]+=Ot[5],Dt[3]+=Ot[5]}static transform(Ot,Dt){return[Ot[0]*Dt[0]+Ot[2]*Dt[1],Ot[1]*Dt[0]+Ot[3]*Dt[1],Ot[0]*Dt[2]+Ot[2]*Dt[3],Ot[1]*Dt[2]+Ot[3]*Dt[3],Ot[0]*Dt[4]+Ot[2]*Dt[5]+Ot[4],Ot[1]*Dt[4]+Ot[3]*Dt[5]+Ot[5]]}static applyTransform(Ot,Dt){const en=Ot[0]*Dt[0]+Ot[1]*Dt[2]+Dt[4],fn=Ot[0]*Dt[1]+Ot[1]*Dt[3]+Dt[5];return[en,fn]}static applyInverseTransform(Ot,Dt){const en=Dt[0]*Dt[3]-Dt[1]*Dt[2],fn=(Ot[0]*Dt[3]-Ot[1]*Dt[2]+Dt[2]*Dt[5]-Dt[4]*Dt[3])/en,vn=(-Ot[0]*Dt[1]+Ot[1]*Dt[0]+Dt[4]*Dt[1]-Dt[5]*Dt[0])/en;return[fn,vn]}static getAxialAlignedBoundingBox(Ot,Dt){const en=qt.applyTransform(Ot,Dt),fn=qt.applyTransform(Ot.slice(2,4),Dt),vn=qt.applyTransform([Ot[0],Ot[3]],Dt),mn=qt.applyTransform([Ot[2],Ot[1]],Dt);return[Math.min(en[0],fn[0],vn[0],mn[0]),Math.min(en[1],fn[1],vn[1],mn[1]),Math.max(en[0],fn[0],vn[0],mn[0]),Math.max(en[1],fn[1],vn[1],mn[1])]}static inverseTransform(Ot){const Dt=Ot[0]*Ot[3]-Ot[1]*Ot[2];return[Ot[3]/Dt,-Ot[1]/Dt,-Ot[2]/Dt,Ot[0]/Dt,(Ot[2]*Ot[5]-Ot[4]*Ot[3])/Dt,(Ot[4]*Ot[1]-Ot[5]*Ot[0])/Dt]}static singularValueDecompose2dScale(Ot){const Dt=[Ot[0],Ot[2],Ot[1],Ot[3]],en=Ot[0]*Dt[0]+Ot[1]*Dt[2],fn=Ot[0]*Dt[1]+Ot[1]*Dt[3],vn=Ot[2]*Dt[0]+Ot[3]*Dt[2],mn=Ot[2]*Dt[1]+Ot[3]*Dt[3],bn=(en+mn)/2,Cn=Math.sqrt((en+mn)**2-4*(en*mn-vn*fn))/2,Fn=bn+Cn||1,Bt=bn-Cn||1;return[Math.sqrt(Fn),Math.sqrt(Bt)]}static normalizeRect(Ot){const Dt=Ot.slice(0);return Ot[0]>Ot[2]&&(Dt[0]=Ot[2],Dt[2]=Ot[0]),Ot[1]>Ot[3]&&(Dt[1]=Ot[3],Dt[3]=Ot[1]),Dt}static intersect(Ot,Dt){const en=Math.max(Math.min(Ot[0],Ot[2]),Math.min(Dt[0],Dt[2])),fn=Math.min(Math.max(Ot[0],Ot[2]),Math.max(Dt[0],Dt[2]));if(en>fn)return null;const vn=Math.max(Math.min(Ot[1],Ot[3]),Math.min(Dt[1],Dt[3])),mn=Math.min(Math.max(Ot[1],Ot[3]),Math.max(Dt[1],Dt[3]));return vn>mn?null:[en,vn,fn,mn]}static bezierBoundingBox(Ot,Dt,en,fn,vn,mn,bn,Cn){const Fn=[],Bt=[[],[]];let nn,dn,hn,gn,An,Sn,En,xn;for(let wn=0;wn<2;++wn){if(wn===0?(dn=6*Ot-12*en+6*vn,nn=-3*Ot+9*en-9*vn+3*bn,hn=3*en-3*Ot):(dn=6*Dt-12*fn+6*mn,nn=-3*Dt+9*fn-9*mn+3*Cn,hn=3*fn-3*Dt),Math.abs(nn)<1e-12){if(Math.abs(dn)<1e-12)continue;gn=-hn/dn,0<gn&&gn<1&&Fn.push(gn);continue}En=dn*dn-4*hn*nn,xn=Math.sqrt(En),!(En<0)&&(An=(-dn+xn)/(2*nn),0<An&&An<1&&Fn.push(An),Sn=(-dn-xn)/(2*nn),0<Sn&&Sn<1&&Fn.push(Sn))}let kn=Fn.length,Tn;const Pn=kn;for(;kn--;)gn=Fn[kn],Tn=1-gn,Bt[0][kn]=Tn*Tn*Tn*Ot+3*Tn*Tn*gn*en+3*Tn*gn*gn*vn+gn*gn*gn*bn,Bt[1][kn]=Tn*Tn*Tn*Dt+3*Tn*Tn*gn*fn+3*Tn*gn*gn*mn+gn*gn*gn*Cn;return Bt[0][Pn]=Ot,Bt[1][Pn]=Dt,Bt[0][Pn+1]=bn,Bt[1][Pn+1]=Cn,Bt[0].length=Bt[1].length=Pn+2,[Math.min(...Bt[0]),Math.min(...Bt[1]),Math.max(...Bt[0]),Math.max(...Bt[1])]}}i.Util=qt;const Yt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function sn(Ft){if(Ft[0]>=""){let Dt;if(Ft[0]===""&&Ft[1]===""?Dt="utf-16be":Ft[0]===""&&Ft[1]===""?Dt="utf-16le":Ft[0]===""&&Ft[1]===""&&Ft[2]===""&&(Dt="utf-8"),Dt)try{const en=new TextDecoder(Dt,{fatal:!0}),fn=et(Ft);return en.decode(fn)}catch(en){$t(`stringToPDFString: "${en}".`)}}const Ot=[];for(let Dt=0,en=Ft.length;Dt<en;Dt++){const fn=Yt[Ft.charCodeAt(Dt)];Ot.push(fn?String.fromCharCode(fn):Ft.charAt(Dt))}return Ot.join("")}function tn(Ft){return decodeURIComponent(escape(Ft))}function rn(Ft){return unescape(encodeURIComponent(Ft))}function ln(Ft){return typeof Ft=="object"&&(Ft==null?void 0:Ft.byteLength)!==void 0}function pn(Ft,Ot){if(Ft.length!==Ot.length)return!1;for(let Dt=0,en=Ft.length;Dt<en;Dt++)if(Ft[Dt]!==Ot[Dt])return!1;return!0}function yn(Ft=new Date){return[Ft.getUTCFullYear().toString(),(Ft.getUTCMonth()+1).toString().padStart(2,"0"),Ft.getUTCDate().toString().padStart(2,"0"),Ft.getUTCHours().toString().padStart(2,"0"),Ft.getUTCMinutes().toString().padStart(2,"0"),Ft.getUTCSeconds().toString().padStart(2,"0")].join("")}class _n{constructor(){Wt(this,Ht,!1);this.promise=new Promise((Ot,Dt)=>{this.resolve=en=>{an(this,Ht,!0),Ot(en)},this.reject=en=>{an(this,Ht,!0),Dt(en)}})}get settled(){return pt(this,Ht)}}Ht=new WeakMap,i.PromiseCapability=_n;let Ut=null,cn=null;function zt(Ft){return Ut||(Ut=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,cn=new Map([["","t"]])),Ft.replaceAll(Ut,(Ot,Dt,en)=>Dt?Dt.normalize("NFKC"):cn.get(en))}},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var e,s,o,a,Hn,d,tr,g,b,_,_e,ot,ut,rt,it,lr,tt,st,cr,$,_t;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_is_node=__w_pdfjs_require__(10),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_xfa_text=__w_pdfjs_require__(19);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultFilterFactory=_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:ft,NodeCMapReaderFactory:j,NodeFilterFactory:at,NodeStandardFontDataFactory:yt}=__w_pdfjs_require__(20);exports.DefaultCanvasFactory=DefaultCanvasFactory=ft,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=j,exports.DefaultFilterFactory=DefaultFilterFactory=at,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=yt}let createPDFNetworkStream;if(_is_node.isNodeJS){const{PDFNodeStream:ft}=__w_pdfjs_require__(21);createPDFNetworkStream=j=>new ft(j)}else{const{PDFNetworkStream:ft}=__w_pdfjs_require__(24),{PDFFetchStream:j}=__w_pdfjs_require__(25);createPDFNetworkStream=at=>(0,_display_utils.isValidFetchUrl)(at.url)?new j(at):new ft(at)}function getDocument(ft){if(typeof ft=="string"||ft instanceof URL?ft={url:ft}:(0,_util.isArrayBuffer)(ft)&&(ft={data:ft}),typeof ft!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!ft.url&&!ft.data&&!ft.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const j=new PDFDocumentLoadingTask,{docId:at}=j,yt=ft.url?getUrlProp(ft.url):null,lt=ft.data?getDataProp(ft.data):null,vt=ft.httpHeaders||null,xt=ft.withCredentials===!0,bt=ft.password??null,It=ft.range instanceof PDFDataRangeTransport?ft.range:null,Kt=Number.isInteger(ft.rangeChunkSize)&&ft.rangeChunkSize>0?ft.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let Zt=ft.worker instanceof PDFWorker?ft.worker:null;const jt=ft.verbosity,$t=typeof ft.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(ft.docBaseUrl)?ft.docBaseUrl:null,Qt=typeof ft.cMapUrl=="string"?ft.cMapUrl:null,Jt=ft.cMapPacked!==!1,on=ft.CMapReaderFactory||DefaultCMapReaderFactory,un=typeof ft.standardFontDataUrl=="string"?ft.standardFontDataUrl:null,Ct=ft.StandardFontDataFactory||DefaultStandardFontDataFactory,ht=ft.stopAtErrors!==!0,gt=Number.isInteger(ft.maxImageSize)&&ft.maxImageSize>-1?ft.maxImageSize:-1,wt=ft.isEvalSupported!==!1,Rt=typeof ft.isOffscreenCanvasSupported=="boolean"?ft.isOffscreenCanvasSupported:!_is_node.isNodeJS,Mt=Number.isInteger(ft.canvasMaxAreaInBytes)?ft.canvasMaxAreaInBytes:-1,Nt=typeof ft.disableFontFace=="boolean"?ft.disableFontFace:_is_node.isNodeJS,Pt=ft.fontExtraProperties===!0,kt=ft.enableXfa===!0,Tt=ft.ownerDocument||globalThis.document,et=ft.disableRange===!0,ct=ft.disableStream===!0,mt=ft.disableAutoFetch===!0,Et=ft.pdfBug===!0,St=It?It.length:ft.length??NaN,Lt=typeof ft.useSystemFonts=="boolean"?ft.useSystemFonts:!_is_node.isNodeJS&&!Nt,Gt=typeof ft.useWorkerFetch=="boolean"?ft.useWorkerFetch:on===_display_utils.DOMCMapReaderFactory&&Ct===_display_utils.DOMStandardFontDataFactory&&(0,_display_utils.isValidFetchUrl)(Qt,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(un,document.baseURI),Vt=ft.canvasFactory||new DefaultCanvasFactory({ownerDocument:Tt}),qt=ft.filterFactory||new DefaultFilterFactory({docId:at,ownerDocument:Tt}),Yt=null;(0,_util.setVerbosityLevel)(jt);const sn={canvasFactory:Vt,filterFactory:qt};if(Gt||(sn.cMapReaderFactory=new on({baseUrl:Qt,isCompressed:Jt}),sn.standardFontDataFactory=new Ct({baseUrl:un})),!Zt){const ln={verbosity:jt,port:_worker_options.GlobalWorkerOptions.workerPort};Zt=ln.port?PDFWorker.fromPort(ln):new PDFWorker(ln),j._worker=Zt}const tn={docId:at,apiVersion:"3.7.107",data:lt,password:bt,disableAutoFetch:mt,rangeChunkSize:Kt,length:St,docBaseUrl:$t,enableXfa:kt,evaluatorOptions:{maxImageSize:gt,disableFontFace:Nt,ignoreErrors:ht,isEvalSupported:wt,isOffscreenCanvasSupported:Rt,canvasMaxAreaInBytes:Mt,fontExtraProperties:Pt,useSystemFonts:Lt,cMapUrl:Gt?Qt:null,standardFontDataUrl:Gt?un:null}},rn={ignoreErrors:ht,isEvalSupported:wt,disableFontFace:Nt,fontExtraProperties:Pt,enableXfa:kt,ownerDocument:Tt,disableAutoFetch:mt,pdfBug:Et,styleElement:Yt};return Zt.promise.then(function(){if(j.destroyed)throw new Error("Loading aborted");const ln=_fetchDocument(Zt,tn),pn=new Promise(function(yn){let _n;It?_n=new _transport_stream.PDFDataTransportStream({length:St,initialData:It.initialData,progressiveDone:It.progressiveDone,contentDispositionFilename:It.contentDispositionFilename,disableRange:et,disableStream:ct},It):lt||(_n=createPDFNetworkStream({url:yt,length:St,httpHeaders:vt,withCredentials:xt,rangeChunkSize:Kt,disableRange:et,disableStream:ct})),yn(_n)});return Promise.all([ln,pn]).then(function([yn,_n]){if(j.destroyed)throw new Error("Loading aborted");const Ut=new _message_handler.MessageHandler(at,yn,Zt.port),cn=new WorkerTransport(Ut,j,_n,rn,sn);j._transport=cn,Ut.send("Ready",null)})}).catch(j._capability.reject),j}async function _fetchDocument(ft,j){if(ft.destroyed)throw new Error("Worker was destroyed");const at=await ft.messageHandler.sendWithPromise("GetDocRequest",j,j.data?[j.data.buffer]:null);if(ft.destroyed)throw new Error("Worker was destroyed");return at}function getUrlProp(ft){if(ft instanceof URL)return ft.href;try{return new URL(ft,window.location).href}catch{if(_is_node.isNodeJS&&typeof ft=="string")return ft}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(ft){if(_is_node.isNodeJS&&typeof Buffer<"u"&&ft instanceof Buffer)return(0,_display_utils.deprecated)("Please provide binary data as `Uint8Array`, rather than `Buffer`."),new Uint8Array(ft);if(ft instanceof Uint8Array&&ft.byteLength===ft.buffer.byteLength)return ft;if(typeof ft=="string")return(0,_util.stringToBytes)(ft);if(typeof ft=="object"&&!isNaN(ft==null?void 0:ft.length)||(0,_util.isArrayBuffer)(ft))return new Uint8Array(ft);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const i=class{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${er(i,e)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var j;this.destroyed=!0,await((j=this._transport)==null?void 0:j.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};let PDFDocumentLoadingTask=i;e=new WeakMap,Wt(PDFDocumentLoadingTask,e,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(j,at,yt=!1,lt=null){this.length=j,this.initialData=at,this.progressiveDone=yt,this.contentDispositionFilename=lt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(j){this._rangeListeners.push(j)}addProgressListener(j){this._progressListeners.push(j)}addProgressiveReadListener(j){this._progressiveReadListeners.push(j)}addProgressiveDoneListener(j){this._progressiveDoneListeners.push(j)}onDataRange(j,at){for(const yt of this._rangeListeners)yt(j,at)}onDataProgress(j,at){this._readyCapability.promise.then(()=>{for(const yt of this._progressListeners)yt(j,at)})}onDataProgressiveRead(j){this._readyCapability.promise.then(()=>{for(const at of this._progressiveReadListeners)at(j)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const j of this._progressiveDoneListeners)j()})}transportReady(){this._readyCapability.resolve()}requestDataRange(j,at){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(j,at){this._pdfInfo=j,this._transport=at}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(j){return this._transport.getPage(j)}getPageIndex(j){return this._transport.getPageIndex(j)}getDestinations(){return this._transport.getDestinations()}getDestination(j){return this._transport.getDestination(j)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(j=!1){return this._transport.startCleanup(j||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(j,at,yt,lt=!1){Wt(this,a);Wt(this,d);Wt(this,s,null);Wt(this,o,!1);this._pageIndex=j,this._pageInfo=at,this._transport=yt,this._stats=lt?new _display_utils.StatTimer:null,this._pdfBug=lt,this.commonObjs=yt.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:j,rotation:at=this.rotate,offsetX:yt=0,offsetY:lt=0,dontFlip:vt=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:j,rotation:at,offsetX:yt,offsetY:lt,dontFlip:vt})}getAnnotations({intent:j="display"}={}){const at=this._transport.getRenderingIntent(j);return this._transport.getAnnotations(this._pageIndex,at.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var j;return((j=this._transport._htmlForXfa)==null?void 0:j.children[this._pageIndex])||null}render({canvasContext:j,viewport:at,intent:yt="display",annotationMode:lt=_util.AnnotationMode.ENABLE,transform:vt=null,background:xt=null,optionalContentConfigPromise:bt=null,annotationCanvasMap:It=null,pageColors:Kt=null,printAnnotationStorage:Zt=null}){var Ct,ht,gt;if((Ct=arguments[0])!=null&&Ct.canvasFactory)throw new Error("render no longer accepts the `canvasFactory`-option, please pass it to the `getDocument`-function instead.");(ht=this._stats)==null||ht.time("Overall");const jt=this._transport.getRenderingIntent(yt,lt,Zt);an(this,o,!1),Xt(this,d,tr).call(this),bt||(bt=this._transport.getOptionalContentConfig());let $t=this._intentStates.get(jt.cacheKey);$t||($t=Object.create(null),this._intentStates.set(jt.cacheKey,$t)),$t.streamReaderCancelTimeout&&(clearTimeout($t.streamReaderCancelTimeout),$t.streamReaderCancelTimeout=null);const Qt=!!(jt.renderingIntent&_util.RenderingIntentFlag.PRINT);$t.displayReadyCapability||($t.displayReadyCapability=new _util.PromiseCapability,$t.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(gt=this._stats)==null||gt.time("Page Request"),this._pumpOperatorList(jt));const Jt=wt=>{var Rt,Mt;$t.renderTasks.delete(on),(this._maybeCleanupAfterRender||Qt)&&an(this,o,!0),Xt(this,a,Hn).call(this,!Qt),wt?(on.capability.reject(wt),this._abortOperatorList({intentState:$t,reason:wt instanceof Error?wt:new Error(wt)})):on.capability.resolve(),(Rt=this._stats)==null||Rt.timeEnd("Rendering"),(Mt=this._stats)==null||Mt.timeEnd("Overall")},on=new InternalRenderTask({callback:Jt,params:{canvasContext:j,viewport:at,transform:vt,background:xt},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:It,operatorList:$t.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Qt,pdfBug:this._pdfBug,pageColors:Kt});($t.renderTasks||($t.renderTasks=new Set)).add(on);const un=on.task;return Promise.all([$t.displayReadyCapability.promise,bt]).then(([wt,Rt])=>{var Mt;if(pt(this,o)){Jt();return}(Mt=this._stats)==null||Mt.time("Rendering"),on.initializeGraphics({transparency:wt,optionalContentConfig:Rt}),on.operatorListChanged()}).catch(Jt),un}getOperatorList({intent:j="display",annotationMode:at=_util.AnnotationMode.ENABLE,printAnnotationStorage:yt=null}={}){var It;function lt(){xt.operatorList.lastChunk&&(xt.opListReadCapability.resolve(xt.operatorList),xt.renderTasks.delete(bt))}const vt=this._transport.getRenderingIntent(j,at,yt,!0);let xt=this._intentStates.get(vt.cacheKey);xt||(xt=Object.create(null),this._intentStates.set(vt.cacheKey,xt));let bt;return xt.opListReadCapability||(bt=Object.create(null),bt.operatorListChanged=lt,xt.opListReadCapability=new _util.PromiseCapability,(xt.renderTasks||(xt.renderTasks=new Set)).add(bt),xt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(It=this._stats)==null||It.time("Page Request"),this._pumpOperatorList(vt)),xt.opListReadCapability.promise}streamTextContent({includeMarkedContent:j=!1,disableNormalization:at=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:j===!0,disableNormalization:at===!0},{highWaterMark:100,size(lt){return lt.items.length}})}getTextContent(j={}){if(this._transport._htmlForXfa)return this.getXfa().then(yt=>_xfa_text.XfaText.textContent(yt));const at=this.streamTextContent(j);return new Promise(function(yt,lt){function vt(){xt.read().then(function({value:It,done:Kt}){if(Kt){yt(bt);return}Object.assign(bt.styles,It.styles),bt.items.push(...It.items),vt()},lt)}const xt=at.getReader(),bt={items:[],styles:Object.create(null)};vt()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const j=[];for(const at of this._intentStates.values())if(this._abortOperatorList({intentState:at,reason:new Error("Page was destroyed."),force:!0}),!at.opListReadCapability)for(const yt of at.renderTasks)j.push(yt.completed),yt.cancel();return this.objs.clear(),an(this,o,!1),Xt(this,d,tr).call(this),Promise.all(j)}cleanup(j=!1){an(this,o,!0);const at=Xt(this,a,Hn).call(this,!1);return j&&at&&this._stats&&(this._stats=new _display_utils.StatTimer),at}_startRenderPage(j,at){var lt,vt;const yt=this._intentStates.get(at);yt&&((lt=this._stats)==null||lt.timeEnd("Page Request"),(vt=yt.displayReadyCapability)==null||vt.resolve(j))}_renderPageChunk(j,at){for(let yt=0,lt=j.length;yt<lt;yt++)at.operatorList.fnArray.push(j.fnArray[yt]),at.operatorList.argsArray.push(j.argsArray[yt]);at.operatorList.lastChunk=j.lastChunk,at.operatorList.separateAnnots=j.separateAnnots;for(const yt of at.renderTasks)yt.operatorListChanged();j.lastChunk&&Xt(this,a,Hn).call(this,!0)}_pumpOperatorList({renderingIntent:j,cacheKey:at,annotationStorageMap:yt}){const vt=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:j,cacheKey:at,annotationStorage:yt}).getReader(),xt=this._intentStates.get(at);xt.streamReader=vt;const bt=()=>{vt.read().then(({value:It,done:Kt})=>{if(Kt){xt.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(It,xt),bt())},It=>{if(xt.streamReader=null,!this._transport.destroyed){if(xt.operatorList){xt.operatorList.lastChunk=!0;for(const Kt of xt.renderTasks)Kt.operatorListChanged();Xt(this,a,Hn).call(this,!0)}if(xt.displayReadyCapability)xt.displayReadyCapability.reject(It);else if(xt.opListReadCapability)xt.opListReadCapability.reject(It);else throw It}})};bt()}_abortOperatorList({intentState:j,reason:at,force:yt=!1}){if(j.streamReader){if(j.streamReaderCancelTimeout&&(clearTimeout(j.streamReaderCancelTimeout),j.streamReaderCancelTimeout=null),!yt){if(j.renderTasks.size>0)return;if(at instanceof _display_utils.RenderingCancelledException){let lt=RENDERING_CANCELLED_TIMEOUT;at.extraDelay>0&&at.extraDelay<1e3&&(lt+=at.extraDelay),j.streamReaderCancelTimeout=setTimeout(()=>{j.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:j,reason:at,force:!0})},lt);return}}if(j.streamReader.cancel(new _util.AbortException(at.message)).catch(()=>{}),j.streamReader=null,!this._transport.destroyed){for(const[lt,vt]of this._intentStates)if(vt===j){this._intentStates.delete(lt);break}this.cleanup()}}}get stats(){return this._stats}}s=new WeakMap,o=new WeakMap,a=new WeakSet,Hn=function(j=!1){if(Xt(this,d,tr).call(this),!pt(this,o))return!1;if(j)return an(this,s,setTimeout(()=>{an(this,s,null),Xt(this,a,Hn).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:at,operatorList:yt}of this._intentStates.values())if(at.size>0||!yt.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),an(this,o,!1),!0},d=new WeakSet,tr=function(){pt(this,s)&&(clearTimeout(pt(this,s)),an(this,s,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Wt(this,g,new Set);Wt(this,b,Promise.resolve())}postMessage(j,at){const yt={data:structuredClone(j,at?{transfer:at}:null)};pt(this,b).then(()=>{for(const lt of pt(this,g))lt.call(this,yt)})}addEventListener(j,at){pt(this,g).add(at)}removeEventListener(j,at){pt(this,g).delete(at)}terminate(){pt(this,g).clear()}}g=new WeakMap,b=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const ft=(_=document==null?void 0:document.currentScript)==null?void 0:_.src;ft&&(PDFWorkerUtil.fallbackWorkerSrc=ft.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(ft,j){let at;try{if(at=new URL(ft),!at.origin||at.origin==="null")return!1}catch{return!1}const yt=new URL(j,at);return at.origin===yt.origin},PDFWorkerUtil.createCDNWrapper=function(ft){const j=`importScripts("${ft}");`;return URL.createObjectURL(new Blob([j]))}}const _PDFWorker=class{constructor({name:ft=null,port:j=null,verbosity:at=(0,_util.getVerbosityLevel)()}={}){if(j&&pt(_PDFWorker,_e).has(j))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=ft,this.destroyed=!1,this.verbosity=at,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,j){pt(_PDFWorker,_e).set(j,this),this._initializeFromPort(j);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(ft){this._port=ft,this._messageHandler=new _message_handler.MessageHandler("main","worker",ft),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:ft}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,ft)||(ft=PDFWorkerUtil.createCDNWrapper(new URL(ft,window.location).href));const j=new Worker(ft),at=new _message_handler.MessageHandler("main","worker",j),yt=()=>{j.removeEventListener("error",lt),at.destroy(),j.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},lt=()=>{this._webWorker||yt()};j.addEventListener("error",lt),at.on("test",xt=>{if(j.removeEventListener("error",lt),this.destroyed){yt();return}xt?(this._messageHandler=at,this._port=j,this._webWorker=j,this._readyCapability.resolve(),at.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),at.destroy(),j.terminate())}),at.on("ready",xt=>{if(j.removeEventListener("error",lt),this.destroyed){yt();return}try{vt()}catch{this._setupFakeWorker()}});const vt=()=>{const xt=new Uint8Array;at.send("test",xt,[xt.buffer])};vt();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(ft=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const j=new LoopbackPort;this._port=j;const at=`fake${PDFWorkerUtil.fakeWorkerId++}`,yt=new _message_handler.MessageHandler(at+"_worker",at,j);ft.setup(yt,j);const lt=new _message_handler.MessageHandler(at,at+"_worker",j);this._messageHandler=lt,this._readyCapability.resolve(),lt.send("configure",{verbosity:this.verbosity})}).catch(ft=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${ft.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),pt(_PDFWorker,_e).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(ft){if(!(ft!=null&&ft.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return pt(this,_e).has(ft.port)?pt(this,_e).get(ft.port):new _PDFWorker(ft)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var ft;try{return((ft=globalThis.pdfjsWorker)==null?void 0:ft.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;_e=new WeakMap,Wt(PDFWorker,_e,new WeakMap),exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(j,at,yt,lt,vt){Wt(this,it);Wt(this,ot,new Map);Wt(this,ut,new Map);Wt(this,rt,new Map);this.messageHandler=j,this.loadingTask=at,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:lt.ownerDocument,styleElement:lt.styleElement}),this._params=lt,this.canvasFactory=vt.canvasFactory,this.filterFactory=vt.filterFactory,this.cMapReaderFactory=vt.cMapReaderFactory,this.standardFontDataFactory=vt.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=yt,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(j,at=_util.AnnotationMode.ENABLE,yt=null,lt=!1){let vt=_util.RenderingIntentFlag.DISPLAY,xt=null;switch(j){case"any":vt=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":vt=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${j}`)}switch(at){case _util.AnnotationMode.DISABLE:vt+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:vt+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:vt+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,xt=(vt&_util.RenderingIntentFlag.PRINT&&yt instanceof _annotation_storage.PrintAnnotationStorage?yt:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${at}`)}return lt&&(vt+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:vt,cacheKey:`${vt}_${_annotation_storage.AnnotationStorage.getHash(xt)}`,annotationStorageMap:xt}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const j=[];for(const yt of pt(this,ut).values())j.push(yt._destroy());pt(this,ut).clear(),pt(this,rt).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const at=this.messageHandler.sendWithPromise("Terminate",null);return j.push(at),Promise.all(j).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),pt(this,ot).clear(),this.filterFactory.destroy(),this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:j,loadingTask:at}=this;j.on("GetReader",(yt,lt)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=vt=>{this._lastProgress={loaded:vt.loaded,total:vt.total}},lt.onPull=()=>{this._fullReader.read().then(function({value:vt,done:xt}){if(xt){lt.close();return}(0,_util.assert)(vt instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),lt.enqueue(new Uint8Array(vt),1,[vt])}).catch(vt=>{lt.error(vt)})},lt.onCancel=vt=>{this._fullReader.cancel(vt),lt.ready.catch(xt=>{if(!this.destroyed)throw xt})}}),j.on("ReaderHeadersReady",yt=>{const lt=new _util.PromiseCapability,vt=this._fullReader;return vt.headersReady.then(()=>{var xt;(!vt.isStreamingSupported||!vt.isRangeSupported)&&(this._lastProgress&&((xt=at.onProgress)==null||xt.call(at,this._lastProgress)),vt.onProgress=bt=>{var It;(It=at.onProgress)==null||It.call(at,{loaded:bt.loaded,total:bt.total})}),lt.resolve({isStreamingSupported:vt.isStreamingSupported,isRangeSupported:vt.isRangeSupported,contentLength:vt.contentLength})},lt.reject),lt.promise}),j.on("GetRangeReader",(yt,lt)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const vt=this._networkStream.getRangeReader(yt.begin,yt.end);if(!vt){lt.close();return}lt.onPull=()=>{vt.read().then(function({value:xt,done:bt}){if(bt){lt.close();return}(0,_util.assert)(xt instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),lt.enqueue(new Uint8Array(xt),1,[xt])}).catch(xt=>{lt.error(xt)})},lt.onCancel=xt=>{vt.cancel(xt),lt.ready.catch(bt=>{if(!this.destroyed)throw bt})}}),j.on("GetDoc",({pdfInfo:yt})=>{this._numPages=yt.numPages,this._htmlForXfa=yt.htmlForXfa,delete yt.htmlForXfa,at._capability.resolve(new PDFDocumentProxy(yt,this))}),j.on("DocException",function(yt){let lt;switch(yt.name){case"PasswordException":lt=new _util.PasswordException(yt.message,yt.code);break;case"InvalidPDFException":lt=new _util.InvalidPDFException(yt.message);break;case"MissingPDFException":lt=new _util.MissingPDFException(yt.message);break;case"UnexpectedResponseException":lt=new _util.UnexpectedResponseException(yt.message,yt.status);break;case"UnknownErrorException":lt=new _util.UnknownErrorException(yt.message,yt.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}at._capability.reject(lt)}),j.on("PasswordRequest",yt=>{if(this._passwordCapability=new _util.PromiseCapability,at.onPassword){const lt=vt=>{vt instanceof Error?this._passwordCapability.reject(vt):this._passwordCapability.resolve({password:vt})};try{at.onPassword(lt,yt.code)}catch(vt){this._passwordCapability.reject(vt)}}else this._passwordCapability.reject(new _util.PasswordException(yt.message,yt.code));return this._passwordCapability.promise}),j.on("DataLoaded",yt=>{var lt;(lt=at.onProgress)==null||lt.call(at,{loaded:yt.length,total:yt.length}),this.downloadInfoCapability.resolve(yt)}),j.on("StartRenderPage",yt=>{if(this.destroyed)return;pt(this,ut).get(yt.pageIndex)._startRenderPage(yt.transparency,yt.cacheKey)}),j.on("commonobj",([yt,lt,vt])=>{var xt;if(!this.destroyed&&!this.commonObjs.has(yt))switch(lt){case"Font":const bt=this._params;if("error"in vt){const Zt=vt.error;(0,_util.warn)(`Error during font loading: ${Zt}`),this.commonObjs.resolve(yt,Zt);break}const It=bt.pdfBug&&((xt=globalThis.FontInspector)!=null&&xt.enabled)?(Zt,jt)=>globalThis.FontInspector.fontAdded(Zt,jt):null,Kt=new _font_loader.FontFaceObject(vt,{isEvalSupported:bt.isEvalSupported,disableFontFace:bt.disableFontFace,ignoreErrors:bt.ignoreErrors,inspectFont:It});this.fontLoader.bind(Kt).catch(Zt=>j.sendWithPromise("FontFallback",{id:yt})).finally(()=>{!bt.fontExtraProperties&&Kt.data&&(Kt.data=null),this.commonObjs.resolve(yt,Kt)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(yt,vt);break;default:throw new Error(`Got unknown common object type ${lt}`)}}),j.on("obj",([yt,lt,vt,xt])=>{var It;if(this.destroyed)return;const bt=pt(this,ut).get(lt);if(!bt.objs.has(yt))switch(vt){case"Image":if(bt.objs.resolve(yt,xt),xt){let Kt;if(xt.bitmap){const{width:Zt,height:jt}=xt;Kt=Zt*jt*4}else Kt=((It=xt.data)==null?void 0:It.length)||0;Kt>_util.MAX_IMAGE_SIZE_TO_CACHE&&(bt._maybeCleanupAfterRender=!0)}break;case"Pattern":bt.objs.resolve(yt,xt);break;default:throw new Error(`Got unknown object type ${vt}`)}}),j.on("DocProgress",yt=>{var lt;this.destroyed||(lt=at.onProgress)==null||lt.call(at,{loaded:yt.loaded,total:yt.total})}),j.on("FetchBuiltInCMap",yt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(yt):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),j.on("FetchStandardFontData",yt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(yt):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var j;return this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:((j=this._fullReader)==null?void 0:j.filename)??null}).finally(()=>{this.annotationStorage.resetModified()})}getPage(j){if(!Number.isInteger(j)||j<=0||j>this._numPages)return Promise.reject(new Error("Invalid page request."));const at=j-1,yt=pt(this,rt).get(at);if(yt)return yt;const lt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:at}).then(vt=>{if(this.destroyed)throw new Error("Transport destroyed");const xt=new PDFPageProxy(at,vt,this,this._params.pdfBug);return pt(this,ut).set(at,xt),xt});return pt(this,rt).set(at,lt),lt}getPageIndex(j){return typeof j!="object"||j===null||!Number.isInteger(j.num)||j.num<0||!Number.isInteger(j.gen)||j.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:j.num,gen:j.gen})}getAnnotations(j,at){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:j,intent:at})}getFieldObjects(){return Xt(this,it,lr).call(this,"GetFieldObjects")}hasJSActions(){return Xt(this,it,lr).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(j){return typeof j!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:j})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(j){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:j})}getStructTree(j){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:j})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(j=>new _optional_content_config.OptionalContentConfig(j))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const j="GetMetadata",at=pt(this,ot).get(j);if(at)return at;const yt=this.messageHandler.sendWithPromise(j,null).then(lt=>{var vt,xt;return{info:lt[0],metadata:lt[1]?new _metadata.Metadata(lt[1]):null,contentDispositionFilename:((vt=this._fullReader)==null?void 0:vt.filename)??null,contentLength:((xt=this._fullReader)==null?void 0:xt.contentLength)??null}});return pt(this,ot).set(j,yt),yt}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(j=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const at of pt(this,ut).values())if(!at.cleanup())throw new Error(`startCleanup: Page ${at.pageNumber} is currently rendering.`);this.commonObjs.clear(),j||this.fontLoader.clear(),pt(this,ot).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:j,enableXfa:at}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:j,enableXfa:at})}}ot=new WeakMap,ut=new WeakMap,rt=new WeakMap,it=new WeakSet,lr=function(j,at=null){const yt=pt(this,ot).get(j);if(yt)return yt;const lt=this.messageHandler.sendWithPromise(j,at);return pt(this,ot).set(j,lt),lt};class PDFObjects{constructor(){Wt(this,st);Wt(this,tt,Object.create(null))}get(j,at=null){if(at){const lt=Xt(this,st,cr).call(this,j);return lt.capability.promise.then(()=>at(lt.data)),null}const yt=pt(this,tt)[j];if(!(yt!=null&&yt.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${j}.`);return yt.data}has(j){const at=pt(this,tt)[j];return(at==null?void 0:at.capability.settled)||!1}resolve(j,at=null){const yt=Xt(this,st,cr).call(this,j);yt.data=at,yt.capability.resolve()}clear(){var j;for(const at in pt(this,tt)){const{data:yt}=pt(this,tt)[at];(j=yt==null?void 0:yt.bitmap)==null||j.close()}an(this,tt,Object.create(null))}}tt=new WeakMap,st=new WeakSet,cr=function(j){const at=pt(this,tt)[j];return at||(pt(this,tt)[j]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(j){Wt(this,$,null);an(this,$,j),this.onContinue=null}get promise(){return pt(this,$).capability.promise}cancel(j=0){pt(this,$).cancel(null,j)}get separateAnnots(){const{separateAnnots:j}=pt(this,$).operatorList;if(!j)return!1;const{annotationCanvasMap:at}=pt(this,$);return j.form||j.canvas&&(at==null?void 0:at.size)>0}}$=new WeakMap,exports.RenderTask=RenderTask;const At=class{constructor({callback:j,params:at,objs:yt,commonObjs:lt,annotationCanvasMap:vt,operatorList:xt,pageIndex:bt,canvasFactory:It,filterFactory:Kt,useRequestAnimationFrame:Zt=!1,pdfBug:jt=!1,pageColors:$t=null}){this.callback=j,this.params=at,this.objs=yt,this.commonObjs=lt,this.annotationCanvasMap=vt,this.operatorListIdx=null,this.operatorList=xt,this._pageIndex=bt,this.canvasFactory=It,this.filterFactory=Kt,this._pdfBug=jt,this.pageColors=$t,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Zt===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=at.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:j=!1,optionalContentConfig:at}){var bt,It;if(this.cancelled)return;if(this._canvas){if(pt(At,_t).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");pt(At,_t).add(this._canvas)}this._pdfBug&&((bt=globalThis.StepperManager)!=null&&bt.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:yt,viewport:lt,transform:vt,background:xt}=this.params;this.gfx=new _canvas.CanvasGraphics(yt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:at},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:vt,viewport:lt,transparency:j,background:xt}),this.operatorListIdx=0,this.graphicsReady=!0,(It=this.graphicsReadyCallback)==null||It.call(this)}cancel(j=null,at=0){var yt;this.running=!1,this.cancelled=!0,(yt=this.gfx)==null||yt.endDrawing(),this._canvas&&pt(At,_t).delete(this._canvas),this.callback(j||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas",at))}operatorListChanged(){var j;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(j=this.stepper)==null||j.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(this.pageColors),this._canvas&&pt(At,_t).delete(this._canvas),this.callback())))}};let InternalRenderTask=At;_t=new WeakMap,Wt(InternalRenderTask,_t,new WeakSet);const version="3.7.107";exports.version=version;const build="036f855dc";exports.build=build},(e,i,s)=>{var g,b,_,Rr,ot;Object.defineProperty(i,"__esModule",{value:!0}),i.PrintAnnotationStorage=i.AnnotationStorage=void 0;var o=s(1),a=s(4),c=s(8);class d{constructor(){Wt(this,_);Wt(this,g,!1);Wt(this,b,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(rt,it){const dt=pt(this,b).get(rt);return dt===void 0?it:Object.assign(it,dt)}getRawValue(rt){return pt(this,b).get(rt)}remove(rt){if(pt(this,b).delete(rt),pt(this,b).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const it of pt(this,b).values())if(it instanceof a.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(rt,it){const dt=pt(this,b).get(rt);let tt=!1;if(dt!==void 0)for(const[st,nt]of Object.entries(it))dt[st]!==nt&&(tt=!0,dt[st]=nt);else tt=!0,pt(this,b).set(rt,it);tt&&Xt(this,_,Rr).call(this),it instanceof a.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(it.constructor._type)}has(rt){return pt(this,b).has(rt)}getAll(){return pt(this,b).size>0?(0,o.objectFromMap)(pt(this,b)):null}setAll(rt){for(const[it,dt]of Object.entries(rt))this.setValue(it,dt)}get size(){return pt(this,b).size}resetModified(){pt(this,g)&&(an(this,g,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new h(this)}get serializable(){if(pt(this,b).size===0)return null;const rt=new Map;for(const[it,dt]of pt(this,b)){const tt=dt instanceof a.AnnotationEditor?dt.serialize():dt;tt&&rt.set(it,tt)}return rt}static getHash(rt){if(!rt)return"";const it=new c.MurmurHash3_64;for(const[dt,tt]of rt)it.update(`${dt}:${JSON.stringify(tt)}`);return it.hexdigest()}}g=new WeakMap,b=new WeakMap,_=new WeakSet,Rr=function(){pt(this,g)||(an(this,g,!0),typeof this.onSetModified=="function"&&this.onSetModified())},i.AnnotationStorage=d;class h extends d{constructor(it){super();Wt(this,ot,null);an(this,ot,structuredClone(it.serializable))}get print(){(0,o.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return pt(this,ot)}}ot=new WeakMap,i.PrintAnnotationStorage=h},(e,i,s)=>{var d,h,g,b,_,_e;Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditor=void 0;var o=s(5),a=s(1);const ot=class{constructor(rt){Wt(this,d,this.focusin.bind(this));Wt(this,h,this.focusout.bind(this));Wt(this,g,!1);Wt(this,b,!1);Wt(this,_,!1);Mn(this,"_uiManager",null);Wt(this,_e,ot._zIndex++);this.constructor===ot&&(0,a.unreachable)("Cannot initialize AnnotationEditor."),this.parent=rt.parent,this.id=rt.id,this.width=this.height=null,this.pageIndex=rt.parent.pageIndex,this.name=rt.name,this.div=null,this._uiManager=rt.uiManager;const{rotation:it,rawDims:{pageWidth:dt,pageHeight:tt,pageX:st,pageY:nt}}=this.parent.viewport;this.rotation=it,this.pageRotation=(360+it-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[dt,tt],this.pageTranslation=[st,nt];const[$,_t]=this.parentDimensions;this.x=rt.x/$,this.y=rt.y/_t,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,a.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}addCommands(rt){this._uiManager.addCommands(rt)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=pt(this,_e)}setParent(rt){rt!==null&&(this.pageIndex=rt.pageIndex,this.pageDimensions=rt.pageDimensions),this.parent=rt}focusin(rt){pt(this,g)?an(this,g,!1):this.parent.setSelected(this)}focusout(rt){var dt;if(!this.isAttachedToDOM)return;const it=rt.relatedTarget;it!=null&&it.closest(`#${this.id}`)||(rt.preventDefault(),(dt=this.parent)!=null&&dt.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}dragstart(rt){const it=this.parent.div.getBoundingClientRect();this.startX=rt.clientX-it.x,this.startY=rt.clientY-it.y,rt.dataTransfer.setData("text/plain",this.id),rt.dataTransfer.effectAllowed="move"}setAt(rt,it,dt,tt){const[st,nt]=this.parentDimensions;[dt,tt]=this.screenToPageTranslation(dt,tt),this.x=(rt+dt)/st,this.y=(it+tt)/nt,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(rt,it){const[dt,tt]=this.parentDimensions;[rt,it]=this.screenToPageTranslation(rt,it),this.x+=rt/dt,this.y+=it/tt,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(rt,it){switch(this.parentRotation){case 90:return[it,-rt];case 180:return[-rt,-it];case 270:return[-it,rt];default:return[rt,it]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{realScale:rt}=this._uiManager.viewParameters,[it,dt]=this.pageDimensions;return[it*rt,dt*rt]}setDims(rt,it){const[dt,tt]=this.parentDimensions;this.div.style.width=`${100*rt/dt}%`,this.div.style.height=`${100*it/tt}%`}fixDims(){const{style:rt}=this.div,{height:it,width:dt}=rt,tt=dt.endsWith("%"),st=it.endsWith("%");if(tt&&st)return;const[nt,$]=this.parentDimensions;tt||(rt.width=`${100*parseFloat(dt)/nt}%`),st||(rt.height=`${100*parseFloat(it)/$}%`)}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",pt(this,d)),this.div.addEventListener("focusout",pt(this,h));const[rt,it]=this.getInitialTranslation();return this.translate(rt,it),(0,o.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(rt){const{isMac:it}=a.FeatureTest.platform;if(rt.button!==0||rt.ctrlKey&&it){rt.preventDefault();return}rt.ctrlKey&&!it||rt.shiftKey||rt.metaKey&&it?this.parent.toggleSelected(this):this.parent.setSelected(this),an(this,g,!0)}getRect(rt,it){const dt=this.parentScale,[tt,st]=this.pageDimensions,[nt,$]=this.pageTranslation,_t=rt/dt,At=it/dt,ft=this.x*tt,j=this.y*st,at=this.width*tt,yt=this.height*st;switch(this.rotation){case 0:return[ft+_t+nt,st-j-At-yt+$,ft+_t+at+nt,st-j-At+$];case 90:return[ft+At+nt,st-j+_t+$,ft+At+yt+nt,st-j+_t+at+$];case 180:return[ft-_t-at+nt,st-j+At+$,ft-_t+nt,st-j+At+yt+$];case 270:return[ft-At-yt+nt,st-j-_t-at+$,ft-At+nt,st-j-_t+$];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(rt,it){const[dt,tt,st,nt]=rt,$=st-dt,_t=nt-tt;switch(this.rotation){case 0:return[dt,it-nt,$,_t];case 90:return[dt,it-tt,_t,$];case 180:return[st,it-tt,$,_t];case 270:return[st,it-nt,_t,$];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){an(this,_,!0)}disableEditMode(){an(this,_,!1)}isInEditMode(){return pt(this,_)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var rt;(rt=this.div)==null||rt.addEventListener("focusin",pt(this,d))}serialize(){(0,a.unreachable)("An editor must be serializable")}static deserialize(rt,it,dt){const tt=new this.prototype.constructor({parent:it,id:it.getNextId(),uiManager:dt});tt.rotation=rt.rotation;const[st,nt]=tt.pageDimensions,[$,_t,At,ft]=tt.getRectInCurrentCoords(rt.rect,nt);return tt.x=$/st,tt.y=_t/nt,tt.width=At/st,tt.height=ft/nt,tt}remove(){this.div.removeEventListener("focusin",pt(this,d)),this.div.removeEventListener("focusout",pt(this,h)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var rt;(rt=this.div)==null||rt.classList.add("selectedEditor")}unselect(){var rt;(rt=this.div)==null||rt.classList.remove("selectedEditor")}updateParams(rt,it){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return pt(this,b)}set isEditing(rt){an(this,b,rt),rt?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}};let c=ot;d=new WeakMap,h=new WeakMap,g=new WeakMap,b=new WeakMap,_=new WeakMap,_e=new WeakMap,Mn(c,"_colorManager",new o.ColorManager),Mn(c,"_zIndex",1),i.AnnotationEditor=c},(e,i,s)=>{var ot,ut,rt,it,dt,tt,Or,$,_t,At,ft,j,at,yt,lt,vt,xt,bt,It,Kt,Zt,jt,$t,Qt,Jt,on,un,Ct,ht,gt,wt,Mr,Mt,ur,Pt,Fr,Tt,Dr,ct,jn,Et,Kn,Lt,Lr,Vt,Ir,Yt,dr,tn,qn,ln,hr;Object.defineProperty(i,"__esModule",{value:!0}),i.KeyboardManager=i.CommandManager=i.ColorManager=i.AnnotationEditorUIManager=void 0,i.bindEvents=c,i.opacityToHex=d;var o=s(1),a=s(6);function c(_n,Ut,cn){for(const zt of cn)Ut.addEventListener(zt,_n[zt].bind(_n))}function d(_n){return Math.round(Math.min(255,Math.max(1,255*_n))).toString(16).padStart(2,"0")}class h{constructor(){Wt(this,ot,0)}getId(){return`${o.AnnotationEditorPrefix}${er(this,ot)._++}`}}ot=new WeakMap;class g{constructor(Ut=128){Wt(this,ut,[]);Wt(this,rt,!1);Wt(this,it,void 0);Wt(this,dt,-1);an(this,it,Ut)}add({cmd:Ut,undo:cn,mustExec:zt,type:Ht=NaN,overwriteIfSameType:Ft=!1,keepUndo:Ot=!1}){if(zt&&Ut(),pt(this,rt))return;const Dt={cmd:Ut,undo:cn,type:Ht};if(pt(this,dt)===-1){pt(this,ut).length>0&&(pt(this,ut).length=0),an(this,dt,0),pt(this,ut).push(Dt);return}if(Ft&&pt(this,ut)[pt(this,dt)].type===Ht){Ot&&(Dt.undo=pt(this,ut)[pt(this,dt)].undo),pt(this,ut)[pt(this,dt)]=Dt;return}const en=pt(this,dt)+1;en===pt(this,it)?pt(this,ut).splice(0,1):(an(this,dt,en),en<pt(this,ut).length&&pt(this,ut).splice(en)),pt(this,ut).push(Dt)}undo(){pt(this,dt)!==-1&&(an(this,rt,!0),pt(this,ut)[pt(this,dt)].undo(),an(this,rt,!1),an(this,dt,pt(this,dt)-1))}redo(){pt(this,dt)<pt(this,ut).length-1&&(an(this,dt,pt(this,dt)+1),an(this,rt,!0),pt(this,ut)[pt(this,dt)].cmd(),an(this,rt,!1))}hasSomethingToUndo(){return pt(this,dt)!==-1}hasSomethingToRedo(){return pt(this,dt)<pt(this,ut).length-1}destroy(){an(this,ut,null)}}ut=new WeakMap,rt=new WeakMap,it=new WeakMap,dt=new WeakMap,i.CommandManager=g;class b{constructor(Ut){Wt(this,tt);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:cn}=o.FeatureTest.platform;for(const[zt,Ht]of Ut)for(const Ft of zt){const Ot=Ft.startsWith("mac+");cn&&Ot?(this.callbacks.set(Ft.slice(4),Ht),this.allKeys.add(Ft.split("+").at(-1))):!cn&&!Ot&&(this.callbacks.set(Ft,Ht),this.allKeys.add(Ft.split("+").at(-1)))}}exec(Ut,cn){if(!this.allKeys.has(cn.key))return;const zt=this.callbacks.get(Xt(this,tt,Or).call(this,cn));zt&&(zt.bind(Ut)(),cn.stopPropagation(),cn.preventDefault())}}tt=new WeakSet,Or=function(Ut){Ut.altKey&&this.buffer.push("alt"),Ut.ctrlKey&&this.buffer.push("ctrl"),Ut.metaKey&&this.buffer.push("meta"),Ut.shiftKey&&this.buffer.push("shift"),this.buffer.push(Ut.key);const cn=this.buffer.join("+");return this.buffer.length=0,cn},i.KeyboardManager=b;const nt=class{get _colors(){const Ut=new Map([["CanvasText",null],["Canvas",null]]);return(0,a.getColorValues)(Ut),(0,o.shadow)(this,"_colors",Ut)}convert(Ut){const cn=(0,a.getRGB)(Ut);if(!window.matchMedia("(forced-colors: active)").matches)return cn;for(const[zt,Ht]of this._colors)if(Ht.every((Ft,Ot)=>Ft===cn[Ot]))return nt._colorsMapping.get(zt);return cn}getHexCode(Ut){const cn=this._colors.get(Ut);return cn?o.Util.makeHexColor(...cn):Ut}};let _=nt;Mn(_,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]])),i.ColorManager=_;const yn=class{constructor(Ut,cn,zt){Wt(this,wt);Wt(this,Mt);Wt(this,Pt);Wt(this,Tt);Wt(this,ct);Wt(this,Et);Wt(this,Lt);Wt(this,Vt);Wt(this,Yt);Wt(this,tn);Wt(this,ln);Wt(this,$,null);Wt(this,_t,new Map);Wt(this,At,new Map);Wt(this,ft,null);Wt(this,j,new g);Wt(this,at,0);Wt(this,yt,null);Wt(this,lt,new Set);Wt(this,vt,null);Wt(this,xt,new h);Wt(this,bt,!1);Wt(this,It,o.AnnotationEditorType.NONE);Wt(this,Kt,new Set);Wt(this,Zt,this.copy.bind(this));Wt(this,jt,this.cut.bind(this));Wt(this,$t,this.paste.bind(this));Wt(this,Qt,this.keydown.bind(this));Wt(this,Jt,this.onEditingAction.bind(this));Wt(this,on,this.onPageChanging.bind(this));Wt(this,un,this.onScaleChanging.bind(this));Wt(this,Ct,this.onRotationChanging.bind(this));Wt(this,ht,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Wt(this,gt,null);an(this,gt,Ut),an(this,vt,cn),pt(this,vt)._on("editingaction",pt(this,Jt)),pt(this,vt)._on("pagechanging",pt(this,on)),pt(this,vt)._on("scalechanging",pt(this,un)),pt(this,vt)._on("rotationchanging",pt(this,Ct)),an(this,ft,zt),this.viewParameters={realScale:a.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){Xt(this,Mt,ur).call(this),pt(this,vt)._off("editingaction",pt(this,Jt)),pt(this,vt)._off("pagechanging",pt(this,on)),pt(this,vt)._off("scalechanging",pt(this,un)),pt(this,vt)._off("rotationchanging",pt(this,Ct));for(const Ut of pt(this,At).values())Ut.destroy();pt(this,At).clear(),pt(this,_t).clear(),pt(this,lt).clear(),an(this,$,null),pt(this,Kt).clear(),pt(this,j).destroy()}onPageChanging({pageNumber:Ut}){an(this,at,Ut-1)}focusMainContainer(){pt(this,gt).focus()}addShouldRescale(Ut){pt(this,lt).add(Ut)}removeShouldRescale(Ut){pt(this,lt).delete(Ut)}onScaleChanging({scale:Ut}){this.commitOrRemove(),this.viewParameters.realScale=Ut*a.PixelsPerInch.PDF_TO_CSS_UNITS;for(const cn of pt(this,lt))cn.onScaleChanging()}onRotationChanging({pagesRotation:Ut}){this.commitOrRemove(),this.viewParameters.rotation=Ut}addToAnnotationStorage(Ut){!Ut.isEmpty()&&pt(this,ft)&&!pt(this,ft).has(Ut.id)&&pt(this,ft).setValue(Ut.id,Ut)}copy(Ut){if(Ut.preventDefault(),pt(this,$)&&pt(this,$).commitOrRemove(),!this.hasSelection)return;const cn=[];for(const zt of pt(this,Kt))zt.isEmpty()||cn.push(zt.serialize());cn.length!==0&&Ut.clipboardData.setData("application/pdfjs",JSON.stringify(cn))}cut(Ut){this.copy(Ut),this.delete()}paste(Ut){Ut.preventDefault();let cn=Ut.clipboardData.getData("application/pdfjs");if(!cn)return;try{cn=JSON.parse(cn)}catch(Ht){(0,o.warn)(`paste: "${Ht.message}".`);return}if(!Array.isArray(cn))return;this.unselectAll();const zt=pt(this,At).get(pt(this,at));try{const Ht=[];for(const Dt of cn){const en=zt.deserialize(Dt);if(!en)return;Ht.push(en)}const Ft=()=>{for(const Dt of Ht)Xt(this,Yt,dr).call(this,Dt);Xt(this,ln,hr).call(this,Ht)},Ot=()=>{for(const Dt of Ht)Dt.remove()};this.addCommands({cmd:Ft,undo:Ot,mustExec:!0})}catch(Ht){(0,o.warn)(`paste: "${Ht.message}".`)}}keydown(Ut){var cn;(cn=this.getActive())!=null&&cn.shouldGetKeyboardEvents()||yn._keyboardManager.exec(this,Ut)}onEditingAction(Ut){["undo","redo","delete","selectAll"].includes(Ut.name)&&this[Ut.name]()}setEditingState(Ut){Ut?(Xt(this,wt,Mr).call(this),Xt(this,Pt,Fr).call(this),Xt(this,ct,jn).call(this,{isEditing:pt(this,It)!==o.AnnotationEditorType.NONE,isEmpty:Xt(this,tn,qn).call(this),hasSomethingToUndo:pt(this,j).hasSomethingToUndo(),hasSomethingToRedo:pt(this,j).hasSomethingToRedo(),hasSelectedEditor:!1})):(Xt(this,Mt,ur).call(this),Xt(this,Tt,Dr).call(this),Xt(this,ct,jn).call(this,{isEditing:!1}))}registerEditorTypes(Ut){if(!pt(this,yt)){an(this,yt,Ut);for(const cn of pt(this,yt))Xt(this,Et,Kn).call(this,cn.defaultPropertiesToUpdate)}}getId(){return pt(this,xt).getId()}get currentLayer(){return pt(this,At).get(pt(this,at))}get currentPageIndex(){return pt(this,at)}addLayer(Ut){pt(this,At).set(Ut.pageIndex,Ut),pt(this,bt)?Ut.enable():Ut.disable()}removeLayer(Ut){pt(this,At).delete(Ut.pageIndex)}updateMode(Ut){if(an(this,It,Ut),Ut===o.AnnotationEditorType.NONE)this.setEditingState(!1),Xt(this,Vt,Ir).call(this);else{this.setEditingState(!0),Xt(this,Lt,Lr).call(this);for(const cn of pt(this,At).values())cn.updateMode(Ut)}}updateToolbar(Ut){Ut!==pt(this,It)&&pt(this,vt).dispatch("switchannotationeditormode",{source:this,mode:Ut})}updateParams(Ut,cn){if(pt(this,yt)){for(const zt of pt(this,Kt))zt.updateParams(Ut,cn);for(const zt of pt(this,yt))zt.updateDefaultParams(Ut,cn)}}getEditors(Ut){const cn=[];for(const zt of pt(this,_t).values())zt.pageIndex===Ut&&cn.push(zt);return cn}getEditor(Ut){return pt(this,_t).get(Ut)}addEditor(Ut){pt(this,_t).set(Ut.id,Ut)}removeEditor(Ut){var cn;pt(this,_t).delete(Ut.id),this.unselect(Ut),(cn=pt(this,ft))==null||cn.remove(Ut.id)}setActiveEditor(Ut){pt(this,$)!==Ut&&(an(this,$,Ut),Ut&&Xt(this,Et,Kn).call(this,Ut.propertiesToUpdate))}toggleSelected(Ut){if(pt(this,Kt).has(Ut)){pt(this,Kt).delete(Ut),Ut.unselect(),Xt(this,ct,jn).call(this,{hasSelectedEditor:this.hasSelection});return}pt(this,Kt).add(Ut),Ut.select(),Xt(this,Et,Kn).call(this,Ut.propertiesToUpdate),Xt(this,ct,jn).call(this,{hasSelectedEditor:!0})}setSelected(Ut){for(const cn of pt(this,Kt))cn!==Ut&&cn.unselect();pt(this,Kt).clear(),pt(this,Kt).add(Ut),Ut.select(),Xt(this,Et,Kn).call(this,Ut.propertiesToUpdate),Xt(this,ct,jn).call(this,{hasSelectedEditor:!0})}isSelected(Ut){return pt(this,Kt).has(Ut)}unselect(Ut){Ut.unselect(),pt(this,Kt).delete(Ut),Xt(this,ct,jn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return pt(this,Kt).size!==0}undo(){pt(this,j).undo(),Xt(this,ct,jn).call(this,{hasSomethingToUndo:pt(this,j).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Xt(this,tn,qn).call(this)})}redo(){pt(this,j).redo(),Xt(this,ct,jn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:pt(this,j).hasSomethingToRedo(),isEmpty:Xt(this,tn,qn).call(this)})}addCommands(Ut){pt(this,j).add(Ut),Xt(this,ct,jn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Xt(this,tn,qn).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Ut=[...pt(this,Kt)],cn=()=>{for(const Ht of Ut)Ht.remove()},zt=()=>{for(const Ht of Ut)Xt(this,Yt,dr).call(this,Ht)};this.addCommands({cmd:cn,undo:zt,mustExec:!0})}commitOrRemove(){var Ut;(Ut=pt(this,$))==null||Ut.commitOrRemove()}selectAll(){for(const Ut of pt(this,Kt))Ut.commit();Xt(this,ln,hr).call(this,pt(this,_t).values())}unselectAll(){if(pt(this,$)){pt(this,$).commitOrRemove();return}if(pt(this,Kt).size!==0){for(const Ut of pt(this,Kt))Ut.unselect();pt(this,Kt).clear(),Xt(this,ct,jn).call(this,{hasSelectedEditor:!1})}}isActive(Ut){return pt(this,$)===Ut}getActive(){return pt(this,$)}getMode(){return pt(this,It)}};let _e=yn;$=new WeakMap,_t=new WeakMap,At=new WeakMap,ft=new WeakMap,j=new WeakMap,at=new WeakMap,yt=new WeakMap,lt=new WeakMap,vt=new WeakMap,xt=new WeakMap,bt=new WeakMap,It=new WeakMap,Kt=new WeakMap,Zt=new WeakMap,jt=new WeakMap,$t=new WeakMap,Qt=new WeakMap,Jt=new WeakMap,on=new WeakMap,un=new WeakMap,Ct=new WeakMap,ht=new WeakMap,gt=new WeakMap,wt=new WeakSet,Mr=function(){pt(this,gt).addEventListener("keydown",pt(this,Qt))},Mt=new WeakSet,ur=function(){pt(this,gt).removeEventListener("keydown",pt(this,Qt))},Pt=new WeakSet,Fr=function(){document.addEventListener("copy",pt(this,Zt)),document.addEventListener("cut",pt(this,jt)),document.addEventListener("paste",pt(this,$t))},Tt=new WeakSet,Dr=function(){document.removeEventListener("copy",pt(this,Zt)),document.removeEventListener("cut",pt(this,jt)),document.removeEventListener("paste",pt(this,$t))},ct=new WeakSet,jn=function(Ut){Object.entries(Ut).some(([zt,Ht])=>pt(this,ht)[zt]!==Ht)&&pt(this,vt).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(pt(this,ht),Ut)})},Et=new WeakSet,Kn=function(Ut){pt(this,vt).dispatch("annotationeditorparamschanged",{source:this,details:Ut})},Lt=new WeakSet,Lr=function(){if(!pt(this,bt)){an(this,bt,!0);for(const Ut of pt(this,At).values())Ut.enable()}},Vt=new WeakSet,Ir=function(){if(this.unselectAll(),pt(this,bt)){an(this,bt,!1);for(const Ut of pt(this,At).values())Ut.disable()}},Yt=new WeakSet,dr=function(Ut){const cn=pt(this,At).get(Ut.pageIndex);cn?cn.addOrRebuild(Ut):this.addEditor(Ut)},tn=new WeakSet,qn=function(){if(pt(this,_t).size===0)return!0;if(pt(this,_t).size===1)for(const Ut of pt(this,_t).values())return Ut.isEmpty();return!1},ln=new WeakSet,hr=function(Ut){pt(this,Kt).clear();for(const cn of Ut)cn.isEmpty()||(pt(this,Kt).add(cn),cn.select());Xt(this,ct,jn).call(this,{hasSelectedEditor:!0})},Mn(_e,"_keyboardManager",new b([[["ctrl+a","mac+meta+a"],yn.prototype.selectAll],[["ctrl+z","mac+meta+z"],yn.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],yn.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],yn.prototype.delete],[["Escape","mac+Escape"],yn.prototype.unselectAll]])),i.AnnotationEditorUIManager=_e},(e,i,s)=>{var Zt,jt,$t,Qt,Jt,on,un,Ct,ht,Wn,wt,Bn,Mt,$n;Object.defineProperty(i,"__esModule",{value:!0}),i.StatTimer=i.RenderingCancelledException=i.PixelsPerInch=i.PageViewport=i.PDFDateString=i.DOMStandardFontDataFactory=i.DOMSVGFactory=i.DOMFilterFactory=i.DOMCanvasFactory=i.DOMCMapReaderFactory=i.AnnotationPrefix=void 0,i.deprecated=ft,i.getColorValues=vt,i.getCurrentTransform=xt,i.getCurrentTransformInverse=bt,i.getFilenameFromUrl=st,i.getPdfFilenameFromUrl=nt,i.getRGB=lt,i.getXfaPageViewport=yt,i.isDataScheme=dt,i.isPdfFile=tt,i.isValidFetchUrl=_t,i.loadScript=At,i.setLayerDimensions=It;var o=s(7),a=s(1);const c="http://www.w3.org/2000/svg",d="pdfjs_internal_id_";i.AnnotationPrefix=d;const Kt=class{};let h=Kt;Mn(h,"CSS",96),Mn(h,"PDF",72),Mn(h,"PDF_TO_CSS_UNITS",Kt.CSS/Kt.PDF),i.PixelsPerInch=h;class g extends o.BaseFilterFactory{constructor({docId:Tt,ownerDocument:et=globalThis.document}={}){super();Wt(this,ht);Wt(this,wt);Wt(this,Mt);Wt(this,Zt,void 0);Wt(this,jt,void 0);Wt(this,$t,void 0);Wt(this,Qt,void 0);Wt(this,Jt,void 0);Wt(this,on,void 0);Wt(this,un,void 0);Wt(this,Ct,0);an(this,$t,Tt),an(this,Qt,et)}addFilter(Tt){if(!Tt)return"none";let et=pt(this,ht,Wn).get(Tt);if(et)return et;let ct,mt,Et,St;if(Tt.length===1){const Yt=Tt[0],sn=new Array(256);for(let tn=0;tn<256;tn++)sn[tn]=Yt[tn]/255;St=ct=mt=Et=sn.join(",")}else{const[Yt,sn,tn]=Tt,rn=new Array(256),ln=new Array(256),pn=new Array(256);for(let yn=0;yn<256;yn++)rn[yn]=Yt[yn]/255,ln[yn]=sn[yn]/255,pn[yn]=tn[yn]/255;ct=rn.join(","),mt=ln.join(","),Et=pn.join(","),St=`${ct}${mt}${Et}`}if(et=pt(this,ht,Wn).get(St),et)return pt(this,ht,Wn).set(Tt,et),et;const Lt=`g_${pt(this,$t)}_transfer_map_${er(this,Ct)._++}`,Gt=`url(#${Lt})`;pt(this,ht,Wn).set(Tt,Gt),pt(this,ht,Wn).set(St,Gt);const Vt=pt(this,Qt).createElementNS(c,"filter",c);Vt.setAttribute("id",Lt),Vt.setAttribute("color-interpolation-filters","sRGB");const qt=pt(this,Qt).createElementNS(c,"feComponentTransfer");return Vt.append(qt),Xt(this,Mt,$n).call(this,qt,"feFuncR",ct),Xt(this,Mt,$n).call(this,qt,"feFuncG",mt),Xt(this,Mt,$n).call(this,qt,"feFuncB",Et),pt(this,wt,Bn).append(Vt),Gt}addHCMFilter(Tt,et){var tn;const ct=`${Tt}-${et}`;if(pt(this,on)===ct)return pt(this,un);if(an(this,on,ct),an(this,un,"none"),(tn=pt(this,Jt))==null||tn.remove(),!Tt||!et)return pt(this,un);pt(this,wt,Bn).style.color=Tt,Tt=getComputedStyle(pt(this,wt,Bn)).getPropertyValue("color");const mt=lt(Tt);Tt=a.Util.makeHexColor(...mt),pt(this,wt,Bn).style.color=et,et=getComputedStyle(pt(this,wt,Bn)).getPropertyValue("color");const Et=lt(et);if(et=a.Util.makeHexColor(...Et),pt(this,wt,Bn).style.color="",Tt==="#000000"&&et==="#ffffff"||Tt===et)return pt(this,un);const St=new Array(256);for(let rn=0;rn<=255;rn++){const ln=rn/255;St[rn]=ln<=.03928?ln/12.92:((ln+.055)/1.055)**2.4}const Lt=St.join(","),Gt=`g_${pt(this,$t)}_hcm_filter`,Vt=an(this,Jt,pt(this,Qt).createElementNS(c,"filter",c));Vt.setAttribute("id",Gt),Vt.setAttribute("color-interpolation-filters","sRGB");let qt=pt(this,Qt).createElementNS(c,"feComponentTransfer");Vt.append(qt),Xt(this,Mt,$n).call(this,qt,"feFuncR",Lt),Xt(this,Mt,$n).call(this,qt,"feFuncG",Lt),Xt(this,Mt,$n).call(this,qt,"feFuncB",Lt);const Yt=pt(this,Qt).createElementNS(c,"feColorMatrix");Yt.setAttribute("type","matrix"),Yt.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),Vt.append(Yt),qt=pt(this,Qt).createElementNS(c,"feComponentTransfer"),Vt.append(qt);const sn=(rn,ln)=>{const pn=mt[rn]/255,yn=Et[rn]/255,_n=new Array(ln+1);for(let Ut=0;Ut<=ln;Ut++)_n[Ut]=pn+Ut/ln*(yn-pn);return _n.join(",")};return Xt(this,Mt,$n).call(this,qt,"feFuncR",sn(0,5)),Xt(this,Mt,$n).call(this,qt,"feFuncG",sn(1,5)),Xt(this,Mt,$n).call(this,qt,"feFuncB",sn(2,5)),pt(this,wt,Bn).append(Vt),an(this,un,`url(#${Gt})`),pt(this,un)}destroy(Tt=!1){Tt&&pt(this,un)||(pt(this,jt)&&(pt(this,jt).parentNode.parentNode.remove(),an(this,jt,null)),pt(this,Zt)&&(pt(this,Zt).clear(),an(this,Zt,null)),an(this,Ct,0))}}Zt=new WeakMap,jt=new WeakMap,$t=new WeakMap,Qt=new WeakMap,Jt=new WeakMap,on=new WeakMap,un=new WeakMap,Ct=new WeakMap,ht=new WeakSet,Wn=function(){return pt(this,Zt)||an(this,Zt,new Map)},wt=new WeakSet,Bn=function(){if(!pt(this,jt)){const Tt=pt(this,Qt).createElement("div"),{style:et}=Tt;et.visibility="hidden",et.contain="strict",et.width=et.height=0,et.position="absolute",et.top=et.left=0,et.zIndex=-1;const ct=pt(this,Qt).createElementNS(c,"svg");ct.setAttribute("width",0),ct.setAttribute("height",0),an(this,jt,pt(this,Qt).createElementNS(c,"defs")),Tt.append(ct),ct.append(pt(this,jt)),pt(this,Qt).body.append(Tt)}return pt(this,jt)},Mt=new WeakSet,$n=function(Tt,et,ct){const mt=pt(this,Qt).createElementNS(c,et);mt.setAttribute("type","discrete"),mt.setAttribute("tableValues",ct),Tt.append(mt)},i.DOMFilterFactory=g;class b extends o.BaseCanvasFactory{constructor({ownerDocument:kt=globalThis.document}={}){super(),this._document=kt}_createCanvas(kt,Tt){const et=this._document.createElement("canvas");return et.width=kt,et.height=Tt,et}}i.DOMCanvasFactory=b;async function _(Pt,kt=!1){if(_t(Pt,document.baseURI)){const Tt=await fetch(Pt);if(!Tt.ok)throw new Error(Tt.statusText);return kt?new Uint8Array(await Tt.arrayBuffer()):(0,a.stringToBytes)(await Tt.text())}return new Promise((Tt,et)=>{const ct=new XMLHttpRequest;ct.open("GET",Pt,!0),kt&&(ct.responseType="arraybuffer"),ct.onreadystatechange=()=>{if(ct.readyState===XMLHttpRequest.DONE){if(ct.status===200||ct.status===0){let mt;if(kt&&ct.response?mt=new Uint8Array(ct.response):!kt&&ct.responseText&&(mt=(0,a.stringToBytes)(ct.responseText)),mt){Tt(mt);return}}et(new Error(ct.statusText))}},ct.send(null)})}class _e extends o.BaseCMapReaderFactory{_fetchData(kt,Tt){return _(kt,this.isCompressed).then(et=>({cMapData:et,compressionType:Tt}))}}i.DOMCMapReaderFactory=_e;class ot extends o.BaseStandardFontDataFactory{_fetchData(kt){return _(kt,!0)}}i.DOMStandardFontDataFactory=ot;class ut extends o.BaseSVGFactory{_createSVG(kt){return document.createElementNS(c,kt)}}i.DOMSVGFactory=ut;class rt{constructor({viewBox:kt,scale:Tt,rotation:et,offsetX:ct=0,offsetY:mt=0,dontFlip:Et=!1}){this.viewBox=kt,this.scale=Tt,this.rotation=et,this.offsetX=ct,this.offsetY=mt;const St=(kt[2]+kt[0])/2,Lt=(kt[3]+kt[1])/2;let Gt,Vt,qt,Yt;switch(et%=360,et<0&&(et+=360),et){case 180:Gt=-1,Vt=0,qt=0,Yt=1;break;case 90:Gt=0,Vt=1,qt=1,Yt=0;break;case 270:Gt=0,Vt=-1,qt=-1,Yt=0;break;case 0:Gt=1,Vt=0,qt=0,Yt=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Et&&(qt=-qt,Yt=-Yt);let sn,tn,rn,ln;Gt===0?(sn=Math.abs(Lt-kt[1])*Tt+ct,tn=Math.abs(St-kt[0])*Tt+mt,rn=(kt[3]-kt[1])*Tt,ln=(kt[2]-kt[0])*Tt):(sn=Math.abs(St-kt[0])*Tt+ct,tn=Math.abs(Lt-kt[1])*Tt+mt,rn=(kt[2]-kt[0])*Tt,ln=(kt[3]-kt[1])*Tt),this.transform=[Gt*Tt,Vt*Tt,qt*Tt,Yt*Tt,sn-Gt*Tt*St-qt*Tt*Lt,tn-Vt*Tt*St-Yt*Tt*Lt],this.width=rn,this.height=ln}get rawDims(){const{viewBox:kt}=this;return(0,a.shadow)(this,"rawDims",{pageWidth:kt[2]-kt[0],pageHeight:kt[3]-kt[1],pageX:kt[0],pageY:kt[1]})}clone({scale:kt=this.scale,rotation:Tt=this.rotation,offsetX:et=this.offsetX,offsetY:ct=this.offsetY,dontFlip:mt=!1}={}){return new rt({viewBox:this.viewBox.slice(),scale:kt,rotation:Tt,offsetX:et,offsetY:ct,dontFlip:mt})}convertToViewportPoint(kt,Tt){return a.Util.applyTransform([kt,Tt],this.transform)}convertToViewportRectangle(kt){const Tt=a.Util.applyTransform([kt[0],kt[1]],this.transform),et=a.Util.applyTransform([kt[2],kt[3]],this.transform);return[Tt[0],Tt[1],et[0],et[1]]}convertToPdfPoint(kt,Tt){return a.Util.applyInverseTransform([kt,Tt],this.transform)}}i.PageViewport=rt;class it extends a.BaseException{constructor(kt,Tt,et=0){super(kt,"RenderingCancelledException"),this.type=Tt,this.extraDelay=et}}i.RenderingCancelledException=it;function dt(Pt){const kt=Pt.length;let Tt=0;for(;Tt<kt&&Pt[Tt].trim()==="";)Tt++;return Pt.substring(Tt,Tt+5).toLowerCase()==="data:"}function tt(Pt){return typeof Pt=="string"&&/\.pdf$/i.test(Pt)}function st(Pt,kt=!1){return kt||([Pt]=Pt.split(/[#?]/,1)),Pt.substring(Pt.lastIndexOf("/")+1)}function nt(Pt,kt="document.pdf"){if(typeof Pt!="string")return kt;if(dt(Pt))return(0,a.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),kt;const Tt=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,et=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,ct=Tt.exec(Pt);let mt=et.exec(ct[1])||et.exec(ct[2])||et.exec(ct[3]);if(mt&&(mt=mt[0],mt.includes("%")))try{mt=et.exec(decodeURIComponent(mt))[0]}catch{}return mt||kt}class ${constructor(){Mn(this,"started",Object.create(null));Mn(this,"times",[])}time(kt){kt in this.started&&(0,a.warn)(`Timer is already running for ${kt}`),this.started[kt]=Date.now()}timeEnd(kt){kt in this.started||(0,a.warn)(`Timer has not been started for ${kt}`),this.times.push({name:kt,start:this.started[kt],end:Date.now()}),delete this.started[kt]}toString(){const kt=[];let Tt=0;for(const{name:et}of this.times)Tt=Math.max(et.length,Tt);for(const{name:et,start:ct,end:mt}of this.times)kt.push(`${et.padEnd(Tt)} ${mt-ct}ms
`);return kt.join("")}}i.StatTimer=$;function _t(Pt,kt){try{const{protocol:Tt}=kt?new URL(Pt,kt):new URL(Pt);return Tt==="http:"||Tt==="https:"}catch{return!1}}function At(Pt,kt=!1){return new Promise((Tt,et)=>{const ct=document.createElement("script");ct.src=Pt,ct.onload=function(mt){kt&&ct.remove(),Tt(mt)},ct.onerror=function(){et(new Error(`Cannot load script at: ${ct.src}`))},(document.head||document.documentElement).append(ct)})}function ft(Pt){console.log("Deprecated API usage: "+Pt)}let j;class at{static toDateObject(kt){if(!kt||typeof kt!="string")return null;j||(j=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Tt=j.exec(kt);if(!Tt)return null;const et=parseInt(Tt[1],10);let ct=parseInt(Tt[2],10);ct=ct>=1&&ct<=12?ct-1:0;let mt=parseInt(Tt[3],10);mt=mt>=1&&mt<=31?mt:1;let Et=parseInt(Tt[4],10);Et=Et>=0&&Et<=23?Et:0;let St=parseInt(Tt[5],10);St=St>=0&&St<=59?St:0;let Lt=parseInt(Tt[6],10);Lt=Lt>=0&&Lt<=59?Lt:0;const Gt=Tt[7]||"Z";let Vt=parseInt(Tt[8],10);Vt=Vt>=0&&Vt<=23?Vt:0;let qt=parseInt(Tt[9],10)||0;return qt=qt>=0&&qt<=59?qt:0,Gt==="-"?(Et+=Vt,St+=qt):Gt==="+"&&(Et-=Vt,St-=qt),new Date(Date.UTC(et,ct,mt,Et,St,Lt))}}i.PDFDateString=at;function yt(Pt,{scale:kt=1,rotation:Tt=0}){const{width:et,height:ct}=Pt.attributes.style,mt=[0,0,parseInt(et),parseInt(ct)];return new rt({viewBox:mt,scale:kt,rotation:Tt})}function lt(Pt){if(Pt.startsWith("#")){const kt=parseInt(Pt.slice(1),16);return[(kt&16711680)>>16,(kt&65280)>>8,kt&255]}return Pt.startsWith("rgb(")?Pt.slice(4,-1).split(",").map(kt=>parseInt(kt)):Pt.startsWith("rgba(")?Pt.slice(5,-1).split(",").map(kt=>parseInt(kt)).slice(0,3):((0,a.warn)(`Not a valid color format: "${Pt}"`),[0,0,0])}function vt(Pt){const kt=document.createElement("span");kt.style.visibility="hidden",document.body.append(kt);for(const Tt of Pt.keys()){kt.style.color=Tt;const et=window.getComputedStyle(kt).color;Pt.set(Tt,lt(et))}kt.remove()}function xt(Pt){const{a:kt,b:Tt,c:et,d:ct,e:mt,f:Et}=Pt.getTransform();return[kt,Tt,et,ct,mt,Et]}function bt(Pt){const{a:kt,b:Tt,c:et,d:ct,e:mt,f:Et}=Pt.getTransform().invertSelf();return[kt,Tt,et,ct,mt,Et]}function It(Pt,kt,Tt=!1,et=!0){if(kt instanceof rt){const{pageWidth:ct,pageHeight:mt}=kt.rawDims,{style:Et}=Pt,St=`calc(var(--scale-factor) * ${ct}px)`,Lt=`calc(var(--scale-factor) * ${mt}px)`;!Tt||kt.rotation%180===0?(Et.width=St,Et.height=Lt):(Et.width=Lt,Et.height=St)}et&&Pt.setAttribute("data-main-rotation",kt.rotation)}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BaseStandardFontDataFactory=i.BaseSVGFactory=i.BaseFilterFactory=i.BaseCanvasFactory=i.BaseCMapReaderFactory=void 0;var o=s(1);class a{constructor(){this.constructor===a&&(0,o.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(_){return"none"}addHCMFilter(_,_e){return"none"}destroy(_=!1){}}i.BaseFilterFactory=a;class c{constructor(){this.constructor===c&&(0,o.unreachable)("Cannot initialize BaseCanvasFactory.")}create(_,_e){if(_<=0||_e<=0)throw new Error("Invalid canvas size");const ot=this._createCanvas(_,_e);return{canvas:ot,context:ot.getContext("2d")}}reset(_,_e,ot){if(!_.canvas)throw new Error("Canvas is not specified");if(_e<=0||ot<=0)throw new Error("Invalid canvas size");_.canvas.width=_e,_.canvas.height=ot}destroy(_){if(!_.canvas)throw new Error("Canvas is not specified");_.canvas.width=0,_.canvas.height=0,_.canvas=null,_.context=null}_createCanvas(_,_e){(0,o.unreachable)("Abstract method `_createCanvas` called.")}}i.BaseCanvasFactory=c;class d{constructor({baseUrl:_=null,isCompressed:_e=!0}){this.constructor===d&&(0,o.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=_,this.isCompressed=_e}async fetch({name:_}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!_)throw new Error("CMap name must be specified.");const _e=this.baseUrl+_+(this.isCompressed?".bcmap":""),ot=this.isCompressed?o.CMapCompressionType.BINARY:o.CMapCompressionType.NONE;return this._fetchData(_e,ot).catch(ut=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${_e}`)})}_fetchData(_,_e){(0,o.unreachable)("Abstract method `_fetchData` called.")}}i.BaseCMapReaderFactory=d;class h{constructor({baseUrl:_=null}){this.constructor===h&&(0,o.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=_}async fetch({filename:_}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!_)throw new Error("Font filename must be specified.");const _e=`${this.baseUrl}${_}`;return this._fetchData(_e).catch(ot=>{throw new Error(`Unable to load font data at: ${_e}`)})}_fetchData(_){(0,o.unreachable)("Abstract method `_fetchData` called.")}}i.BaseStandardFontDataFactory=h;class g{constructor(){this.constructor===g&&(0,o.unreachable)("Cannot initialize BaseSVGFactory.")}create(_,_e,ot=!1){if(_<=0||_e<=0)throw new Error("Invalid SVG dimensions");const ut=this._createSVG("svg:svg");return ut.setAttribute("version","1.1"),ot||(ut.setAttribute("width",`${_}px`),ut.setAttribute("height",`${_e}px`)),ut.setAttribute("preserveAspectRatio","none"),ut.setAttribute("viewBox",`0 0 ${_} ${_e}`),ut}createElement(_){if(typeof _!="string")throw new Error("Invalid SVG element type");return this._createSVG(_)}_createSVG(_){(0,o.unreachable)("Abstract method `_createSVG` called.")}}i.BaseSVGFactory=g},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.MurmurHash3_64=void 0;var o=s(1);const a=3285377520,c=4294901760,d=65535;class h{constructor(b){this.h1=b?b&4294967295:a,this.h2=b?b&4294967295:a}update(b){let _,_e;if(typeof b=="string"){_=new Uint8Array(b.length*2),_e=0;for(let ft=0,j=b.length;ft<j;ft++){const at=b.charCodeAt(ft);at<=255?_[_e++]=at:(_[_e++]=at>>>8,_[_e++]=at&255)}}else if((0,o.isArrayBuffer)(b))_=b.slice(),_e=_.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const ot=_e>>2,ut=_e-ot*4,rt=new Uint32Array(_.buffer,0,ot);let it=0,dt=0,tt=this.h1,st=this.h2;const nt=3432918353,$=461845907,_t=nt&d,At=$&d;for(let ft=0;ft<ot;ft++)ft&1?(it=rt[ft],it=it*nt&c|it*_t&d,it=it<<15|it>>>17,it=it*$&c|it*At&d,tt^=it,tt=tt<<13|tt>>>19,tt=tt*5+3864292196):(dt=rt[ft],dt=dt*nt&c|dt*_t&d,dt=dt<<15|dt>>>17,dt=dt*$&c|dt*At&d,st^=dt,st=st<<13|st>>>19,st=st*5+3864292196);switch(it=0,ut){case 3:it^=_[ot*4+2]<<16;case 2:it^=_[ot*4+1]<<8;case 1:it^=_[ot*4],it=it*nt&c|it*_t&d,it=it<<15|it>>>17,it=it*$&c|it*At&d,ot&1?tt^=it:st^=it}this.h1=tt,this.h2=st}hexdigest(){let b=this.h1,_=this.h2;return b^=_>>>1,b=b*3981806797&c|b*36045&d,_=_*4283543511&c|((_<<16|b>>>16)*2950163797&c)>>>16,b^=_>>>1,b=b*444984403&c|b*60499&d,_=_*3301882366&c|((_<<16|b>>>16)*3120437893&c)>>>16,b^=_>>>1,(b>>>0).toString(16).padStart(8,"0")+(_>>>0).toString(16).padStart(8,"0")}}i.MurmurHash3_64=h},(e,i,s)=>{var h;Object.defineProperty(i,"__esModule",{value:!0}),i.FontLoader=i.FontFaceObject=void 0;var o=s(1),a=s(10);class c{constructor({ownerDocument:b=globalThis.document,styleElement:_=null}){Wt(this,h,new Set);this._document=b,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(b){this.nativeFontFaces.add(b),this._document.fonts.add(b)}removeNativeFontFace(b){this.nativeFontFaces.delete(b),this._document.fonts.delete(b)}insertRule(b){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const _=this.styleElement.sheet;_.insertRule(b,_.cssRules.length)}clear(){for(const b of this.nativeFontFaces)this._document.fonts.delete(b);this.nativeFontFaces.clear(),pt(this,h).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(b){if(!(!b||pt(this,h).has(b.loadedName))){if((0,o.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:_,src:_e,style:ot}=b,ut=new FontFace(_,_e,ot);this.addNativeFontFace(ut);try{await ut.load(),pt(this,h).add(_)}catch{(0,o.warn)(`Cannot load system font: ${b.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(ut)}return}(0,o.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(b){if(b.attached||b.missingFile&&!b.systemFontInfo)return;if(b.attached=!0,b.systemFontInfo){await this.loadSystemFont(b.systemFontInfo);return}if(this.isFontLoadingAPISupported){const _e=b.createNativeFontFace();if(_e){this.addNativeFontFace(_e);try{await _e.loaded}catch(ot){throw(0,o.warn)(`Failed to load font '${_e.family}': '${ot}'.`),b.disableFontFace=!0,ot}}return}const _=b.createFontFaceRule();if(_){if(this.insertRule(_),this.isSyncFontLoadingSupported)return;await new Promise(_e=>{const ot=this._queueLoadingCallback(_e);this._prepareFontLoadEvent(b,ot)})}}get isFontLoadingAPISupported(){var _;const b=!!((_=this._document)!=null&&_.fonts);return(0,o.shadow)(this,"isFontLoadingAPISupported",b)}get isSyncFontLoadingSupported(){let b=!1;return(a.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(b=!0),(0,o.shadow)(this,"isSyncFontLoadingSupported",b)}_queueLoadingCallback(b){function _(){for((0,o.assert)(!ot.done,"completeRequest() cannot be called twice."),ot.done=!0;_e.length>0&&_e[0].done;){const ut=_e.shift();setTimeout(ut.callback,0)}}const{loadingRequests:_e}=this,ot={done:!1,complete:_,callback:b};return _e.push(ot),ot}get _loadTestFont(){const b=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,o.shadow)(this,"_loadTestFont",b)}_prepareFontLoadEvent(b,_){function _e(vt,xt){return vt.charCodeAt(xt)<<24|vt.charCodeAt(xt+1)<<16|vt.charCodeAt(xt+2)<<8|vt.charCodeAt(xt+3)&255}function ot(vt,xt,bt,It){const Kt=vt.substring(0,xt),Zt=vt.substring(xt+bt);return Kt+It+Zt}let ut,rt;const it=this._document.createElement("canvas");it.width=1,it.height=1;const dt=it.getContext("2d");let tt=0;function st(vt,xt){if(++tt>30){(0,o.warn)("Load test font never loaded."),xt();return}if(dt.font="30px "+vt,dt.fillText(".",0,20),dt.getImageData(0,0,1,1).data[3]>0){xt();return}setTimeout(st.bind(null,vt,xt))}const nt=`lt${Date.now()}${this.loadTestFontId++}`;let $=this._loadTestFont;$=ot($,976,nt.length,nt);const At=16,ft=1482184792;let j=_e($,At);for(ut=0,rt=nt.length-3;ut<rt;ut+=4)j=j-ft+_e(nt,ut)|0;ut<nt.length&&(j=j-ft+_e(nt+"XXX",ut)|0),$=ot($,At,4,(0,o.string32)(j));const at=`url(data:font/opentype;base64,${btoa($)});`,yt=`@font-face {font-family:"${nt}";src:${at}}`;this.insertRule(yt);const lt=this._document.createElement("div");lt.style.visibility="hidden",lt.style.width=lt.style.height="10px",lt.style.position="absolute",lt.style.top=lt.style.left="0px";for(const vt of[b.loadedName,nt]){const xt=this._document.createElement("span");xt.textContent="Hi",xt.style.fontFamily=vt,lt.append(xt)}this._document.body.append(lt),st(nt,()=>{lt.remove(),_.complete()})}}h=new WeakMap,i.FontLoader=c;class d{constructor(b,{isEvalSupported:_=!0,disableFontFace:_e=!1,ignoreErrors:ot=!1,inspectFont:ut=null}){this.compiledGlyphs=Object.create(null);for(const rt in b)this[rt]=b[rt];this.isEvalSupported=_!==!1,this.disableFontFace=_e===!0,this.ignoreErrors=ot===!0,this._inspectFont=ut}createNativeFontFace(){var _;if(!this.data||this.disableFontFace)return null;let b;if(!this.cssFontInfo)b=new FontFace(this.loadedName,this.data,{});else{const _e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(_e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),b=new FontFace(this.cssFontInfo.fontFamily,this.data,_e)}return(_=this._inspectFont)==null||_.call(this,this),b}createFontFaceRule(){var ot;if(!this.data||this.disableFontFace)return null;const b=(0,o.bytesToString)(this.data),_=`url(data:${this.mimetype};base64,${btoa(b)});`;let _e;if(!this.cssFontInfo)_e=`@font-face {font-family:"${this.loadedName}";src:${_}}`;else{let ut=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(ut+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),_e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${ut}src:${_}}`}return(ot=this._inspectFont)==null||ot.call(this,this,_),_e}getPathGenerator(b,_){if(this.compiledGlyphs[_]!==void 0)return this.compiledGlyphs[_];let _e;try{_e=b.get(this.loadedName+"_path_"+_)}catch(ot){if(!this.ignoreErrors)throw ot;return(0,o.warn)(`getPathGenerator - ignoring character: "${ot}".`),this.compiledGlyphs[_]=function(ut,rt){}}if(this.isEvalSupported&&o.FeatureTest.isEvalSupported){const ot=[];for(const ut of _e){const rt=ut.args!==void 0?ut.args.join(","):"";ot.push("c.",ut.cmd,"(",rt,`);
`)}return this.compiledGlyphs[_]=new Function("c","size",ot.join(""))}return this.compiledGlyphs[_]=function(ot,ut){for(const rt of _e)rt.cmd==="scale"&&(rt.args=[ut,-ut]),ot[rt.cmd].apply(ot,rt.args)}}}i.FontFaceObject=d},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.isNodeJS=void 0;const s=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");i.isNodeJS=s},(e,i,s)=>{var $t,fr,Jt,pr;Object.defineProperty(i,"__esModule",{value:!0}),i.CanvasGraphics=void 0;var o=s(1),a=s(6),c=s(12),d=s(13),h=s(10);const g=16,b=100,_=4096,_e=15,ot=10,ut=1e3,rt=16;function it(Ct,ht){if(Ct._removeMirroring)throw new Error("Context is already forwarding operations.");Ct.__originalSave=Ct.save,Ct.__originalRestore=Ct.restore,Ct.__originalRotate=Ct.rotate,Ct.__originalScale=Ct.scale,Ct.__originalTranslate=Ct.translate,Ct.__originalTransform=Ct.transform,Ct.__originalSetTransform=Ct.setTransform,Ct.__originalResetTransform=Ct.resetTransform,Ct.__originalClip=Ct.clip,Ct.__originalMoveTo=Ct.moveTo,Ct.__originalLineTo=Ct.lineTo,Ct.__originalBezierCurveTo=Ct.bezierCurveTo,Ct.__originalRect=Ct.rect,Ct.__originalClosePath=Ct.closePath,Ct.__originalBeginPath=Ct.beginPath,Ct._removeMirroring=()=>{Ct.save=Ct.__originalSave,Ct.restore=Ct.__originalRestore,Ct.rotate=Ct.__originalRotate,Ct.scale=Ct.__originalScale,Ct.translate=Ct.__originalTranslate,Ct.transform=Ct.__originalTransform,Ct.setTransform=Ct.__originalSetTransform,Ct.resetTransform=Ct.__originalResetTransform,Ct.clip=Ct.__originalClip,Ct.moveTo=Ct.__originalMoveTo,Ct.lineTo=Ct.__originalLineTo,Ct.bezierCurveTo=Ct.__originalBezierCurveTo,Ct.rect=Ct.__originalRect,Ct.closePath=Ct.__originalClosePath,Ct.beginPath=Ct.__originalBeginPath,delete Ct._removeMirroring},Ct.save=function(){ht.save(),this.__originalSave()},Ct.restore=function(){ht.restore(),this.__originalRestore()},Ct.translate=function(wt,Rt){ht.translate(wt,Rt),this.__originalTranslate(wt,Rt)},Ct.scale=function(wt,Rt){ht.scale(wt,Rt),this.__originalScale(wt,Rt)},Ct.transform=function(wt,Rt,Mt,Nt,Pt,kt){ht.transform(wt,Rt,Mt,Nt,Pt,kt),this.__originalTransform(wt,Rt,Mt,Nt,Pt,kt)},Ct.setTransform=function(wt,Rt,Mt,Nt,Pt,kt){ht.setTransform(wt,Rt,Mt,Nt,Pt,kt),this.__originalSetTransform(wt,Rt,Mt,Nt,Pt,kt)},Ct.resetTransform=function(){ht.resetTransform(),this.__originalResetTransform()},Ct.rotate=function(wt){ht.rotate(wt),this.__originalRotate(wt)},Ct.clip=function(wt){ht.clip(wt),this.__originalClip(wt)},Ct.moveTo=function(gt,wt){ht.moveTo(gt,wt),this.__originalMoveTo(gt,wt)},Ct.lineTo=function(gt,wt){ht.lineTo(gt,wt),this.__originalLineTo(gt,wt)},Ct.bezierCurveTo=function(gt,wt,Rt,Mt,Nt,Pt){ht.bezierCurveTo(gt,wt,Rt,Mt,Nt,Pt),this.__originalBezierCurveTo(gt,wt,Rt,Mt,Nt,Pt)},Ct.rect=function(gt,wt,Rt,Mt){ht.rect(gt,wt,Rt,Mt),this.__originalRect(gt,wt,Rt,Mt)},Ct.closePath=function(){ht.closePath(),this.__originalClosePath()},Ct.beginPath=function(){ht.beginPath(),this.__originalBeginPath()}}class dt{constructor(ht){this.canvasFactory=ht,this.cache=Object.create(null)}getCanvas(ht,gt,wt){let Rt;return this.cache[ht]!==void 0?(Rt=this.cache[ht],this.canvasFactory.reset(Rt,gt,wt)):(Rt=this.canvasFactory.create(gt,wt),this.cache[ht]=Rt),Rt}delete(ht){delete this.cache[ht]}clear(){for(const ht in this.cache){const gt=this.cache[ht];this.canvasFactory.destroy(gt),delete this.cache[ht]}}}function tt(Ct,ht,gt,wt,Rt,Mt,Nt,Pt,kt,Tt){const[et,ct,mt,Et,St,Lt]=(0,a.getCurrentTransform)(Ct);if(ct===0&&mt===0){const qt=Nt*et+St,Yt=Math.round(qt),sn=Pt*Et+Lt,tn=Math.round(sn),rn=(Nt+kt)*et+St,ln=Math.abs(Math.round(rn)-Yt)||1,pn=(Pt+Tt)*Et+Lt,yn=Math.abs(Math.round(pn)-tn)||1;return Ct.setTransform(Math.sign(et),0,0,Math.sign(Et),Yt,tn),Ct.drawImage(ht,gt,wt,Rt,Mt,0,0,ln,yn),Ct.setTransform(et,ct,mt,Et,St,Lt),[ln,yn]}if(et===0&&Et===0){const qt=Pt*mt+St,Yt=Math.round(qt),sn=Nt*ct+Lt,tn=Math.round(sn),rn=(Pt+Tt)*mt+St,ln=Math.abs(Math.round(rn)-Yt)||1,pn=(Nt+kt)*ct+Lt,yn=Math.abs(Math.round(pn)-tn)||1;return Ct.setTransform(0,Math.sign(ct),Math.sign(mt),0,Yt,tn),Ct.drawImage(ht,gt,wt,Rt,Mt,0,0,yn,ln),Ct.setTransform(et,ct,mt,Et,St,Lt),[yn,ln]}Ct.drawImage(ht,gt,wt,Rt,Mt,Nt,Pt,kt,Tt);const Gt=Math.hypot(et,ct),Vt=Math.hypot(mt,Et);return[Gt*kt,Vt*Tt]}function st(Ct){const{width:ht,height:gt}=Ct;if(ht>ut||gt>ut)return null;const wt=1e3,Rt=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Mt=ht+1;let Nt=new Uint8Array(Mt*(gt+1)),Pt,kt,Tt;const et=ht+7&-8;let ct=new Uint8Array(et*gt),mt=0;for(const Vt of Ct.data){let qt=128;for(;qt>0;)ct[mt++]=Vt&qt?0:255,qt>>=1}let Et=0;for(mt=0,ct[mt]!==0&&(Nt[0]=1,++Et),kt=1;kt<ht;kt++)ct[mt]!==ct[mt+1]&&(Nt[kt]=ct[mt]?2:1,++Et),mt++;for(ct[mt]!==0&&(Nt[kt]=2,++Et),Pt=1;Pt<gt;Pt++){mt=Pt*et,Tt=Pt*Mt,ct[mt-et]!==ct[mt]&&(Nt[Tt]=ct[mt]?1:8,++Et);let Vt=(ct[mt]?4:0)+(ct[mt-et]?8:0);for(kt=1;kt<ht;kt++)Vt=(Vt>>2)+(ct[mt+1]?4:0)+(ct[mt-et+1]?8:0),Rt[Vt]&&(Nt[Tt+kt]=Rt[Vt],++Et),mt++;if(ct[mt-et]!==ct[mt]&&(Nt[Tt+kt]=ct[mt]?2:4,++Et),Et>wt)return null}for(mt=et*(gt-1),Tt=Pt*Mt,ct[mt]!==0&&(Nt[Tt]=8,++Et),kt=1;kt<ht;kt++)ct[mt]!==ct[mt+1]&&(Nt[Tt+kt]=ct[mt]?4:8,++Et),mt++;if(ct[mt]!==0&&(Nt[Tt+kt]=4,++Et),Et>wt)return null;const St=new Int32Array([0,Mt,-1,0,-Mt,0,0,0,1]),Lt=new Path2D;for(Pt=0;Et&&Pt<=gt;Pt++){let Vt=Pt*Mt;const qt=Vt+ht;for(;Vt<qt&&!Nt[Vt];)Vt++;if(Vt===qt)continue;Lt.moveTo(Vt%Mt,Pt);const Yt=Vt;let sn=Nt[Vt];do{const tn=St[sn];do Vt+=tn;while(!Nt[Vt]);const rn=Nt[Vt];rn!==5&&rn!==10?(sn=rn,Nt[Vt]=0):(sn=rn&51*sn>>4,Nt[Vt]&=sn>>2|sn<<2),Lt.lineTo(Vt%Mt,Vt/Mt|0),Nt[Vt]||--Et}while(Yt!==Vt);--Pt}return ct=null,Nt=null,function(Vt){Vt.save(),Vt.scale(1/ht,-1/gt),Vt.translate(0,-gt),Vt.fill(Lt),Vt.beginPath(),Vt.restore()}}class nt{constructor(ht,gt){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=o.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=o.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,ht,gt])}clone(){const ht=Object.create(this);return ht.clipBox=this.clipBox.slice(),ht}setCurrentPoint(ht,gt){this.x=ht,this.y=gt}updatePathMinMax(ht,gt,wt){[gt,wt]=o.Util.applyTransform([gt,wt],ht),this.minX=Math.min(this.minX,gt),this.minY=Math.min(this.minY,wt),this.maxX=Math.max(this.maxX,gt),this.maxY=Math.max(this.maxY,wt)}updateRectMinMax(ht,gt){const wt=o.Util.applyTransform(gt,ht),Rt=o.Util.applyTransform(gt.slice(2),ht);this.minX=Math.min(this.minX,wt[0],Rt[0]),this.minY=Math.min(this.minY,wt[1],Rt[1]),this.maxX=Math.max(this.maxX,wt[0],Rt[0]),this.maxY=Math.max(this.maxY,wt[1],Rt[1])}updateScalingPathMinMax(ht,gt){o.Util.scaleMinMax(ht,gt),this.minX=Math.min(this.minX,gt[0]),this.maxX=Math.max(this.maxX,gt[1]),this.minY=Math.min(this.minY,gt[2]),this.maxY=Math.max(this.maxY,gt[3])}updateCurvePathMinMax(ht,gt,wt,Rt,Mt,Nt,Pt,kt,Tt,et){const ct=o.Util.bezierBoundingBox(gt,wt,Rt,Mt,Nt,Pt,kt,Tt);if(et){et[0]=Math.min(et[0],ct[0],ct[2]),et[1]=Math.max(et[1],ct[0],ct[2]),et[2]=Math.min(et[2],ct[1],ct[3]),et[3]=Math.max(et[3],ct[1],ct[3]);return}this.updateRectMinMax(ht,ct)}getPathBoundingBox(ht=c.PathType.FILL,gt=null){const wt=[this.minX,this.minY,this.maxX,this.maxY];if(ht===c.PathType.STROKE){gt||(0,o.unreachable)("Stroke bounding box must include transform.");const Rt=o.Util.singularValueDecompose2dScale(gt),Mt=Rt[0]*this.lineWidth/2,Nt=Rt[1]*this.lineWidth/2;wt[0]-=Mt,wt[1]-=Nt,wt[2]+=Mt,wt[3]+=Nt}return wt}updateClipFromPath(){const ht=o.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(ht||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(ht){this.clipBox=ht,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(ht=c.PathType.FILL,gt=null){return o.Util.intersect(this.clipBox,this.getPathBoundingBox(ht,gt))}}function $(Ct,ht){if(typeof ImageData<"u"&&ht instanceof ImageData){Ct.putImageData(ht,0,0);return}const gt=ht.height,wt=ht.width,Rt=gt%rt,Mt=(gt-Rt)/rt,Nt=Rt===0?Mt:Mt+1,Pt=Ct.createImageData(wt,rt);let kt=0,Tt;const et=ht.data,ct=Pt.data;let mt,Et,St,Lt;if(ht.kind===o.ImageKind.GRAYSCALE_1BPP){const Gt=et.byteLength,Vt=new Uint32Array(ct.buffer,0,ct.byteLength>>2),qt=Vt.length,Yt=wt+7>>3,sn=4294967295,tn=o.FeatureTest.isLittleEndian?4278190080:255;for(mt=0;mt<Nt;mt++){for(St=mt<Mt?rt:Rt,Tt=0,Et=0;Et<St;Et++){const rn=Gt-kt;let ln=0;const pn=rn>Yt?wt:rn*8-7,yn=pn&-8;let _n=0,Ut=0;for(;ln<yn;ln+=8)Ut=et[kt++],Vt[Tt++]=Ut&128?sn:tn,Vt[Tt++]=Ut&64?sn:tn,Vt[Tt++]=Ut&32?sn:tn,Vt[Tt++]=Ut&16?sn:tn,Vt[Tt++]=Ut&8?sn:tn,Vt[Tt++]=Ut&4?sn:tn,Vt[Tt++]=Ut&2?sn:tn,Vt[Tt++]=Ut&1?sn:tn;for(;ln<pn;ln++)_n===0&&(Ut=et[kt++],_n=128),Vt[Tt++]=Ut&_n?sn:tn,_n>>=1}for(;Tt<qt;)Vt[Tt++]=0;Ct.putImageData(Pt,0,mt*rt)}}else if(ht.kind===o.ImageKind.RGBA_32BPP){for(Et=0,Lt=wt*rt*4,mt=0;mt<Mt;mt++)ct.set(et.subarray(kt,kt+Lt)),kt+=Lt,Ct.putImageData(Pt,0,Et),Et+=rt;mt<Nt&&(Lt=wt*Rt*4,ct.set(et.subarray(kt,kt+Lt)),Ct.putImageData(Pt,0,Et))}else if(ht.kind===o.ImageKind.RGB_24BPP)for(St=rt,Lt=wt*St,mt=0;mt<Nt;mt++){for(mt>=Mt&&(St=Rt,Lt=wt*St),Tt=0,Et=Lt;Et--;)ct[Tt++]=et[kt++],ct[Tt++]=et[kt++],ct[Tt++]=et[kt++],ct[Tt++]=255;Ct.putImageData(Pt,0,mt*rt)}else throw new Error(`bad image kind: ${ht.kind}`)}function _t(Ct,ht){if(ht.bitmap){Ct.drawImage(ht.bitmap,0,0);return}const gt=ht.height,wt=ht.width,Rt=gt%rt,Mt=(gt-Rt)/rt,Nt=Rt===0?Mt:Mt+1,Pt=Ct.createImageData(wt,rt);let kt=0;const Tt=ht.data,et=Pt.data;for(let ct=0;ct<Nt;ct++){const mt=ct<Mt?rt:Rt;({srcPos:kt}=(0,d.convertBlackAndWhiteToRGBA)({src:Tt,srcPos:kt,dest:et,width:wt,height:mt,nonBlackColor:0})),Ct.putImageData(Pt,0,ct*rt)}}function At(Ct,ht){const gt=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const wt of gt)Ct[wt]!==void 0&&(ht[wt]=Ct[wt]);Ct.setLineDash!==void 0&&(ht.setLineDash(Ct.getLineDash()),ht.lineDashOffset=Ct.lineDashOffset)}function ft(Ct){Ct.strokeStyle=Ct.fillStyle="#000000",Ct.fillRule="nonzero",Ct.globalAlpha=1,Ct.lineWidth=1,Ct.lineCap="butt",Ct.lineJoin="miter",Ct.miterLimit=10,Ct.globalCompositeOperation="source-over",Ct.font="10px sans-serif",Ct.setLineDash!==void 0&&(Ct.setLineDash([]),Ct.lineDashOffset=0),h.isNodeJS||(Ct.filter="none")}function j(Ct,ht,gt,wt){const Rt=Ct.length;for(let Mt=3;Mt<Rt;Mt+=4){const Nt=Ct[Mt];if(Nt===0)Ct[Mt-3]=ht,Ct[Mt-2]=gt,Ct[Mt-1]=wt;else if(Nt<255){const Pt=255-Nt;Ct[Mt-3]=Ct[Mt-3]*Nt+ht*Pt>>8,Ct[Mt-2]=Ct[Mt-2]*Nt+gt*Pt>>8,Ct[Mt-1]=Ct[Mt-1]*Nt+wt*Pt>>8}}}function at(Ct,ht,gt){const wt=Ct.length,Rt=1/255;for(let Mt=3;Mt<wt;Mt+=4){const Nt=gt?gt[Ct[Mt]]:Ct[Mt];ht[Mt]=ht[Mt]*Nt*Rt|0}}function yt(Ct,ht,gt){const wt=Ct.length;for(let Rt=3;Rt<wt;Rt+=4){const Mt=Ct[Rt-3]*77+Ct[Rt-2]*152+Ct[Rt-1]*28;ht[Rt]=gt?ht[Rt]*gt[Mt>>8]>>8:ht[Rt]*Mt>>16}}function lt(Ct,ht,gt,wt,Rt,Mt,Nt,Pt,kt,Tt,et){const ct=!!Mt,mt=ct?Mt[0]:0,Et=ct?Mt[1]:0,St=ct?Mt[2]:0;let Lt;Rt==="Luminosity"?Lt=yt:Lt=at;const Vt=Math.min(wt,Math.ceil(1048576/gt));for(let qt=0;qt<wt;qt+=Vt){const Yt=Math.min(Vt,wt-qt),sn=Ct.getImageData(Pt-Tt,qt+(kt-et),gt,Yt),tn=ht.getImageData(Pt,qt+kt,gt,Yt);ct&&j(sn.data,mt,Et,St),Lt(sn.data,tn.data,Nt),ht.putImageData(tn,Pt,qt+kt)}}function vt(Ct,ht,gt,wt){const Rt=wt[0],Mt=wt[1],Nt=wt[2]-Rt,Pt=wt[3]-Mt;Nt===0||Pt===0||(lt(ht.context,gt,Nt,Pt,ht.subtype,ht.backdrop,ht.transferMap,Rt,Mt,ht.offsetX,ht.offsetY),Ct.save(),Ct.globalAlpha=1,Ct.globalCompositeOperation="source-over",Ct.setTransform(1,0,0,1,0,0),Ct.drawImage(gt.canvas,0,0),Ct.restore())}function xt(Ct,ht){const gt=o.Util.singularValueDecompose2dScale(Ct);gt[0]=Math.fround(gt[0]),gt[1]=Math.fround(gt[1]);const wt=Math.fround((globalThis.devicePixelRatio||1)*a.PixelsPerInch.PDF_TO_CSS_UNITS);return ht!==void 0?ht:gt[0]<=wt||gt[1]<=wt}const bt=["butt","round","square"],It=["miter","round","bevel"],Kt={},Zt={},un=class{constructor(ht,gt,wt,Rt,Mt,{optionalContentConfig:Nt,markedContentStack:Pt=null},kt,Tt){Wt(this,$t);Wt(this,Jt);this.ctx=ht,this.current=new nt(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=gt,this.objs=wt,this.canvasFactory=Rt,this.filterFactory=Mt,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Pt||[],this.optionalContentConfig=Nt,this.cachedCanvases=new dt(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=kt,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Tt,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(ht,gt=null){return typeof ht=="string"?ht.startsWith("g_")?this.commonObjs.get(ht):this.objs.get(ht):gt}beginDrawing({transform:ht,viewport:gt,transparency:wt=!1,background:Rt=null}){const Mt=this.ctx.canvas.width,Nt=this.ctx.canvas.height,Pt=this.ctx.fillStyle;if(this.ctx.fillStyle=Rt||"#ffffff",this.ctx.fillRect(0,0,Mt,Nt),this.ctx.fillStyle=Pt,wt){const kt=this.cachedCanvases.getCanvas("transparent",Mt,Nt);this.compositeCtx=this.ctx,this.transparentCanvas=kt.canvas,this.ctx=kt.context,this.ctx.save(),this.ctx.transform(...(0,a.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),ft(this.ctx),ht&&(this.ctx.transform(...ht),this.outputScaleX=ht[0],this.outputScaleY=ht[0]),this.ctx.transform(...gt.transform),this.viewportScale=gt.scale,this.baseTransform=(0,a.getCurrentTransform)(this.ctx)}executeOperatorList(ht,gt,wt,Rt){const Mt=ht.argsArray,Nt=ht.fnArray;let Pt=gt||0;const kt=Mt.length;if(kt===Pt)return Pt;const Tt=kt-Pt>ot&&typeof wt=="function",et=Tt?Date.now()+_e:0;let ct=0;const mt=this.commonObjs,Et=this.objs;let St;for(;;){if(Rt!==void 0&&Pt===Rt.nextBreakPoint)return Rt.breakIt(Pt,wt),Pt;if(St=Nt[Pt],St!==o.OPS.dependency)this[St].apply(this,Mt[Pt]);else for(const Lt of Mt[Pt]){const Gt=Lt.startsWith("g_")?mt:Et;if(!Gt.has(Lt))return Gt.get(Lt,wt),Pt}if(Pt++,Pt===kt)return Pt;if(Tt&&++ct>ot){if(Date.now()>et)return wt(),Pt;ct=0}}}endDrawing(){Xt(this,$t,fr).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const ht of this._cachedBitmapsMap.values()){for(const gt of ht.values())typeof HTMLCanvasElement<"u"&&gt instanceof HTMLCanvasElement&&(gt.width=gt.height=0);ht.clear()}this._cachedBitmapsMap.clear(),Xt(this,Jt,pr).call(this)}_scaleImage(ht,gt){const wt=ht.width,Rt=ht.height;let Mt=Math.max(Math.hypot(gt[0],gt[1]),1),Nt=Math.max(Math.hypot(gt[2],gt[3]),1),Pt=wt,kt=Rt,Tt="prescale1",et,ct;for(;Mt>2&&Pt>1||Nt>2&&kt>1;){let mt=Pt,Et=kt;Mt>2&&Pt>1&&(mt=Pt>=16384?Math.floor(Pt/2)-1||1:Math.ceil(Pt/2),Mt/=Pt/mt),Nt>2&&kt>1&&(Et=kt>=16384?Math.floor(kt/2)-1||1:Math.ceil(kt)/2,Nt/=kt/Et),et=this.cachedCanvases.getCanvas(Tt,mt,Et),ct=et.context,ct.clearRect(0,0,mt,Et),ct.drawImage(ht,0,0,Pt,kt,0,0,mt,Et),ht=et.canvas,Pt=mt,kt=Et,Tt=Tt==="prescale1"?"prescale2":"prescale1"}return{img:ht,paintWidth:Pt,paintHeight:kt}}_createMaskCanvas(ht){const gt=this.ctx,{width:wt,height:Rt}=ht,Mt=this.current.fillColor,Nt=this.current.patternFill,Pt=(0,a.getCurrentTransform)(gt);let kt,Tt,et,ct;if((ht.bitmap||ht.data)&&ht.count>1){const ln=ht.bitmap||ht.data.buffer;Tt=JSON.stringify(Nt?Pt:[Pt.slice(0,4),Mt]),kt=this._cachedBitmapsMap.get(ln),kt||(kt=new Map,this._cachedBitmapsMap.set(ln,kt));const pn=kt.get(Tt);if(pn&&!Nt){const yn=Math.round(Math.min(Pt[0],Pt[2])+Pt[4]),_n=Math.round(Math.min(Pt[1],Pt[3])+Pt[5]);return{canvas:pn,offsetX:yn,offsetY:_n}}et=pn}et||(ct=this.cachedCanvases.getCanvas("maskCanvas",wt,Rt),_t(ct.context,ht));let mt=o.Util.transform(Pt,[1/wt,0,0,-1/Rt,0,0]);mt=o.Util.transform(mt,[1,0,0,1,0,-Rt]);const Et=o.Util.applyTransform([0,0],mt),St=o.Util.applyTransform([wt,Rt],mt),Lt=o.Util.normalizeRect([Et[0],Et[1],St[0],St[1]]),Gt=Math.round(Lt[2]-Lt[0])||1,Vt=Math.round(Lt[3]-Lt[1])||1,qt=this.cachedCanvases.getCanvas("fillCanvas",Gt,Vt),Yt=qt.context,sn=Math.min(Et[0],St[0]),tn=Math.min(Et[1],St[1]);Yt.translate(-sn,-tn),Yt.transform(...mt),et||(et=this._scaleImage(ct.canvas,(0,a.getCurrentTransformInverse)(Yt)),et=et.img,kt&&Nt&&kt.set(Tt,et)),Yt.imageSmoothingEnabled=xt((0,a.getCurrentTransform)(Yt),ht.interpolate),tt(Yt,et,0,0,et.width,et.height,0,0,wt,Rt),Yt.globalCompositeOperation="source-in";const rn=o.Util.transform((0,a.getCurrentTransformInverse)(Yt),[1,0,0,1,-sn,-tn]);return Yt.fillStyle=Nt?Mt.getPattern(gt,this,rn,c.PathType.FILL):Mt,Yt.fillRect(0,0,wt,Rt),kt&&!Nt&&(this.cachedCanvases.delete("fillCanvas"),kt.set(Tt,qt.canvas)),{canvas:qt.canvas,offsetX:Math.round(sn),offsetY:Math.round(tn)}}setLineWidth(ht){ht!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=ht,this.ctx.lineWidth=ht}setLineCap(ht){this.ctx.lineCap=bt[ht]}setLineJoin(ht){this.ctx.lineJoin=It[ht]}setMiterLimit(ht){this.ctx.miterLimit=ht}setDash(ht,gt){const wt=this.ctx;wt.setLineDash!==void 0&&(wt.setLineDash(ht),wt.lineDashOffset=gt)}setRenderingIntent(ht){}setFlatness(ht){}setGState(ht){for(const[gt,wt]of ht)switch(gt){case"LW":this.setLineWidth(wt);break;case"LC":this.setLineCap(wt);break;case"LJ":this.setLineJoin(wt);break;case"ML":this.setMiterLimit(wt);break;case"D":this.setDash(wt[0],wt[1]);break;case"RI":this.setRenderingIntent(wt);break;case"FL":this.setFlatness(wt);break;case"Font":this.setFont(wt[0],wt[1]);break;case"CA":this.current.strokeAlpha=wt;break;case"ca":this.current.fillAlpha=wt,this.ctx.globalAlpha=wt;break;case"BM":this.ctx.globalCompositeOperation=wt;break;case"SMask":this.current.activeSMask=wt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(wt);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const ht=this.inSMaskMode;this.current.activeSMask&&!ht?this.beginSMaskMode():!this.current.activeSMask&&ht&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const ht=this.ctx.canvas.width,gt=this.ctx.canvas.height,wt="smaskGroupAt"+this.groupLevel,Rt=this.cachedCanvases.getCanvas(wt,ht,gt);this.suspendedCtx=this.ctx,this.ctx=Rt.context;const Mt=this.ctx;Mt.setTransform(...(0,a.getCurrentTransform)(this.suspendedCtx)),At(this.suspendedCtx,Mt),it(Mt,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),At(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(ht){if(!this.current.activeSMask)return;ht?(ht[0]=Math.floor(ht[0]),ht[1]=Math.floor(ht[1]),ht[2]=Math.ceil(ht[2]),ht[3]=Math.ceil(ht[3])):ht=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const gt=this.current.activeSMask,wt=this.suspendedCtx;vt(wt,gt,this.ctx,ht),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(At(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const ht=this.current;this.stateStack.push(ht),this.current=ht.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),At(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(ht,gt,wt,Rt,Mt,Nt){this.ctx.transform(ht,gt,wt,Rt,Mt,Nt),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(ht,gt,wt){const Rt=this.ctx,Mt=this.current;let Nt=Mt.x,Pt=Mt.y,kt,Tt;const et=(0,a.getCurrentTransform)(Rt),ct=et[0]===0&&et[3]===0||et[1]===0&&et[2]===0,mt=ct?wt.slice(0):null;for(let Et=0,St=0,Lt=ht.length;Et<Lt;Et++)switch(ht[Et]|0){case o.OPS.rectangle:Nt=gt[St++],Pt=gt[St++];const Gt=gt[St++],Vt=gt[St++],qt=Nt+Gt,Yt=Pt+Vt;Rt.moveTo(Nt,Pt),Gt===0||Vt===0?Rt.lineTo(qt,Yt):(Rt.lineTo(qt,Pt),Rt.lineTo(qt,Yt),Rt.lineTo(Nt,Yt)),ct||Mt.updateRectMinMax(et,[Nt,Pt,qt,Yt]),Rt.closePath();break;case o.OPS.moveTo:Nt=gt[St++],Pt=gt[St++],Rt.moveTo(Nt,Pt),ct||Mt.updatePathMinMax(et,Nt,Pt);break;case o.OPS.lineTo:Nt=gt[St++],Pt=gt[St++],Rt.lineTo(Nt,Pt),ct||Mt.updatePathMinMax(et,Nt,Pt);break;case o.OPS.curveTo:kt=Nt,Tt=Pt,Nt=gt[St+4],Pt=gt[St+5],Rt.bezierCurveTo(gt[St],gt[St+1],gt[St+2],gt[St+3],Nt,Pt),Mt.updateCurvePathMinMax(et,kt,Tt,gt[St],gt[St+1],gt[St+2],gt[St+3],Nt,Pt,mt),St+=6;break;case o.OPS.curveTo2:kt=Nt,Tt=Pt,Rt.bezierCurveTo(Nt,Pt,gt[St],gt[St+1],gt[St+2],gt[St+3]),Mt.updateCurvePathMinMax(et,kt,Tt,Nt,Pt,gt[St],gt[St+1],gt[St+2],gt[St+3],mt),Nt=gt[St+2],Pt=gt[St+3],St+=4;break;case o.OPS.curveTo3:kt=Nt,Tt=Pt,Nt=gt[St+2],Pt=gt[St+3],Rt.bezierCurveTo(gt[St],gt[St+1],Nt,Pt,Nt,Pt),Mt.updateCurvePathMinMax(et,kt,Tt,gt[St],gt[St+1],Nt,Pt,Nt,Pt,mt),St+=4;break;case o.OPS.closePath:Rt.closePath();break}ct&&Mt.updateScalingPathMinMax(et,mt),Mt.setCurrentPoint(Nt,Pt)}closePath(){this.ctx.closePath()}stroke(ht=!0){const gt=this.ctx,wt=this.current.strokeColor;gt.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof wt=="object"&&(wt!=null&&wt.getPattern)?(gt.save(),gt.strokeStyle=wt.getPattern(gt,this,(0,a.getCurrentTransformInverse)(gt),c.PathType.STROKE),this.rescaleAndStroke(!1),gt.restore()):this.rescaleAndStroke(!0)),ht&&this.consumePath(this.current.getClippedPathBoundingBox()),gt.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(ht=!0){const gt=this.ctx,wt=this.current.fillColor,Rt=this.current.patternFill;let Mt=!1;Rt&&(gt.save(),gt.fillStyle=wt.getPattern(gt,this,(0,a.getCurrentTransformInverse)(gt),c.PathType.FILL),Mt=!0);const Nt=this.current.getClippedPathBoundingBox();this.contentVisible&&Nt!==null&&(this.pendingEOFill?(gt.fill("evenodd"),this.pendingEOFill=!1):gt.fill()),Mt&&gt.restore(),ht&&this.consumePath(Nt)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Kt}eoClip(){this.pendingClip=Zt}beginText(){this.current.textMatrix=o.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const ht=this.pendingTextPaths,gt=this.ctx;if(ht===void 0){gt.beginPath();return}gt.save(),gt.beginPath();for(const wt of ht)gt.setTransform(...wt.transform),gt.translate(wt.x,wt.y),wt.addToPath(gt,wt.fontSize);gt.restore(),gt.clip(),gt.beginPath(),delete this.pendingTextPaths}setCharSpacing(ht){this.current.charSpacing=ht}setWordSpacing(ht){this.current.wordSpacing=ht}setHScale(ht){this.current.textHScale=ht/100}setLeading(ht){this.current.leading=-ht}setFont(ht,gt){var et;const wt=this.commonObjs.get(ht),Rt=this.current;if(!wt)throw new Error(`Can't find font for ${ht}`);if(Rt.fontMatrix=wt.fontMatrix||o.FONT_IDENTITY_MATRIX,(Rt.fontMatrix[0]===0||Rt.fontMatrix[3]===0)&&(0,o.warn)("Invalid font matrix for font "+ht),gt<0?(gt=-gt,Rt.fontDirection=-1):Rt.fontDirection=1,this.current.font=wt,this.current.fontSize=gt,wt.isType3Font)return;const Mt=wt.loadedName||"sans-serif",Nt=((et=wt.systemFontInfo)==null?void 0:et.css)||`"${Mt}", ${wt.fallbackName}`;let Pt="normal";wt.black?Pt="900":wt.bold&&(Pt="bold");const kt=wt.italic?"italic":"normal";let Tt=gt;gt<g?Tt=g:gt>b&&(Tt=b),this.current.fontSizeScale=gt/Tt,this.ctx.font=`${kt} ${Pt} ${Tt}px ${Nt}`}setTextRenderingMode(ht){this.current.textRenderingMode=ht}setTextRise(ht){this.current.textRise=ht}moveText(ht,gt){this.current.x=this.current.lineX+=ht,this.current.y=this.current.lineY+=gt}setLeadingMoveText(ht,gt){this.setLeading(-gt),this.moveText(ht,gt)}setTextMatrix(ht,gt,wt,Rt,Mt,Nt){this.current.textMatrix=[ht,gt,wt,Rt,Mt,Nt],this.current.textMatrixScale=Math.hypot(ht,gt),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(ht,gt,wt,Rt){const Mt=this.ctx,Nt=this.current,Pt=Nt.font,kt=Nt.textRenderingMode,Tt=Nt.fontSize/Nt.fontSizeScale,et=kt&o.TextRenderingMode.FILL_STROKE_MASK,ct=!!(kt&o.TextRenderingMode.ADD_TO_PATH_FLAG),mt=Nt.patternFill&&!Pt.missingFile;let Et;(Pt.disableFontFace||ct||mt)&&(Et=Pt.getPathGenerator(this.commonObjs,ht)),Pt.disableFontFace||mt?(Mt.save(),Mt.translate(gt,wt),Mt.beginPath(),Et(Mt,Tt),Rt&&Mt.setTransform(...Rt),(et===o.TextRenderingMode.FILL||et===o.TextRenderingMode.FILL_STROKE)&&Mt.fill(),(et===o.TextRenderingMode.STROKE||et===o.TextRenderingMode.FILL_STROKE)&&Mt.stroke(),Mt.restore()):((et===o.TextRenderingMode.FILL||et===o.TextRenderingMode.FILL_STROKE)&&Mt.fillText(ht,gt,wt),(et===o.TextRenderingMode.STROKE||et===o.TextRenderingMode.FILL_STROKE)&&Mt.strokeText(ht,gt,wt)),ct&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,a.getCurrentTransform)(Mt),x:gt,y:wt,fontSize:Tt,addToPath:Et})}get isFontSubpixelAAEnabled(){const{context:ht}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);ht.scale(1.5,1),ht.fillText("I",0,10);const gt=ht.getImageData(0,0,10,10).data;let wt=!1;for(let Rt=3;Rt<gt.length;Rt+=4)if(gt[Rt]>0&&gt[Rt]<255){wt=!0;break}return(0,o.shadow)(this,"isFontSubpixelAAEnabled",wt)}showText(ht){const gt=this.current,wt=gt.font;if(wt.isType3Font)return this.showType3Text(ht);const Rt=gt.fontSize;if(Rt===0)return;const Mt=this.ctx,Nt=gt.fontSizeScale,Pt=gt.charSpacing,kt=gt.wordSpacing,Tt=gt.fontDirection,et=gt.textHScale*Tt,ct=ht.length,mt=wt.vertical,Et=mt?1:-1,St=wt.defaultVMetrics,Lt=Rt*gt.fontMatrix[0],Gt=gt.textRenderingMode===o.TextRenderingMode.FILL&&!wt.disableFontFace&&!gt.patternFill;Mt.save(),Mt.transform(...gt.textMatrix),Mt.translate(gt.x,gt.y+gt.textRise),Tt>0?Mt.scale(et,-1):Mt.scale(et,1);let Vt;if(gt.patternFill){Mt.save();const rn=gt.fillColor.getPattern(Mt,this,(0,a.getCurrentTransformInverse)(Mt),c.PathType.FILL);Vt=(0,a.getCurrentTransform)(Mt),Mt.restore(),Mt.fillStyle=rn}let qt=gt.lineWidth;const Yt=gt.textMatrixScale;if(Yt===0||qt===0){const rn=gt.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;(rn===o.TextRenderingMode.STROKE||rn===o.TextRenderingMode.FILL_STROKE)&&(qt=this.getSinglePixelWidth())}else qt/=Yt;if(Nt!==1&&(Mt.scale(Nt,Nt),qt/=Nt),Mt.lineWidth=qt,wt.isInvalidPDFjsFont){const rn=[];let ln=0;for(const pn of ht)rn.push(pn.unicode),ln+=pn.width;Mt.fillText(rn.join(""),0,0),gt.x+=ln*Lt*et,Mt.restore(),this.compose();return}let sn=0,tn;for(tn=0;tn<ct;++tn){const rn=ht[tn];if(typeof rn=="number"){sn+=Et*rn*Rt/1e3;continue}let ln=!1;const pn=(rn.isSpace?kt:0)+Pt,yn=rn.fontChar,_n=rn.accent;let Ut,cn,zt=rn.width;if(mt){const Ft=rn.vmetric||St,Ot=-(rn.vmetric?Ft[1]:zt*.5)*Lt,Dt=Ft[2]*Lt;zt=Ft?-Ft[0]:zt,Ut=Ot/Nt,cn=(sn+Dt)/Nt}else Ut=sn/Nt,cn=0;if(wt.remeasure&&zt>0){const Ft=Mt.measureText(yn).width*1e3/Rt*Nt;if(zt<Ft&&this.isFontSubpixelAAEnabled){const Ot=zt/Ft;ln=!0,Mt.save(),Mt.scale(Ot,1),Ut/=Ot}else zt!==Ft&&(Ut+=(zt-Ft)/2e3*Rt/Nt)}if(this.contentVisible&&(rn.isInFont||wt.missingFile)){if(Gt&&!_n)Mt.fillText(yn,Ut,cn);else if(this.paintChar(yn,Ut,cn,Vt),_n){const Ft=Ut+Rt*_n.offset.x/Nt,Ot=cn-Rt*_n.offset.y/Nt;this.paintChar(_n.fontChar,Ft,Ot,Vt)}}let Ht;mt?Ht=zt*Lt-pn*Tt:Ht=zt*Lt+pn*Tt,sn+=Ht,ln&&Mt.restore()}mt?gt.y-=sn:gt.x+=sn*et,Mt.restore(),this.compose()}showType3Text(ht){const gt=this.ctx,wt=this.current,Rt=wt.font,Mt=wt.fontSize,Nt=wt.fontDirection,Pt=Rt.vertical?1:-1,kt=wt.charSpacing,Tt=wt.wordSpacing,et=wt.textHScale*Nt,ct=wt.fontMatrix||o.FONT_IDENTITY_MATRIX,mt=ht.length,Et=wt.textRenderingMode===o.TextRenderingMode.INVISIBLE;let St,Lt,Gt,Vt;if(!(Et||Mt===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,gt.save(),gt.transform(...wt.textMatrix),gt.translate(wt.x,wt.y),gt.scale(et,Nt),St=0;St<mt;++St){if(Lt=ht[St],typeof Lt=="number"){Vt=Pt*Lt*Mt/1e3,this.ctx.translate(Vt,0),wt.x+=Vt*et;continue}const qt=(Lt.isSpace?Tt:0)+kt,Yt=Rt.charProcOperatorList[Lt.operatorListId];if(!Yt){(0,o.warn)(`Type3 character "${Lt.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Lt,this.save(),gt.scale(Mt,Mt),gt.transform(...ct),this.executeOperatorList(Yt),this.restore()),Gt=o.Util.applyTransform([Lt.width,0],ct)[0]*Mt+qt,gt.translate(Gt,0),wt.x+=Gt*et}gt.restore(),this.processingType3=null}}setCharWidth(ht,gt){}setCharWidthAndBounds(ht,gt,wt,Rt,Mt,Nt){this.ctx.rect(wt,Rt,Mt-wt,Nt-Rt),this.ctx.clip(),this.endPath()}getColorN_Pattern(ht){let gt;if(ht[0]==="TilingPattern"){const wt=ht[1],Rt=this.baseTransform||(0,a.getCurrentTransform)(this.ctx),Mt={createCanvasGraphics:Nt=>new un(Nt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};gt=new c.TilingPattern(ht,wt,this.ctx,Mt,Rt)}else gt=this._getPattern(ht[1],ht[2]);return gt}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(ht,gt,wt){const Rt=o.Util.makeHexColor(ht,gt,wt);this.ctx.strokeStyle=Rt,this.current.strokeColor=Rt}setFillRGBColor(ht,gt,wt){const Rt=o.Util.makeHexColor(ht,gt,wt);this.ctx.fillStyle=Rt,this.current.fillColor=Rt,this.current.patternFill=!1}_getPattern(ht,gt=null){let wt;return this.cachedPatterns.has(ht)?wt=this.cachedPatterns.get(ht):(wt=(0,c.getShadingPattern)(this.getObject(ht)),this.cachedPatterns.set(ht,wt)),gt&&(wt.matrix=gt),wt}shadingFill(ht){if(!this.contentVisible)return;const gt=this.ctx;this.save();const wt=this._getPattern(ht);gt.fillStyle=wt.getPattern(gt,this,(0,a.getCurrentTransformInverse)(gt),c.PathType.SHADING);const Rt=(0,a.getCurrentTransformInverse)(gt);if(Rt){const Mt=gt.canvas,Nt=Mt.width,Pt=Mt.height,kt=o.Util.applyTransform([0,0],Rt),Tt=o.Util.applyTransform([0,Pt],Rt),et=o.Util.applyTransform([Nt,0],Rt),ct=o.Util.applyTransform([Nt,Pt],Rt),mt=Math.min(kt[0],Tt[0],et[0],ct[0]),Et=Math.min(kt[1],Tt[1],et[1],ct[1]),St=Math.max(kt[0],Tt[0],et[0],ct[0]),Lt=Math.max(kt[1],Tt[1],et[1],ct[1]);this.ctx.fillRect(mt,Et,St-mt,Lt-Et)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,o.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,o.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(ht,gt){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(ht)&&ht.length===6&&this.transform(...ht),this.baseTransform=(0,a.getCurrentTransform)(this.ctx),gt)){const wt=gt[2]-gt[0],Rt=gt[3]-gt[1];this.ctx.rect(gt[0],gt[1],wt,Rt),this.current.updateRectMinMax((0,a.getCurrentTransform)(this.ctx),gt),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(ht){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const gt=this.ctx;ht.isolated||(0,o.info)("TODO: Support non-isolated groups."),ht.knockout&&(0,o.warn)("Knockout groups not supported.");const wt=(0,a.getCurrentTransform)(gt);if(ht.matrix&&gt.transform(...ht.matrix),!ht.bbox)throw new Error("Bounding box is required.");let Rt=o.Util.getAxialAlignedBoundingBox(ht.bbox,(0,a.getCurrentTransform)(gt));const Mt=[0,0,gt.canvas.width,gt.canvas.height];Rt=o.Util.intersect(Rt,Mt)||[0,0,0,0];const Nt=Math.floor(Rt[0]),Pt=Math.floor(Rt[1]);let kt=Math.max(Math.ceil(Rt[2])-Nt,1),Tt=Math.max(Math.ceil(Rt[3])-Pt,1),et=1,ct=1;kt>_&&(et=kt/_,kt=_),Tt>_&&(ct=Tt/_,Tt=_),this.current.startNewPathAndClipBox([0,0,kt,Tt]);let mt="groupAt"+this.groupLevel;ht.smask&&(mt+="_smask_"+this.smaskCounter++%2);const Et=this.cachedCanvases.getCanvas(mt,kt,Tt),St=Et.context;St.scale(1/et,1/ct),St.translate(-Nt,-Pt),St.transform(...wt),ht.smask?this.smaskStack.push({canvas:Et.canvas,context:St,offsetX:Nt,offsetY:Pt,scaleX:et,scaleY:ct,subtype:ht.smask.subtype,backdrop:ht.smask.backdrop,transferMap:ht.smask.transferMap||null,startTransformInverse:null}):(gt.setTransform(1,0,0,1,0,0),gt.translate(Nt,Pt),gt.scale(et,ct),gt.save()),At(gt,St),this.ctx=St,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(gt),this.groupLevel++}endGroup(ht){if(!this.contentVisible)return;this.groupLevel--;const gt=this.ctx,wt=this.groupStack.pop();if(this.ctx=wt,this.ctx.imageSmoothingEnabled=!1,ht.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Rt=(0,a.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Rt);const Mt=o.Util.getAxialAlignedBoundingBox([0,0,gt.canvas.width,gt.canvas.height],Rt);this.ctx.drawImage(gt.canvas,0,0),this.ctx.restore(),this.compose(Mt)}}beginAnnotation(ht,gt,wt,Rt,Mt){if(Xt(this,$t,fr).call(this),ft(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(gt)&&gt.length===4){const Nt=gt[2]-gt[0],Pt=gt[3]-gt[1];if(Mt&&this.annotationCanvasMap){wt=wt.slice(),wt[4]-=gt[0],wt[5]-=gt[1],gt=gt.slice(),gt[0]=gt[1]=0,gt[2]=Nt,gt[3]=Pt;const[kt,Tt]=o.Util.singularValueDecompose2dScale((0,a.getCurrentTransform)(this.ctx)),{viewportScale:et}=this,ct=Math.ceil(Nt*this.outputScaleX*et),mt=Math.ceil(Pt*this.outputScaleY*et);this.annotationCanvas=this.canvasFactory.create(ct,mt);const{canvas:Et,context:St}=this.annotationCanvas;this.annotationCanvasMap.set(ht,Et),this.annotationCanvas.savedCtx=this.ctx,this.ctx=St,this.ctx.save(),this.ctx.setTransform(kt,0,0,-Tt,0,Pt*Tt),ft(this.ctx)}else ft(this.ctx),this.ctx.rect(gt[0],gt[1],Nt,Pt),this.ctx.clip(),this.endPath()}this.current=new nt(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...wt),this.transform(...Rt)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Xt(this,Jt,pr).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(ht){if(!this.contentVisible)return;const gt=ht.count;ht=this.getObject(ht.data,ht),ht.count=gt;const wt=this.ctx,Rt=this.processingType3;if(Rt&&(Rt.compiled===void 0&&(Rt.compiled=st(ht)),Rt.compiled)){Rt.compiled(wt);return}const Mt=this._createMaskCanvas(ht),Nt=Mt.canvas;wt.save(),wt.setTransform(1,0,0,1,0,0),wt.drawImage(Nt,Mt.offsetX,Mt.offsetY),wt.restore(),this.compose()}paintImageMaskXObjectRepeat(ht,gt,wt=0,Rt=0,Mt,Nt){if(!this.contentVisible)return;ht=this.getObject(ht.data,ht);const Pt=this.ctx;Pt.save();const kt=(0,a.getCurrentTransform)(Pt);Pt.transform(gt,wt,Rt,Mt,0,0);const Tt=this._createMaskCanvas(ht);Pt.setTransform(1,0,0,1,Tt.offsetX-kt[4],Tt.offsetY-kt[5]);for(let et=0,ct=Nt.length;et<ct;et+=2){const mt=o.Util.transform(kt,[gt,wt,Rt,Mt,Nt[et],Nt[et+1]]),[Et,St]=o.Util.applyTransform([0,0],mt);Pt.drawImage(Tt.canvas,Et,St)}Pt.restore(),this.compose()}paintImageMaskXObjectGroup(ht){if(!this.contentVisible)return;const gt=this.ctx,wt=this.current.fillColor,Rt=this.current.patternFill;for(const Mt of ht){const{data:Nt,width:Pt,height:kt,transform:Tt}=Mt,et=this.cachedCanvases.getCanvas("maskCanvas",Pt,kt),ct=et.context;ct.save();const mt=this.getObject(Nt,Mt);_t(ct,mt),ct.globalCompositeOperation="source-in",ct.fillStyle=Rt?wt.getPattern(ct,this,(0,a.getCurrentTransformInverse)(gt),c.PathType.FILL):wt,ct.fillRect(0,0,Pt,kt),ct.restore(),gt.save(),gt.transform(...Tt),gt.scale(1,-1),tt(gt,et.canvas,0,0,Pt,kt,0,-1,1,1),gt.restore()}this.compose()}paintImageXObject(ht){if(!this.contentVisible)return;const gt=this.getObject(ht);if(!gt){(0,o.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(gt)}paintImageXObjectRepeat(ht,gt,wt,Rt){if(!this.contentVisible)return;const Mt=this.getObject(ht);if(!Mt){(0,o.warn)("Dependent image isn't ready yet");return}const Nt=Mt.width,Pt=Mt.height,kt=[];for(let Tt=0,et=Rt.length;Tt<et;Tt+=2)kt.push({transform:[gt,0,0,wt,Rt[Tt],Rt[Tt+1]],x:0,y:0,w:Nt,h:Pt});this.paintInlineImageXObjectGroup(Mt,kt)}applyTransferMapsToCanvas(ht){return this.current.transferMaps!=="none"&&(ht.filter=this.current.transferMaps,ht.drawImage(ht.canvas,0,0),ht.filter="none"),ht.canvas}applyTransferMapsToBitmap(ht){if(this.current.transferMaps==="none")return ht.bitmap;const{bitmap:gt,width:wt,height:Rt}=ht,Mt=this.cachedCanvases.getCanvas("inlineImage",wt,Rt),Nt=Mt.context;return Nt.filter=this.current.transferMaps,Nt.drawImage(gt,0,0),Nt.filter="none",Mt.canvas}paintInlineImageXObject(ht){if(!this.contentVisible)return;const gt=ht.width,wt=ht.height,Rt=this.ctx;this.save(),h.isNodeJS||(Rt.filter="none"),Rt.scale(1/gt,-1/wt);let Mt;if(ht.bitmap)Mt=this.applyTransferMapsToBitmap(ht);else if(typeof HTMLElement=="function"&&ht instanceof HTMLElement||!ht.data)Mt=ht;else{const kt=this.cachedCanvases.getCanvas("inlineImage",gt,wt).context;$(kt,ht),Mt=this.applyTransferMapsToCanvas(kt)}const Nt=this._scaleImage(Mt,(0,a.getCurrentTransformInverse)(Rt));Rt.imageSmoothingEnabled=xt((0,a.getCurrentTransform)(Rt),ht.interpolate),tt(Rt,Nt.img,0,0,Nt.paintWidth,Nt.paintHeight,0,-wt,gt,wt),this.compose(),this.restore()}paintInlineImageXObjectGroup(ht,gt){if(!this.contentVisible)return;const wt=this.ctx;let Rt;if(ht.bitmap)Rt=ht.bitmap;else{const Mt=ht.width,Nt=ht.height,kt=this.cachedCanvases.getCanvas("inlineImage",Mt,Nt).context;$(kt,ht),Rt=this.applyTransferMapsToCanvas(kt)}for(const Mt of gt)wt.save(),wt.transform(...Mt.transform),wt.scale(1,-1),tt(wt,Rt,Mt.x,Mt.y,Mt.w,Mt.h,0,-1,1,1),wt.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(ht){}markPointProps(ht,gt){}beginMarkedContent(ht){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(ht,gt){ht==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(gt)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(ht){const gt=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(ht);const wt=this.ctx;this.pendingClip&&(gt||(this.pendingClip===Zt?wt.clip("evenodd"):wt.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),wt.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const ht=(0,a.getCurrentTransform)(this.ctx);if(ht[1]===0&&ht[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(ht[0]),Math.abs(ht[3]));else{const gt=Math.abs(ht[0]*ht[3]-ht[2]*ht[1]),wt=Math.hypot(ht[0],ht[2]),Rt=Math.hypot(ht[1],ht[3]);this._cachedGetSinglePixelWidth=Math.max(wt,Rt)/gt}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:ht}=this.current,{a:gt,b:wt,c:Rt,d:Mt}=this.ctx.getTransform();let Nt,Pt;if(wt===0&&Rt===0){const kt=Math.abs(gt),Tt=Math.abs(Mt);if(kt===Tt)if(ht===0)Nt=Pt=1/kt;else{const et=kt*ht;Nt=Pt=et<1?1/et:1}else if(ht===0)Nt=1/kt,Pt=1/Tt;else{const et=kt*ht,ct=Tt*ht;Nt=et<1?1/et:1,Pt=ct<1?1/ct:1}}else{const kt=Math.abs(gt*Mt-wt*Rt),Tt=Math.hypot(gt,wt),et=Math.hypot(Rt,Mt);if(ht===0)Nt=et/kt,Pt=Tt/kt;else{const ct=ht*kt;Nt=et>ct?et/ct:1,Pt=Tt>ct?Tt/ct:1}}this._cachedScaleForStroking[0]=Nt,this._cachedScaleForStroking[1]=Pt}return this._cachedScaleForStroking}rescaleAndStroke(ht){const{ctx:gt}=this,{lineWidth:wt}=this.current,[Rt,Mt]=this.getScaleForStroking();if(gt.lineWidth=wt||1,Rt===1&&Mt===1){gt.stroke();return}const Nt=gt.getLineDash();if(ht&&gt.save(),gt.scale(Rt,Mt),Nt.length>0){const Pt=Math.max(Rt,Mt);gt.setLineDash(Nt.map(kt=>kt/Pt)),gt.lineDashOffset/=Pt}gt.stroke(),ht&&gt.restore()}isContentVisible(){for(let ht=this.markedContentStack.length-1;ht>=0;ht--)if(!this.markedContentStack[ht].visible)return!1;return!0}};let jt=un;$t=new WeakSet,fr=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Jt=new WeakSet,pr=function(){if(this.pageColors){const ht=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(ht!=="none"){const gt=this.ctx.filter;this.ctx.filter=ht,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=gt}}},i.CanvasGraphics=jt;for(const Ct in o.OPS)jt.prototype[Ct]!==void 0&&(jt.prototype[o.OPS[Ct]]=jt.prototype[Ct])},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TilingPattern=i.PathType=void 0,i.getShadingPattern=ut;var o=s(1),a=s(6);const c={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};i.PathType=c;function d(tt,st){if(!st)return;const nt=st[2]-st[0],$=st[3]-st[1],_t=new Path2D;_t.rect(st[0],st[1],nt,$),tt.clip(_t)}class h{constructor(){this.constructor===h&&(0,o.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,o.unreachable)("Abstract method `getPattern` called.")}}class g extends h{constructor(st){super(),this._type=st[1],this._bbox=st[2],this._colorStops=st[3],this._p0=st[4],this._p1=st[5],this._r0=st[6],this._r1=st[7],this.matrix=null}_createGradient(st){let nt;this._type==="axial"?nt=st.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(nt=st.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const $ of this._colorStops)nt.addColorStop($[0],$[1]);return nt}getPattern(st,nt,$,_t){let At;if(_t===c.STROKE||_t===c.FILL){const ft=nt.current.getClippedPathBoundingBox(_t,(0,a.getCurrentTransform)(st))||[0,0,0,0],j=Math.ceil(ft[2]-ft[0])||1,at=Math.ceil(ft[3]-ft[1])||1,yt=nt.cachedCanvases.getCanvas("pattern",j,at,!0),lt=yt.context;lt.clearRect(0,0,lt.canvas.width,lt.canvas.height),lt.beginPath(),lt.rect(0,0,lt.canvas.width,lt.canvas.height),lt.translate(-ft[0],-ft[1]),$=o.Util.transform($,[1,0,0,1,ft[0],ft[1]]),lt.transform(...nt.baseTransform),this.matrix&&lt.transform(...this.matrix),d(lt,this._bbox),lt.fillStyle=this._createGradient(lt),lt.fill(),At=st.createPattern(yt.canvas,"no-repeat");const vt=new DOMMatrix($);At.setTransform(vt)}else d(st,this._bbox),At=this._createGradient(st);return At}}function b(tt,st,nt,$,_t,At,ft,j){const at=st.coords,yt=st.colors,lt=tt.data,vt=tt.width*4;let xt;at[nt+1]>at[$+1]&&(xt=nt,nt=$,$=xt,xt=At,At=ft,ft=xt),at[$+1]>at[_t+1]&&(xt=$,$=_t,_t=xt,xt=ft,ft=j,j=xt),at[nt+1]>at[$+1]&&(xt=nt,nt=$,$=xt,xt=At,At=ft,ft=xt);const bt=(at[nt]+st.offsetX)*st.scaleX,It=(at[nt+1]+st.offsetY)*st.scaleY,Kt=(at[$]+st.offsetX)*st.scaleX,Zt=(at[$+1]+st.offsetY)*st.scaleY,jt=(at[_t]+st.offsetX)*st.scaleX,$t=(at[_t+1]+st.offsetY)*st.scaleY;if(It>=$t)return;const Qt=yt[At],Jt=yt[At+1],on=yt[At+2],un=yt[ft],Ct=yt[ft+1],ht=yt[ft+2],gt=yt[j],wt=yt[j+1],Rt=yt[j+2],Mt=Math.round(It),Nt=Math.round($t);let Pt,kt,Tt,et,ct,mt,Et,St;for(let Lt=Mt;Lt<=Nt;Lt++){if(Lt<Zt){let sn;Lt<It?sn=0:sn=(It-Lt)/(It-Zt),Pt=bt-(bt-Kt)*sn,kt=Qt-(Qt-un)*sn,Tt=Jt-(Jt-Ct)*sn,et=on-(on-ht)*sn}else{let sn;Lt>$t?sn=1:Zt===$t?sn=0:sn=(Zt-Lt)/(Zt-$t),Pt=Kt-(Kt-jt)*sn,kt=un-(un-gt)*sn,Tt=Ct-(Ct-wt)*sn,et=ht-(ht-Rt)*sn}let Gt;Lt<It?Gt=0:Lt>$t?Gt=1:Gt=(It-Lt)/(It-$t),ct=bt-(bt-jt)*Gt,mt=Qt-(Qt-gt)*Gt,Et=Jt-(Jt-wt)*Gt,St=on-(on-Rt)*Gt;const Vt=Math.round(Math.min(Pt,ct)),qt=Math.round(Math.max(Pt,ct));let Yt=vt*Lt+Vt*4;for(let sn=Vt;sn<=qt;sn++)Gt=(Pt-sn)/(Pt-ct),Gt<0?Gt=0:Gt>1&&(Gt=1),lt[Yt++]=kt-(kt-mt)*Gt|0,lt[Yt++]=Tt-(Tt-Et)*Gt|0,lt[Yt++]=et-(et-St)*Gt|0,lt[Yt++]=255}}function _(tt,st,nt){const $=st.coords,_t=st.colors;let At,ft;switch(st.type){case"lattice":const j=st.verticesPerRow,at=Math.floor($.length/j)-1,yt=j-1;for(At=0;At<at;At++){let lt=At*j;for(let vt=0;vt<yt;vt++,lt++)b(tt,nt,$[lt],$[lt+1],$[lt+j],_t[lt],_t[lt+1],_t[lt+j]),b(tt,nt,$[lt+j+1],$[lt+1],$[lt+j],_t[lt+j+1],_t[lt+1],_t[lt+j])}break;case"triangles":for(At=0,ft=$.length;At<ft;At+=3)b(tt,nt,$[At],$[At+1],$[At+2],_t[At],_t[At+1],_t[At+2]);break;default:throw new Error("illegal figure")}}class _e extends h{constructor(st){super(),this._coords=st[2],this._colors=st[3],this._figures=st[4],this._bounds=st[5],this._bbox=st[7],this._background=st[8],this.matrix=null}_createMeshCanvas(st,nt,$){const j=Math.floor(this._bounds[0]),at=Math.floor(this._bounds[1]),yt=Math.ceil(this._bounds[2])-j,lt=Math.ceil(this._bounds[3])-at,vt=Math.min(Math.ceil(Math.abs(yt*st[0]*1.1)),3e3),xt=Math.min(Math.ceil(Math.abs(lt*st[1]*1.1)),3e3),bt=yt/vt,It=lt/xt,Kt={coords:this._coords,colors:this._colors,offsetX:-j,offsetY:-at,scaleX:1/bt,scaleY:1/It},Zt=vt+2*2,jt=xt+2*2,$t=$.getCanvas("mesh",Zt,jt,!1),Qt=$t.context,Jt=Qt.createImageData(vt,xt);if(nt){const un=Jt.data;for(let Ct=0,ht=un.length;Ct<ht;Ct+=4)un[Ct]=nt[0],un[Ct+1]=nt[1],un[Ct+2]=nt[2],un[Ct+3]=255}for(const un of this._figures)_(Jt,un,Kt);return Qt.putImageData(Jt,2,2),{canvas:$t.canvas,offsetX:j-2*bt,offsetY:at-2*It,scaleX:bt,scaleY:It}}getPattern(st,nt,$,_t){d(st,this._bbox);let At;if(_t===c.SHADING)At=o.Util.singularValueDecompose2dScale((0,a.getCurrentTransform)(st));else if(At=o.Util.singularValueDecompose2dScale(nt.baseTransform),this.matrix){const j=o.Util.singularValueDecompose2dScale(this.matrix);At=[At[0]*j[0],At[1]*j[1]]}const ft=this._createMeshCanvas(At,_t===c.SHADING?null:this._background,nt.cachedCanvases);return _t!==c.SHADING&&(st.setTransform(...nt.baseTransform),this.matrix&&st.transform(...this.matrix)),st.translate(ft.offsetX,ft.offsetY),st.scale(ft.scaleX,ft.scaleY),st.createPattern(ft.canvas,"no-repeat")}}class ot extends h{getPattern(){return"hotpink"}}function ut(tt){switch(tt[0]){case"RadialAxial":return new g(tt);case"Mesh":return new _e(tt);case"Dummy":return new ot}throw new Error(`Unknown IR type: ${tt[0]}`)}const rt={COLORED:1,UNCOLORED:2},dt=class{constructor(st,nt,$,_t,At){this.operatorList=st[2],this.matrix=st[3]||[1,0,0,1,0,0],this.bbox=st[4],this.xstep=st[5],this.ystep=st[6],this.paintType=st[7],this.tilingType=st[8],this.color=nt,this.ctx=$,this.canvasGraphicsFactory=_t,this.baseTransform=At}createPatternCanvas(st){const nt=this.operatorList,$=this.bbox,_t=this.xstep,At=this.ystep,ft=this.paintType,j=this.tilingType,at=this.color,yt=this.canvasGraphicsFactory;(0,o.info)("TilingType: "+j);const lt=$[0],vt=$[1],xt=$[2],bt=$[3],It=o.Util.singularValueDecompose2dScale(this.matrix),Kt=o.Util.singularValueDecompose2dScale(this.baseTransform),Zt=[It[0]*Kt[0],It[1]*Kt[1]],jt=this.getSizeAndScale(_t,this.ctx.canvas.width,Zt[0]),$t=this.getSizeAndScale(At,this.ctx.canvas.height,Zt[1]),Qt=st.cachedCanvases.getCanvas("pattern",jt.size,$t.size,!0),Jt=Qt.context,on=yt.createCanvasGraphics(Jt);on.groupLevel=st.groupLevel,this.setFillAndStrokeStyleToContext(on,ft,at);let un=lt,Ct=vt,ht=xt,gt=bt;return lt<0&&(un=0,ht+=Math.abs(lt)),vt<0&&(Ct=0,gt+=Math.abs(vt)),Jt.translate(-(jt.scale*un),-($t.scale*Ct)),on.transform(jt.scale,0,0,$t.scale,0,0),Jt.save(),this.clipBbox(on,un,Ct,ht,gt),on.baseTransform=(0,a.getCurrentTransform)(on.ctx),on.executeOperatorList(nt),on.endDrawing(),{canvas:Qt.canvas,scaleX:jt.scale,scaleY:$t.scale,offsetX:un,offsetY:Ct}}getSizeAndScale(st,nt,$){st=Math.abs(st);const _t=Math.max(dt.MAX_PATTERN_SIZE,nt);let At=Math.ceil(st*$);return At>=_t?At=_t:$=At/st,{scale:$,size:At}}clipBbox(st,nt,$,_t,At){const ft=_t-nt,j=At-$;st.ctx.rect(nt,$,ft,j),st.current.updateRectMinMax((0,a.getCurrentTransform)(st.ctx),[nt,$,_t,At]),st.clip(),st.endPath()}setFillAndStrokeStyleToContext(st,nt,$){const _t=st.ctx,At=st.current;switch(nt){case rt.COLORED:const ft=this.ctx;_t.fillStyle=ft.fillStyle,_t.strokeStyle=ft.strokeStyle,At.fillColor=ft.fillStyle,At.strokeColor=ft.strokeStyle;break;case rt.UNCOLORED:const j=o.Util.makeHexColor($[0],$[1],$[2]);_t.fillStyle=j,_t.strokeStyle=j,At.fillColor=j,At.strokeColor=j;break;default:throw new o.FormatError(`Unsupported paint type: ${nt}`)}}getPattern(st,nt,$,_t){let At=$;_t!==c.SHADING&&(At=o.Util.transform(At,nt.baseTransform),this.matrix&&(At=o.Util.transform(At,this.matrix)));const ft=this.createPatternCanvas(nt);let j=new DOMMatrix(At);j=j.translate(ft.offsetX,ft.offsetY),j=j.scale(1/ft.scaleX,1/ft.scaleY);const at=st.createPattern(ft.canvas,"repeat");return at.setTransform(j),at}};let it=dt;Mn(it,"MAX_PATTERN_SIZE",3e3),i.TilingPattern=it},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.convertBlackAndWhiteToRGBA=c,i.convertToRGBA=a,i.grayToRGBA=h;var o=s(1);function a(g){switch(g.kind){case o.ImageKind.GRAYSCALE_1BPP:return c(g);case o.ImageKind.RGB_24BPP:return d(g)}return null}function c({src:g,srcPos:b=0,dest:_,width:_e,height:ot,nonBlackColor:ut=4294967295,inverseDecode:rt=!1}){const it=o.FeatureTest.isLittleEndian?4278190080:255,[dt,tt]=rt?[ut,it]:[it,ut],st=_e>>3,nt=_e&7,$=g.length;_=new Uint32Array(_.buffer);let _t=0;for(let At=0;At<ot;At++){for(const j=b+st;b<j;b++){const at=b<$?g[b]:255;_[_t++]=at&128?tt:dt,_[_t++]=at&64?tt:dt,_[_t++]=at&32?tt:dt,_[_t++]=at&16?tt:dt,_[_t++]=at&8?tt:dt,_[_t++]=at&4?tt:dt,_[_t++]=at&2?tt:dt,_[_t++]=at&1?tt:dt}if(nt===0)continue;const ft=b<$?g[b++]:255;for(let j=0;j<nt;j++)_[_t++]=ft&1<<7-j?tt:dt}return{srcPos:b,destPos:_t}}function d({src:g,srcPos:b=0,dest:_,destPos:_e=0,width:ot,height:ut}){let rt=0;const it=g.length>>2,dt=new Uint32Array(g.buffer,b,it);if(o.FeatureTest.isLittleEndian){for(;rt<it-2;rt+=3,_e+=4){const tt=dt[rt],st=dt[rt+1],nt=dt[rt+2];_[_e]=tt|4278190080,_[_e+1]=tt>>>24|st<<8|4278190080,_[_e+2]=st>>>16|nt<<16|4278190080,_[_e+3]=nt>>>8|4278190080}for(let tt=rt*4,st=g.length;tt<st;tt+=3)_[_e++]=g[tt]|g[tt+1]<<8|g[tt+2]<<16|4278190080}else{for(;rt<it-2;rt+=3,_e+=4){const tt=dt[rt],st=dt[rt+1],nt=dt[rt+2];_[_e]=tt|255,_[_e+1]=tt<<24|st>>>8|255,_[_e+2]=st<<16|nt>>>16|255,_[_e+3]=nt<<8|255}for(let tt=rt*4,st=g.length;tt<st;tt+=3)_[_e++]=g[tt]<<24|g[tt+1]<<16|g[tt+2]<<8|255}return{srcPos:b,destPos:_e}}function h(g,b){if(o.FeatureTest.isLittleEndian)for(let _=0,_e=g.length;_<_e;_++)b[_]=g[_]*65793|4278190080;else for(let _=0,_e=g.length;_<_e;_++)b[_]=g[_]*16843008|255}},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.GlobalWorkerOptions=void 0;const s=Object.create(null);i.GlobalWorkerOptions=s,s.workerPort=null,s.workerSrc=""},(e,i,s)=>{var g,Nr,_,jr,ot,nr;Object.defineProperty(i,"__esModule",{value:!0}),i.MessageHandler=void 0;var o=s(1);const a={UNKNOWN:0,DATA:1,ERROR:2},c={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function d(rt){switch(rt instanceof Error||typeof rt=="object"&&rt!==null||(0,o.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),rt.name){case"AbortException":return new o.AbortException(rt.message);case"MissingPDFException":return new o.MissingPDFException(rt.message);case"PasswordException":return new o.PasswordException(rt.message,rt.code);case"UnexpectedResponseException":return new o.UnexpectedResponseException(rt.message,rt.status);case"UnknownErrorException":return new o.UnknownErrorException(rt.message,rt.details);default:return new o.UnknownErrorException(rt.message,rt.toString())}}class h{constructor(it,dt,tt){Wt(this,g);Wt(this,_);Wt(this,ot);this.sourceName=it,this.targetName=dt,this.comObj=tt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=st=>{const nt=st.data;if(nt.targetName!==this.sourceName)return;if(nt.stream){Xt(this,_,jr).call(this,nt);return}if(nt.callback){const _t=nt.callbackId,At=this.callbackCapabilities[_t];if(!At)throw new Error(`Cannot resolve callback ${_t}`);if(delete this.callbackCapabilities[_t],nt.callback===a.DATA)At.resolve(nt.data);else if(nt.callback===a.ERROR)At.reject(d(nt.reason));else throw new Error("Unexpected callback case");return}const $=this.actionHandler[nt.action];if(!$)throw new Error(`Unknown action from worker: ${nt.action}`);if(nt.callbackId){const _t=this.sourceName,At=nt.sourceName;new Promise(function(ft){ft($(nt.data))}).then(function(ft){tt.postMessage({sourceName:_t,targetName:At,callback:a.DATA,callbackId:nt.callbackId,data:ft})},function(ft){tt.postMessage({sourceName:_t,targetName:At,callback:a.ERROR,callbackId:nt.callbackId,reason:d(ft)})});return}if(nt.streamId){Xt(this,g,Nr).call(this,nt);return}$(nt.data)},tt.addEventListener("message",this._onComObjOnMessage)}on(it,dt){const tt=this.actionHandler;if(tt[it])throw new Error(`There is already an actionName called "${it}"`);tt[it]=dt}send(it,dt,tt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:it,data:dt},tt)}sendWithPromise(it,dt,tt){const st=this.callbackId++,nt=new o.PromiseCapability;this.callbackCapabilities[st]=nt;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:it,callbackId:st,data:dt},tt)}catch($){nt.reject($)}return nt.promise}sendWithStream(it,dt,tt,st){const nt=this.streamId++,$=this.sourceName,_t=this.targetName,At=this.comObj;return new ReadableStream({start:ft=>{const j=new o.PromiseCapability;return this.streamControllers[nt]={controller:ft,startCall:j,pullCall:null,cancelCall:null,isClosed:!1},At.postMessage({sourceName:$,targetName:_t,action:it,streamId:nt,data:dt,desiredSize:ft.desiredSize},st),j.promise},pull:ft=>{const j=new o.PromiseCapability;return this.streamControllers[nt].pullCall=j,At.postMessage({sourceName:$,targetName:_t,stream:c.PULL,streamId:nt,desiredSize:ft.desiredSize}),j.promise},cancel:ft=>{(0,o.assert)(ft instanceof Error,"cancel must have a valid reason");const j=new o.PromiseCapability;return this.streamControllers[nt].cancelCall=j,this.streamControllers[nt].isClosed=!0,At.postMessage({sourceName:$,targetName:_t,stream:c.CANCEL,streamId:nt,reason:d(ft)}),j.promise}},tt)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}g=new WeakSet,Nr=function(it){const dt=it.streamId,tt=this.sourceName,st=it.sourceName,nt=this.comObj,$=this,_t=this.actionHandler[it.action],At={enqueue(ft,j=1,at){if(this.isCancelled)return;const yt=this.desiredSize;this.desiredSize-=j,yt>0&&this.desiredSize<=0&&(this.sinkCapability=new o.PromiseCapability,this.ready=this.sinkCapability.promise),nt.postMessage({sourceName:tt,targetName:st,stream:c.ENQUEUE,streamId:dt,chunk:ft},at)},close(){this.isCancelled||(this.isCancelled=!0,nt.postMessage({sourceName:tt,targetName:st,stream:c.CLOSE,streamId:dt}),delete $.streamSinks[dt])},error(ft){(0,o.assert)(ft instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,nt.postMessage({sourceName:tt,targetName:st,stream:c.ERROR,streamId:dt,reason:d(ft)}))},sinkCapability:new o.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:it.desiredSize,ready:null};At.sinkCapability.resolve(),At.ready=At.sinkCapability.promise,this.streamSinks[dt]=At,new Promise(function(ft){ft(_t(it.data,At))}).then(function(){nt.postMessage({sourceName:tt,targetName:st,stream:c.START_COMPLETE,streamId:dt,success:!0})},function(ft){nt.postMessage({sourceName:tt,targetName:st,stream:c.START_COMPLETE,streamId:dt,reason:d(ft)})})},_=new WeakSet,jr=function(it){const dt=it.streamId,tt=this.sourceName,st=it.sourceName,nt=this.comObj,$=this.streamControllers[dt],_t=this.streamSinks[dt];switch(it.stream){case c.START_COMPLETE:it.success?$.startCall.resolve():$.startCall.reject(d(it.reason));break;case c.PULL_COMPLETE:it.success?$.pullCall.resolve():$.pullCall.reject(d(it.reason));break;case c.PULL:if(!_t){nt.postMessage({sourceName:tt,targetName:st,stream:c.PULL_COMPLETE,streamId:dt,success:!0});break}_t.desiredSize<=0&&it.desiredSize>0&&_t.sinkCapability.resolve(),_t.desiredSize=it.desiredSize,new Promise(function(At){var ft;At((ft=_t.onPull)==null?void 0:ft.call(_t))}).then(function(){nt.postMessage({sourceName:tt,targetName:st,stream:c.PULL_COMPLETE,streamId:dt,success:!0})},function(At){nt.postMessage({sourceName:tt,targetName:st,stream:c.PULL_COMPLETE,streamId:dt,reason:d(At)})});break;case c.ENQUEUE:if((0,o.assert)($,"enqueue should have stream controller"),$.isClosed)break;$.controller.enqueue(it.chunk);break;case c.CLOSE:if((0,o.assert)($,"close should have stream controller"),$.isClosed)break;$.isClosed=!0,$.controller.close(),Xt(this,ot,nr).call(this,$,dt);break;case c.ERROR:(0,o.assert)($,"error should have stream controller"),$.controller.error(d(it.reason)),Xt(this,ot,nr).call(this,$,dt);break;case c.CANCEL_COMPLETE:it.success?$.cancelCall.resolve():$.cancelCall.reject(d(it.reason)),Xt(this,ot,nr).call(this,$,dt);break;case c.CANCEL:if(!_t)break;new Promise(function(At){var ft;At((ft=_t.onCancel)==null?void 0:ft.call(_t,d(it.reason)))}).then(function(){nt.postMessage({sourceName:tt,targetName:st,stream:c.CANCEL_COMPLETE,streamId:dt,success:!0})},function(At){nt.postMessage({sourceName:tt,targetName:st,stream:c.CANCEL_COMPLETE,streamId:dt,reason:d(At)})}),_t.sinkCapability.reject(d(it.reason)),_t.isCancelled=!0,delete this.streamSinks[dt];break;default:throw new Error("Unexpected stream case")}},ot=new WeakSet,nr=async function(it,dt){var tt,st,nt;await Promise.allSettled([(tt=it.startCall)==null?void 0:tt.promise,(st=it.pullCall)==null?void 0:st.promise,(nt=it.cancelCall)==null?void 0:nt.promise]),delete this.streamControllers[dt]},i.MessageHandler=h},(e,i,s)=>{var c,d;Object.defineProperty(i,"__esModule",{value:!0}),i.Metadata=void 0;var o=s(1);class a{constructor({parsedData:g,rawData:b}){Wt(this,c,void 0);Wt(this,d,void 0);an(this,c,g),an(this,d,b)}getRaw(){return pt(this,d)}get(g){return pt(this,c).get(g)??null}getAll(){return(0,o.objectFromMap)(pt(this,c))}has(g){return pt(this,c).has(g)}}c=new WeakMap,d=new WeakMap,i.Metadata=a},(e,i,s)=>{var g,b,_,_e,ot,ut,gr;Object.defineProperty(i,"__esModule",{value:!0}),i.OptionalContentConfig=void 0;var o=s(1),a=s(8);const c=Symbol("INTERNAL");class d{constructor(dt,tt){Wt(this,g,!0);this.name=dt,this.intent=tt}get visible(){return pt(this,g)}_setVisible(dt,tt){dt!==c&&(0,o.unreachable)("Internal method `_setVisible` called."),an(this,g,tt)}}g=new WeakMap;class h{constructor(dt){Wt(this,ut);Wt(this,b,null);Wt(this,_,new Map);Wt(this,_e,null);Wt(this,ot,null);if(this.name=null,this.creator=null,dt!==null){this.name=dt.name,this.creator=dt.creator,an(this,ot,dt.order);for(const tt of dt.groups)pt(this,_).set(tt.id,new d(tt.name,tt.intent));if(dt.baseState==="OFF")for(const tt of pt(this,_).values())tt._setVisible(c,!1);for(const tt of dt.on)pt(this,_).get(tt)._setVisible(c,!0);for(const tt of dt.off)pt(this,_).get(tt)._setVisible(c,!1);an(this,_e,this.getHash())}}isVisible(dt){if(pt(this,_).size===0)return!0;if(!dt)return(0,o.warn)("Optional content group not defined."),!0;if(dt.type==="OCG")return pt(this,_).has(dt.id)?pt(this,_).get(dt.id).visible:((0,o.warn)(`Optional content group not found: ${dt.id}`),!0);if(dt.type==="OCMD"){if(dt.expression)return Xt(this,ut,gr).call(this,dt.expression);if(!dt.policy||dt.policy==="AnyOn"){for(const tt of dt.ids){if(!pt(this,_).has(tt))return(0,o.warn)(`Optional content group not found: ${tt}`),!0;if(pt(this,_).get(tt).visible)return!0}return!1}else if(dt.policy==="AllOn"){for(const tt of dt.ids){if(!pt(this,_).has(tt))return(0,o.warn)(`Optional content group not found: ${tt}`),!0;if(!pt(this,_).get(tt).visible)return!1}return!0}else if(dt.policy==="AnyOff"){for(const tt of dt.ids){if(!pt(this,_).has(tt))return(0,o.warn)(`Optional content group not found: ${tt}`),!0;if(!pt(this,_).get(tt).visible)return!0}return!1}else if(dt.policy==="AllOff"){for(const tt of dt.ids){if(!pt(this,_).has(tt))return(0,o.warn)(`Optional content group not found: ${tt}`),!0;if(pt(this,_).get(tt).visible)return!1}return!0}return(0,o.warn)(`Unknown optional content policy ${dt.policy}.`),!0}return(0,o.warn)(`Unknown group type ${dt.type}.`),!0}setVisibility(dt,tt=!0){if(!pt(this,_).has(dt)){(0,o.warn)(`Optional content group not found: ${dt}`);return}pt(this,_).get(dt)._setVisible(c,!!tt),an(this,b,null)}get hasInitialVisibility(){return this.getHash()===pt(this,_e)}getOrder(){return pt(this,_).size?pt(this,ot)?pt(this,ot).slice():[...pt(this,_).keys()]:null}getGroups(){return pt(this,_).size>0?(0,o.objectFromMap)(pt(this,_)):null}getGroup(dt){return pt(this,_).get(dt)||null}getHash(){if(pt(this,b)!==null)return pt(this,b);const dt=new a.MurmurHash3_64;for(const[tt,st]of pt(this,_))dt.update(`${tt}:${st.visible}`);return an(this,b,dt.hexdigest())}}b=new WeakMap,_=new WeakMap,_e=new WeakMap,ot=new WeakMap,ut=new WeakSet,gr=function(dt){const tt=dt.length;if(tt<2)return!0;const st=dt[0];for(let nt=1;nt<tt;nt++){const $=dt[nt];let _t;if(Array.isArray($))_t=Xt(this,ut,gr).call(this,$);else if(pt(this,_).has($))_t=pt(this,_).get($).visible;else return(0,o.warn)(`Optional content group not found: ${$}`),!0;switch(st){case"And":if(!_t)return!1;break;case"Or":if(_t)return!0;break;case"Not":return!_t;default:return!0}}return st==="And"},i.OptionalContentConfig=h},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFDataTransportStream=void 0;var o=s(1),a=s(6);class c{constructor({length:b,initialData:_,progressiveDone:_e=!1,contentDispositionFilename:ot=null,disableRange:ut=!1,disableStream:rt=!1},it){if((0,o.assert)(it,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=_e,this._contentDispositionFilename=ot,(_==null?void 0:_.length)>0){const dt=_ instanceof Uint8Array&&_.byteLength===_.buffer.byteLength?_.buffer:new Uint8Array(_).buffer;this._queuedChunks.push(dt)}this._pdfDataRangeTransport=it,this._isStreamingSupported=!rt,this._isRangeSupported=!ut,this._contentLength=b,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((dt,tt)=>{this._onReceiveData({begin:dt,chunk:tt})}),this._pdfDataRangeTransport.addProgressListener((dt,tt)=>{this._onProgress({loaded:dt,total:tt})}),this._pdfDataRangeTransport.addProgressiveReadListener(dt=>{this._onReceiveData({chunk:dt})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:b,chunk:_}){const _e=_ instanceof Uint8Array&&_.byteLength===_.buffer.byteLength?_.buffer:new Uint8Array(_).buffer;if(b===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(_e):this._queuedChunks.push(_e);else{const ot=this._rangeReaders.some(function(ut){return ut._begin!==b?!1:(ut._enqueue(_e),!0)});(0,o.assert)(ot,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var b;return((b=this._fullRequestReader)==null?void 0:b._loaded)??0}_onProgress(b){var _,_e,ot,ut;b.total===void 0?(_e=(_=this._rangeReaders[0])==null?void 0:_.onProgress)==null||_e.call(_,{loaded:b.loaded}):(ut=(ot=this._fullRequestReader)==null?void 0:ot.onProgress)==null||ut.call(ot,{loaded:b.loaded,total:b.total})}_onProgressiveDone(){var b;(b=this._fullRequestReader)==null||b.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(b){const _=this._rangeReaders.indexOf(b);_>=0&&this._rangeReaders.splice(_,1)}getFullReader(){(0,o.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const b=this._queuedChunks;return this._queuedChunks=null,new d(this,b,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(b,_){if(_<=this._progressiveDataLength)return null;const _e=new h(this,b,_);return this._pdfDataRangeTransport.requestDataRange(b,_),this._rangeReaders.push(_e),_e}cancelAllRequests(b){var _;(_=this._fullRequestReader)==null||_.cancel(b);for(const _e of this._rangeReaders.slice(0))_e.cancel(b);this._pdfDataRangeTransport.abort()}}i.PDFDataTransportStream=c;class d{constructor(b,_,_e=!1,ot=null){this._stream=b,this._done=_e||!1,this._filename=(0,a.isPdfFile)(ot)?ot:null,this._queuedChunks=_||[],this._loaded=0;for(const ut of this._queuedChunks)this._loaded+=ut.byteLength;this._requests=[],this._headersReady=Promise.resolve(),b._fullRequestReader=this,this.onProgress=null}_enqueue(b){this._done||(this._requests.length>0?this._requests.shift().resolve({value:b,done:!1}):this._queuedChunks.push(b),this._loaded+=b.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const b=new o.PromiseCapability;return this._requests.push(b),b.promise}cancel(b){this._done=!0;for(const _ of this._requests)_.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class h{constructor(b,_,_e){this._stream=b,this._begin=_,this._end=_e,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(b){if(!this._done){if(this._requests.length===0)this._queuedChunk=b;else{this._requests.shift().resolve({value:b,done:!1});for(const _e of this._requests)_e.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const _=this._queuedChunk;return this._queuedChunk=null,{value:_,done:!1}}if(this._done)return{value:void 0,done:!0};const b=new o.PromiseCapability;return this._requests.push(b),b.promise}cancel(b){this._done=!0;for(const _ of this._requests)_.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaText=void 0;class s{static textContent(a){const c=[],d={items:c,styles:Object.create(null)};function h(g){var _e;if(!g)return;let b=null;const _=g.name;if(_==="#text")b=g.value;else if(s.shouldBuildText(_))(_e=g==null?void 0:g.attributes)!=null&&_e.textContent?b=g.attributes.textContent:g.value&&(b=g.value);else return;if(b!==null&&c.push({str:b}),!!g.children)for(const ot of g.children)h(ot)}return h(a),d}static shouldBuildText(a){return!(a==="textarea"||a==="input"||a==="option"||a==="select")}}i.XfaText=s},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.NodeStandardFontDataFactory=i.NodeFilterFactory=i.NodeCanvasFactory=i.NodeCMapReaderFactory=void 0;var o=s(7);const a=function(b){return new Promise((_,_e)=>{require$$5.readFile(b,(ut,rt)=>{if(ut||!rt){_e(new Error(ut));return}_(new Uint8Array(rt))})})};class c extends o.BaseFilterFactory{}i.NodeFilterFactory=c;class d extends o.BaseCanvasFactory{_createCanvas(_,_e){return require$$5.createCanvas(_,_e)}}i.NodeCanvasFactory=d;class h extends o.BaseCMapReaderFactory{_fetchData(_,_e){return a(_).then(ot=>({cMapData:ot,compressionType:_e}))}}i.NodeCMapReaderFactory=h;class g extends o.BaseStandardFontDataFactory{_fetchData(_){return a(_)}}i.NodeStandardFontDataFactory=g},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNodeStream=void 0;var o=s(1),a=s(22);const c=require$$5,d=require$$5,h=require$$5,g=require$$5,b=/^file:\/\/\/[a-zA-Z]:\//;function _(nt){const $=g.parse(nt);return $.protocol==="file:"||$.host?$:/^[a-z]:[/\\]/i.test(nt)?g.parse(`file:///${nt}`):($.host||($.protocol="file:"),$)}class _e{constructor($){this.source=$,this.url=_($.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&$.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var $;return(($=this._fullRequestReader)==null?void 0:$._loaded)??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new tt(this):new it(this),this._fullRequestReader}getRangeReader($,_t){if(_t<=this._progressiveDataLength)return null;const At=this.isFsUrl?new st(this,$,_t):new dt(this,$,_t);return this._rangeRequestReaders.push(At),At}cancelAllRequests($){var _t;(_t=this._fullRequestReader)==null||_t.cancel($);for(const At of this._rangeRequestReaders.slice(0))At.cancel($)}}i.PDFNodeStream=_e;class ot{constructor($){this._url=$.url,this._done=!1,this._storedError=null,this.onProgress=null;const _t=$.source;this._contentLength=_t.length,this._loaded=0,this._filename=null,this._disableRange=_t.disableRange||!1,this._rangeChunkSize=_t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!_t.disableStream,this._isRangeSupported=!_t.disableRange,this._readableStream=null,this._readCapability=new o.PromiseCapability,this._headersCapability=new o.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var At;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const $=this._readableStream.read();return $===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=$.length,(At=this.onProgress)==null||At.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array($).buffer,done:!1})}cancel($){if(!this._readableStream){this._error($);return}this._readableStream.destroy($)}_error($){this._storedError=$,this._readCapability.resolve()}_setReadableStream($){this._readableStream=$,$.on("readable",()=>{this._readCapability.resolve()}),$.on("end",()=>{$.destroy(),this._done=!0,this._readCapability.resolve()}),$.on("error",_t=>{this._error(_t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new o.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class ut{constructor($){this._url=$.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new o.PromiseCapability;const _t=$.source;this._isStreamingSupported=!_t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var At;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const $=this._readableStream.read();return $===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=$.length,(At=this.onProgress)==null||At.call(this,{loaded:this._loaded}),{value:new Uint8Array($).buffer,done:!1})}cancel($){if(!this._readableStream){this._error($);return}this._readableStream.destroy($)}_error($){this._storedError=$,this._readCapability.resolve()}_setReadableStream($){this._readableStream=$,$.on("readable",()=>{this._readCapability.resolve()}),$.on("end",()=>{$.destroy(),this._done=!0,this._readCapability.resolve()}),$.on("error",_t=>{this._error(_t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function rt(nt,$){return{protocol:nt.protocol,auth:nt.auth,host:nt.hostname,port:nt.port,path:nt.path,method:"GET",headers:$}}class it extends ot{constructor($){super($);const _t=At=>{if(At.statusCode===404){const yt=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=yt,this._headersCapability.reject(yt);return}this._headersCapability.resolve(),this._setReadableStream(At);const ft=yt=>this._readableStream.headers[yt.toLowerCase()],{allowRangeRequests:j,suggestedLength:at}=(0,a.validateRangeRequestCapabilities)({getResponseHeader:ft,isHttp:$.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=j,this._contentLength=at||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(ft)};this._request=null,this._url.protocol==="http:"?this._request=d.request(rt(this._url,$.httpHeaders),_t):this._request=h.request(rt(this._url,$.httpHeaders),_t),this._request.on("error",At=>{this._storedError=At,this._headersCapability.reject(At)}),this._request.end()}}class dt extends ut{constructor($,_t,At){super($),this._httpHeaders={};for(const j in $.httpHeaders){const at=$.httpHeaders[j];at!==void 0&&(this._httpHeaders[j]=at)}this._httpHeaders.Range=`bytes=${_t}-${At-1}`;const ft=j=>{if(j.statusCode===404){const at=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=at;return}this._setReadableStream(j)};this._request=null,this._url.protocol==="http:"?this._request=d.request(rt(this._url,this._httpHeaders),ft):this._request=h.request(rt(this._url,this._httpHeaders),ft),this._request.on("error",j=>{this._storedError=j}),this._request.end()}}class tt extends ot{constructor($){super($);let _t=decodeURIComponent(this._url.path);b.test(this._url.href)&&(_t=_t.replace(/^\//,"")),c.lstat(_t,(At,ft)=>{if(At){At.code==="ENOENT"&&(At=new o.MissingPDFException(`Missing PDF "${_t}".`)),this._storedError=At,this._headersCapability.reject(At);return}this._contentLength=ft.size,this._setReadableStream(c.createReadStream(_t)),this._headersCapability.resolve()})}}class st extends ut{constructor($,_t,At){super($);let ft=decodeURIComponent(this._url.path);b.test(this._url.href)&&(ft=ft.replace(/^\//,"")),this._setReadableStream(c.createReadStream(ft,{start:_t,end:At-1}))}}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createResponseStatusError=g,i.extractFilenameFromHeader=h,i.validateRangeRequestCapabilities=d,i.validateResponseStatus=b;var o=s(1),a=s(23),c=s(6);function d({getResponseHeader:_,isHttp:_e,rangeChunkSize:ot,disableRange:ut}){const rt={allowRangeRequests:!1,suggestedLength:void 0},it=parseInt(_("Content-Length"),10);return!Number.isInteger(it)||(rt.suggestedLength=it,it<=2*ot)||ut||!_e||_("Accept-Ranges")!=="bytes"||(_("Content-Encoding")||"identity")!=="identity"||(rt.allowRangeRequests=!0),rt}function h(_){const _e=_("Content-Disposition");if(_e){let ot=(0,a.getFilenameFromContentDispositionHeader)(_e);if(ot.includes("%"))try{ot=decodeURIComponent(ot)}catch{}if((0,c.isPdfFile)(ot))return ot}return null}function g(_,_e){return _===404||_===0&&_e.startsWith("file:")?new o.MissingPDFException('Missing PDF "'+_e+'".'):new o.UnexpectedResponseException(`Unexpected server response (${_}) while retrieving PDF "${_e}".`,_)}function b(_){return _===200||_===206}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getFilenameFromContentDispositionHeader=a;var o=s(1);function a(c){let d=!0,h=g("filename\\*","i").exec(c);if(h){h=h[1];let it=ot(h);return it=unescape(it),it=ut(it),it=rt(it),_(it)}if(h=_e(c),h){const it=rt(h);return _(it)}if(h=g("filename","i").exec(c),h){h=h[1];let it=ot(h);return it=rt(it),_(it)}function g(it,dt){return new RegExp("(?:^|;)\\s*"+it+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',dt)}function b(it,dt){if(it){if(!/^[\x00-\xFF]+$/.test(dt))return dt;try{const tt=new TextDecoder(it,{fatal:!0}),st=(0,o.stringToBytes)(dt);dt=tt.decode(st),d=!1}catch{}}return dt}function _(it){return d&&/[\x80-\xff]/.test(it)&&(it=b("utf-8",it),d&&(it=b("iso-8859-1",it))),it}function _e(it){const dt=[];let tt;const st=g("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(tt=st.exec(it))!==null;){let[,$,_t,At]=tt;if($=parseInt($,10),$ in dt){if($===0)break;continue}dt[$]=[_t,At]}const nt=[];for(let $=0;$<dt.length&&$ in dt;++$){let[_t,At]=dt[$];At=ot(At),_t&&(At=unescape(At),$===0&&(At=ut(At))),nt.push(At)}return nt.join("")}function ot(it){if(it.startsWith('"')){const dt=it.slice(1).split('\\"');for(let tt=0;tt<dt.length;++tt){const st=dt[tt].indexOf('"');st!==-1&&(dt[tt]=dt[tt].slice(0,st),dt.length=tt+1),dt[tt]=dt[tt].replaceAll(/\\(.)/g,"$1")}it=dt.join('"')}return it}function ut(it){const dt=it.indexOf("'");if(dt===-1)return it;const tt=it.slice(0,dt),nt=it.slice(dt+1).replace(/^[^']*'/,"");return b(tt,nt)}function rt(it){return!it.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(it)?it:it.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(dt,tt,st,nt){if(st==="q"||st==="Q")return nt=nt.replaceAll("_"," "),nt=nt.replaceAll(/=([0-9a-fA-F]{2})/g,function($,_t){return String.fromCharCode(parseInt(_t,16))}),b(tt,nt);try{nt=atob(nt)}catch{}return b(tt,nt)})}return""}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNetworkStream=void 0;var o=s(1),a=s(22);const c=200,d=206;function h(ot){const ut=ot.response;return typeof ut!="string"?ut:(0,o.stringToBytes)(ut).buffer}class g{constructor(ut,rt={}){this.url=ut,this.isHttp=/^https?:/i.test(ut),this.httpHeaders=this.isHttp&&rt.httpHeaders||Object.create(null),this.withCredentials=rt.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(ut,rt,it){const dt={begin:ut,end:rt};for(const tt in it)dt[tt]=it[tt];return this.request(dt)}requestFull(ut){return this.request(ut)}request(ut){const rt=new XMLHttpRequest,it=this.currXhrId++,dt=this.pendingRequests[it]={xhr:rt};rt.open("GET",this.url),rt.withCredentials=this.withCredentials;for(const tt in this.httpHeaders){const st=this.httpHeaders[tt];st!==void 0&&rt.setRequestHeader(tt,st)}return this.isHttp&&"begin"in ut&&"end"in ut?(rt.setRequestHeader("Range",`bytes=${ut.begin}-${ut.end-1}`),dt.expectedStatus=d):dt.expectedStatus=c,rt.responseType="arraybuffer",ut.onError&&(rt.onerror=function(tt){ut.onError(rt.status)}),rt.onreadystatechange=this.onStateChange.bind(this,it),rt.onprogress=this.onProgress.bind(this,it),dt.onHeadersReceived=ut.onHeadersReceived,dt.onDone=ut.onDone,dt.onError=ut.onError,dt.onProgress=ut.onProgress,rt.send(null),it}onProgress(ut,rt){var dt;const it=this.pendingRequests[ut];it&&((dt=it.onProgress)==null||dt.call(it,rt))}onStateChange(ut,rt){var $,_t,At;const it=this.pendingRequests[ut];if(!it)return;const dt=it.xhr;if(dt.readyState>=2&&it.onHeadersReceived&&(it.onHeadersReceived(),delete it.onHeadersReceived),dt.readyState!==4||!(ut in this.pendingRequests))return;if(delete this.pendingRequests[ut],dt.status===0&&this.isHttp){($=it.onError)==null||$.call(it,dt.status);return}const tt=dt.status||c;if(!(tt===c&&it.expectedStatus===d)&&tt!==it.expectedStatus){(_t=it.onError)==null||_t.call(it,dt.status);return}const nt=h(dt);if(tt===d){const ft=dt.getResponseHeader("Content-Range"),j=/bytes (\d+)-(\d+)\/(\d+)/.exec(ft);it.onDone({begin:parseInt(j[1],10),chunk:nt})}else nt?it.onDone({begin:0,chunk:nt}):(At=it.onError)==null||At.call(it,dt.status)}getRequestXhr(ut){return this.pendingRequests[ut].xhr}isPendingRequest(ut){return ut in this.pendingRequests}abortRequest(ut){const rt=this.pendingRequests[ut].xhr;delete this.pendingRequests[ut],rt.abort()}}class b{constructor(ut){this._source=ut,this._manager=new g(ut.url,{httpHeaders:ut.httpHeaders,withCredentials:ut.withCredentials}),this._rangeChunkSize=ut.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(ut){const rt=this._rangeRequestReaders.indexOf(ut);rt>=0&&this._rangeRequestReaders.splice(rt,1)}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new _(this._manager,this._source),this._fullRequestReader}getRangeReader(ut,rt){const it=new _e(this._manager,ut,rt);return it.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(it),it}cancelAllRequests(ut){var rt;(rt=this._fullRequestReader)==null||rt.cancel(ut);for(const it of this._rangeRequestReaders.slice(0))it.cancel(ut)}}i.PDFNetworkStream=b;class _{constructor(ut,rt){this._manager=ut;const it={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=rt.url,this._fullRequestId=ut.requestFull(it),this._headersReceivedCapability=new o.PromiseCapability,this._disableRange=rt.disableRange||!1,this._contentLength=rt.length,this._rangeChunkSize=rt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const ut=this._fullRequestId,rt=this._manager.getRequestXhr(ut),it=st=>rt.getResponseHeader(st),{allowRangeRequests:dt,suggestedLength:tt}=(0,a.validateRangeRequestCapabilities)({getResponseHeader:it,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});dt&&(this._isRangeSupported=!0),this._contentLength=tt||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(it),this._isRangeSupported&&this._manager.abortRequest(ut),this._headersReceivedCapability.resolve()}_onDone(ut){if(ut&&(this._requests.length>0?this._requests.shift().resolve({value:ut.chunk,done:!1}):this._cachedChunks.push(ut.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const rt of this._requests)rt.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(ut){this._storedError=(0,a.createResponseStatusError)(ut,this._url),this._headersReceivedCapability.reject(this._storedError);for(const rt of this._requests)rt.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(ut){var rt;(rt=this.onProgress)==null||rt.call(this,{loaded:ut.loaded,total:ut.lengthComputable?ut.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const ut=new o.PromiseCapability;return this._requests.push(ut),ut.promise}cancel(ut){this._done=!0,this._headersReceivedCapability.reject(ut);for(const rt of this._requests)rt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class _e{constructor(ut,rt,it){this._manager=ut;const dt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ut.url,this._requestId=ut.requestRange(rt,it,dt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var ut;(ut=this.onClosed)==null||ut.call(this,this)}_onDone(ut){const rt=ut.chunk;this._requests.length>0?this._requests.shift().resolve({value:rt,done:!1}):this._queuedChunk=rt,this._done=!0;for(const it of this._requests)it.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(ut){this._storedError=(0,a.createResponseStatusError)(ut,this._url);for(const rt of this._requests)rt.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(ut){var rt;this.isStreamingSupported||(rt=this.onProgress)==null||rt.call(this,{loaded:ut.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const rt=this._queuedChunk;return this._queuedChunk=null,{value:rt,done:!1}}if(this._done)return{value:void 0,done:!0};const ut=new o.PromiseCapability;return this._requests.push(ut),ut.promise}cancel(ut){this._done=!0;for(const rt of this._requests)rt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFFetchStream=void 0;var o=s(1),a=s(22);function c(_e,ot,ut){return{method:"GET",headers:_e,signal:ut.signal,mode:"cors",credentials:ot?"include":"same-origin",redirect:"follow"}}function d(_e){const ot=new Headers;for(const ut in _e){const rt=_e[ut];rt!==void 0&&ot.append(ut,rt)}return ot}function h(_e){return _e instanceof Uint8Array?_e.buffer:_e instanceof ArrayBuffer?_e:((0,o.warn)(`getArrayBuffer - unexpected data format: ${_e}`),new Uint8Array(_e).buffer)}class g{constructor(ot){this.source=ot,this.isHttp=/^https?:/i.test(ot.url),this.httpHeaders=this.isHttp&&ot.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var ot;return((ot=this._fullRequestReader)==null?void 0:ot._loaded)??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new b(this),this._fullRequestReader}getRangeReader(ot,ut){if(ut<=this._progressiveDataLength)return null;const rt=new _(this,ot,ut);return this._rangeRequestReaders.push(rt),rt}cancelAllRequests(ot){var ut;(ut=this._fullRequestReader)==null||ut.cancel(ot);for(const rt of this._rangeRequestReaders.slice(0))rt.cancel(ot)}}i.PDFFetchStream=g;class b{constructor(ot){this._stream=ot,this._reader=null,this._loaded=0,this._filename=null;const ut=ot.source;this._withCredentials=ut.withCredentials||!1,this._contentLength=ut.length,this._headersCapability=new o.PromiseCapability,this._disableRange=ut.disableRange||!1,this._rangeChunkSize=ut.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!ut.disableStream,this._isRangeSupported=!ut.disableRange,this._headers=d(this._stream.httpHeaders);const rt=ut.url;fetch(rt,c(this._headers,this._withCredentials,this._abortController)).then(it=>{if(!(0,a.validateResponseStatus)(it.status))throw(0,a.createResponseStatusError)(it.status,rt);this._reader=it.body.getReader(),this._headersCapability.resolve();const dt=nt=>it.headers.get(nt),{allowRangeRequests:tt,suggestedLength:st}=(0,a.validateRangeRequestCapabilities)({getResponseHeader:dt,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=tt,this._contentLength=st||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(dt),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new o.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var rt;await this._headersCapability.promise;const{value:ot,done:ut}=await this._reader.read();return ut?{value:ot,done:ut}:(this._loaded+=ot.byteLength,(rt=this.onProgress)==null||rt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:h(ot),done:!1})}cancel(ot){var ut;(ut=this._reader)==null||ut.cancel(ot),this._abortController.abort()}}class _{constructor(ot,ut,rt){this._stream=ot,this._reader=null,this._loaded=0;const it=ot.source;this._withCredentials=it.withCredentials||!1,this._readCapability=new o.PromiseCapability,this._isStreamingSupported=!it.disableStream,this._abortController=new AbortController,this._headers=d(this._stream.httpHeaders),this._headers.append("Range",`bytes=${ut}-${rt-1}`);const dt=it.url;fetch(dt,c(this._headers,this._withCredentials,this._abortController)).then(tt=>{if(!(0,a.validateResponseStatus)(tt.status))throw(0,a.createResponseStatusError)(tt.status,dt);this._readCapability.resolve(),this._reader=tt.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var rt;await this._readCapability.promise;const{value:ot,done:ut}=await this._reader.read();return ut?{value:ot,done:ut}:(this._loaded+=ot.byteLength,(rt=this.onProgress)==null||rt.call(this,{loaded:this._loaded}),{value:h(ot),done:!1})}cancel(ot){var ut;(ut=this._reader)==null||ut.cancel(ot),this._abortController.abort()}}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TextLayerRenderTask=void 0,i.renderTextLayer=it,i.updateTextLayer=dt;var o=s(1),a=s(6);const c=1e5,d=30,h=.8,g=new Map;function b(tt,st){let nt;if(st&&o.FeatureTest.isOffscreenCanvasSupported)nt=new OffscreenCanvas(tt,tt).getContext("2d",{alpha:!1});else{const $=document.createElement("canvas");$.width=$.height=tt,nt=$.getContext("2d",{alpha:!1})}return nt}function _(tt,st){const nt=g.get(tt);if(nt)return nt;const $=b(d,st);$.font=`${d}px ${tt}`;const _t=$.measureText("");let At=_t.fontBoundingBoxAscent,ft=Math.abs(_t.fontBoundingBoxDescent);if(At){const at=At/(At+ft);return g.set(tt,at),$.canvas.width=$.canvas.height=0,at}$.strokeStyle="red",$.clearRect(0,0,d,d),$.strokeText("g",0,0);let j=$.getImageData(0,0,d,d).data;ft=0;for(let at=j.length-1-3;at>=0;at-=4)if(j[at]>0){ft=Math.ceil(at/4/d);break}$.clearRect(0,0,d,d),$.strokeText("A",0,d),j=$.getImageData(0,0,d,d).data,At=0;for(let at=0,yt=j.length;at<yt;at+=4)if(j[at]>0){At=d-Math.floor(at/4/d);break}if($.canvas.width=$.canvas.height=0,At){const at=At/(At+ft);return g.set(tt,at),at}return g.set(tt,h),h}function _e(tt,st,nt){const $=document.createElement("span"),_t={angle:0,canvasWidth:0,hasText:st.str!=="",hasEOL:st.hasEOL,fontSize:0};tt._textDivs.push($);const At=o.Util.transform(tt._transform,st.transform);let ft=Math.atan2(At[1],At[0]);const j=nt[st.fontName];j.vertical&&(ft+=Math.PI/2);const at=Math.hypot(At[2],At[3]),yt=at*_(j.fontFamily,tt._isOffscreenCanvasSupported);let lt,vt;ft===0?(lt=At[4],vt=At[5]-yt):(lt=At[4]+yt*Math.sin(ft),vt=At[5]-yt*Math.cos(ft));const xt="calc(var(--scale-factor)*",bt=$.style;tt._container===tt._rootContainer?(bt.left=`${(100*lt/tt._pageWidth).toFixed(2)}%`,bt.top=`${(100*vt/tt._pageHeight).toFixed(2)}%`):(bt.left=`${xt}${lt.toFixed(2)}px)`,bt.top=`${xt}${vt.toFixed(2)}px)`),bt.fontSize=`${xt}${at.toFixed(2)}px)`,bt.fontFamily=j.fontFamily,_t.fontSize=at,$.setAttribute("role","presentation"),$.textContent=st.str,$.dir=st.dir,tt._fontInspectorEnabled&&($.dataset.fontName=st.fontName),ft!==0&&(_t.angle=ft*(180/Math.PI));let It=!1;if(st.str.length>1)It=!0;else if(st.str!==" "&&st.transform[0]!==st.transform[3]){const Kt=Math.abs(st.transform[0]),Zt=Math.abs(st.transform[3]);Kt!==Zt&&Math.max(Kt,Zt)/Math.min(Kt,Zt)>1.5&&(It=!0)}It&&(_t.canvasWidth=j.vertical?st.height:st.width),tt._textDivProperties.set($,_t),tt._isReadableStream&&tt._layoutText($)}function ot(tt){const{div:st,scale:nt,properties:$,ctx:_t,prevFontSize:At,prevFontFamily:ft}=tt,{style:j}=st;let at="";if($.canvasWidth!==0&&$.hasText){const{fontFamily:yt}=j,{canvasWidth:lt,fontSize:vt}=$;(At!==vt||ft!==yt)&&(_t.font=`${vt*nt}px ${yt}`,tt.prevFontSize=vt,tt.prevFontFamily=yt);const{width:xt}=_t.measureText(st.textContent);xt>0&&(at=`scaleX(${lt*nt/xt})`)}$.angle!==0&&(at=`rotate(${$.angle}deg) ${at}`),at.length>0&&(j.transform=at)}function ut(tt){if(tt._canceled)return;const st=tt._textDivs,nt=tt._capability;if(st.length>c){nt.resolve();return}if(!tt._isReadableStream)for(const _t of st)tt._layoutText(_t);nt.resolve()}class rt{constructor({textContentSource:st,container:nt,viewport:$,textDivs:_t,textDivProperties:At,textContentItemsStr:ft,isOffscreenCanvasSupported:j}){var xt;this._textContentSource=st,this._isReadableStream=st instanceof ReadableStream,this._container=this._rootContainer=nt,this._textDivs=_t||[],this._textContentItemsStr=ft||[],this._isOffscreenCanvasSupported=j,this._fontInspectorEnabled=!!((xt=globalThis.FontInspector)!=null&&xt.enabled),this._reader=null,this._textDivProperties=At||new WeakMap,this._canceled=!1,this._capability=new o.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:$.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:b(0,j)};const{pageWidth:at,pageHeight:yt,pageX:lt,pageY:vt}=$.rawDims;this._transform=[1,0,0,-1,-lt,vt+yt],this._pageWidth=at,this._pageHeight=yt,(0,a.setLayerDimensions)(nt,$),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new o.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new o.AbortException("TextLayer task cancelled."))}_processItems(st,nt){for(const $ of st){if($.str===void 0){if($.type==="beginMarkedContentProps"||$.type==="beginMarkedContent"){const _t=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),$.id!==null&&this._container.setAttribute("id",`${$.id}`),_t.append(this._container)}else $.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push($.str),_e(this,$,nt)}}_layoutText(st){const nt=this._layoutTextParams.properties=this._textDivProperties.get(st);if(this._layoutTextParams.div=st,ot(this._layoutTextParams),nt.hasText&&this._container.append(st),nt.hasEOL){const $=document.createElement("br");$.setAttribute("role","presentation"),this._container.append($)}}_render(){const st=new o.PromiseCapability;let nt=Object.create(null);if(this._isReadableStream){const $=()=>{this._reader.read().then(({value:_t,done:At})=>{if(At){st.resolve();return}Object.assign(nt,_t.styles),this._processItems(_t.items,nt),$()},st.reject)};this._reader=this._textContentSource.getReader(),$()}else if(this._textContentSource){const{items:$,styles:_t}=this._textContentSource;this._processItems($,_t),st.resolve()}else throw new Error('No "textContentSource" parameter specified.');st.promise.then(()=>{nt=null,ut(this)},this._capability.reject)}}i.TextLayerRenderTask=rt;function it(tt){!tt.textContentSource&&(tt.textContent||tt.textContentStream)&&((0,a.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),tt.textContentSource=tt.textContent||tt.textContentStream);const{container:st,viewport:nt}=tt,$=getComputedStyle(st),_t=$.getPropertyValue("visibility"),At=parseFloat($.getPropertyValue("--scale-factor"));_t==="visible"&&(!At||Math.abs(At-nt.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const ft=new rt(tt);return ft._render(),ft}function dt({container:tt,viewport:st,textDivs:nt,textDivProperties:$,isOffscreenCanvasSupported:_t,mustRotate:At=!0,mustRescale:ft=!0}){if(At&&(0,a.setLayerDimensions)(tt,{rotation:st.rotation}),ft){const j=b(0,_t),yt={prevFontSize:null,prevFontFamily:null,div:null,scale:st.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:j};for(const lt of nt)yt.properties=$.get(lt),yt.div=lt,ot(yt)}}},(e,i,s)=>{var b,_,_e,ot,ut,rt,it,dt,tt,mr,nt,$r,_t,yr,ft,vr;Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditorLayer=void 0;var o=s(1),a=s(5),c=s(28),d=s(29),h=s(6);const at=class{constructor(lt){Wt(this,tt);Wt(this,nt);Wt(this,_t);Wt(this,ft);Wt(this,b,void 0);Wt(this,_,!1);Wt(this,_e,this.pointerup.bind(this));Wt(this,ot,this.pointerdown.bind(this));Wt(this,ut,new Map);Wt(this,rt,!1);Wt(this,it,!1);Wt(this,dt,void 0);at._initialized||(at._initialized=!0,c.FreeTextEditor.initialize(lt.l10n),d.InkEditor.initialize(lt.l10n)),lt.uiManager.registerEditorTypes([c.FreeTextEditor,d.InkEditor]),an(this,dt,lt.uiManager),this.pageIndex=lt.pageIndex,this.div=lt.div,an(this,b,lt.accessibilityManager),pt(this,dt).addLayer(this)}get isEmpty(){return pt(this,ut).size===0}updateToolbar(lt){pt(this,dt).updateToolbar(lt)}updateMode(lt=pt(this,dt).getMode()){Xt(this,ft,vr).call(this),lt===o.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),pt(this,dt).unselectAll(),lt!==o.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",lt===o.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",lt===o.AnnotationEditorType.INK),this.div.hidden=!1)}addInkEditorIfNeeded(lt){if(!lt&&pt(this,dt).getMode()!==o.AnnotationEditorType.INK)return;if(!lt){for(const xt of pt(this,ut).values())if(xt.isEmpty()){xt.setInBackground();return}}Xt(this,_t,yr).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(lt){pt(this,dt).setEditingState(lt)}addCommands(lt){pt(this,dt).addCommands(lt)}enable(){this.div.style.pointerEvents="auto";for(const lt of pt(this,ut).values())lt.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const lt of pt(this,ut).values())lt.disableEditing();Xt(this,ft,vr).call(this),this.isEmpty&&(this.div.hidden=!0)}setActiveEditor(lt){pt(this,dt).getActive()!==lt&&pt(this,dt).setActiveEditor(lt)}enableClick(){this.div.addEventListener("pointerdown",pt(this,ot)),this.div.addEventListener("pointerup",pt(this,_e))}disableClick(){this.div.removeEventListener("pointerdown",pt(this,ot)),this.div.removeEventListener("pointerup",pt(this,_e))}attach(lt){pt(this,ut).set(lt.id,lt)}detach(lt){var vt;pt(this,ut).delete(lt.id),(vt=pt(this,b))==null||vt.removePointerInTextLayer(lt.contentDiv)}remove(lt){pt(this,dt).removeEditor(lt),this.detach(lt),lt.div.style.display="none",setTimeout(()=>{lt.div.style.display="",lt.div.remove(),lt.isAttachedToDOM=!1,document.activeElement===document.body&&pt(this,dt).focusMainContainer()},0),pt(this,it)||this.addInkEditorIfNeeded(!1)}add(lt){if(Xt(this,tt,mr).call(this,lt),pt(this,dt).addEditor(lt),this.attach(lt),!lt.isAttachedToDOM){const vt=lt.render();this.div.append(vt),lt.isAttachedToDOM=!0}this.moveEditorInDOM(lt),lt.onceAdded(),pt(this,dt).addToAnnotationStorage(lt)}moveEditorInDOM(lt){var vt;(vt=pt(this,b))==null||vt.moveElementInDOM(this.div,lt.div,lt.contentDiv,!0)}addOrRebuild(lt){lt.needsToBeRebuilt()?lt.rebuild():this.add(lt)}addANewEditor(lt){const vt=()=>{this.addOrRebuild(lt)},xt=()=>{lt.remove()};this.addCommands({cmd:vt,undo:xt,mustExec:!0})}addUndoableEditor(lt){const vt=()=>{this.addOrRebuild(lt)},xt=()=>{lt.remove()};this.addCommands({cmd:vt,undo:xt,mustExec:!1})}getNextId(){return pt(this,dt).getId()}deserialize(lt){switch(lt.annotationType){case o.AnnotationEditorType.FREETEXT:return c.FreeTextEditor.deserialize(lt,this,pt(this,dt));case o.AnnotationEditorType.INK:return d.InkEditor.deserialize(lt,this,pt(this,dt))}return null}setSelected(lt){pt(this,dt).setSelected(lt)}toggleSelected(lt){pt(this,dt).toggleSelected(lt)}isSelected(lt){return pt(this,dt).isSelected(lt)}unselect(lt){pt(this,dt).unselect(lt)}pointerup(lt){const{isMac:vt}=o.FeatureTest.platform;if(!(lt.button!==0||lt.ctrlKey&&vt)&&lt.target===this.div&&pt(this,rt)){if(an(this,rt,!1),!pt(this,_)){an(this,_,!0);return}Xt(this,_t,yr).call(this,lt)}}pointerdown(lt){const{isMac:vt}=o.FeatureTest.platform;if(lt.button!==0||lt.ctrlKey&&vt||lt.target!==this.div)return;an(this,rt,!0);const xt=pt(this,dt).getActive();an(this,_,!xt||xt.isEmpty())}drop(lt){const vt=lt.dataTransfer.getData("text/plain"),xt=pt(this,dt).getEditor(vt);if(!xt)return;lt.preventDefault(),lt.dataTransfer.dropEffect="move",Xt(this,tt,mr).call(this,xt);const bt=this.div.getBoundingClientRect(),It=lt.clientX-bt.x,Kt=lt.clientY-bt.y;xt.translate(It-xt.startX,Kt-xt.startY),this.moveEditorInDOM(xt),xt.div.focus()}dragover(lt){lt.preventDefault()}destroy(){var lt,vt;((lt=pt(this,dt).getActive())==null?void 0:lt.parent)===this&&pt(this,dt).setActiveEditor(null);for(const xt of pt(this,ut).values())(vt=pt(this,b))==null||vt.removePointerInTextLayer(xt.contentDiv),xt.setParent(null),xt.isAttachedToDOM=!1,xt.div.remove();this.div=null,pt(this,ut).clear(),pt(this,dt).removeLayer(this)}render({viewport:lt}){this.viewport=lt,(0,h.setLayerDimensions)(this.div,lt),(0,a.bindEvents)(this,this.div,["dragover","drop"]);for(const vt of pt(this,dt).getEditors(this.pageIndex))this.add(vt);this.updateMode()}update({viewport:lt}){pt(this,dt).commitOrRemove(),this.viewport=lt,(0,h.setLayerDimensions)(this.div,{rotation:lt.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:lt,pageHeight:vt}=this.viewport.rawDims;return[lt,vt]}};let g=at;b=new WeakMap,_=new WeakMap,_e=new WeakMap,ot=new WeakMap,ut=new WeakMap,rt=new WeakMap,it=new WeakMap,dt=new WeakMap,tt=new WeakSet,mr=function(lt){var vt;lt.parent!==this&&(this.attach(lt),(vt=lt.parent)==null||vt.detach(lt),lt.setParent(this),lt.div&&lt.isAttachedToDOM&&(lt.div.remove(),this.div.append(lt.div)))},nt=new WeakSet,$r=function(lt){switch(pt(this,dt).getMode()){case o.AnnotationEditorType.FREETEXT:return new c.FreeTextEditor(lt);case o.AnnotationEditorType.INK:return new d.InkEditor(lt)}return null},_t=new WeakSet,yr=function(lt){const vt=this.getNextId(),xt=Xt(this,nt,$r).call(this,{parent:this,id:vt,x:lt.offsetX,y:lt.offsetY,uiManager:pt(this,dt)});return xt&&this.add(xt),xt},ft=new WeakSet,vr=function(){an(this,it,!0);for(const lt of pt(this,ut).values())lt.isEmpty()&&lt.remove();an(this,it,!1)},Mn(g,"_initialized",!1),i.AnnotationEditorLayer=g},(e,i,s)=>{var h,g,b,_,_e,ot,ut,rt,it,dt,Ur,st,Br,$,zr,At,_r;Object.defineProperty(i,"__esModule",{value:!0}),i.FreeTextEditor=void 0;var o=s(1),a=s(5),c=s(4);const j=class extends c.AnnotationEditor{constructor(lt){super({...lt,name:"freeTextEditor"});Wt(this,dt);Wt(this,st);Wt(this,$);Wt(this,At);Wt(this,h,this.editorDivBlur.bind(this));Wt(this,g,this.editorDivFocus.bind(this));Wt(this,b,this.editorDivInput.bind(this));Wt(this,_,this.editorDivKeydown.bind(this));Wt(this,_e,void 0);Wt(this,ot,"");Wt(this,ut,`${this.id}-editor`);Wt(this,rt,!1);Wt(this,it,void 0);an(this,_e,lt.color||j._defaultColor||c.AnnotationEditor._defaultLineColor),an(this,it,lt.fontSize||j._defaultFontSize)}static initialize(lt){this._l10nPromise=new Map(["free_text2_default_content","editor_free_text2_aria_label"].map(xt=>[xt,lt.get(xt)]));const vt=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(vt.getPropertyValue("--freetext-padding"))}static updateDefaultParams(lt,vt){switch(lt){case o.AnnotationEditorParamsType.FREETEXT_SIZE:j._defaultFontSize=vt;break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:j._defaultColor=vt;break}}updateParams(lt,vt){switch(lt){case o.AnnotationEditorParamsType.FREETEXT_SIZE:Xt(this,dt,Ur).call(this,vt);break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:Xt(this,st,Br).call(this,vt);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,j._defaultFontSize],[o.AnnotationEditorParamsType.FREETEXT_COLOR,j._defaultColor||c.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,pt(this,it)],[o.AnnotationEditorParamsType.FREETEXT_COLOR,pt(this,_e)]]}getInitialTranslation(){const lt=this.parentScale;return[-j._internalPadding*lt,-(j._internalPadding+pt(this,it))*lt]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(o.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",pt(this,_)),this.editorDiv.addEventListener("focus",pt(this,g)),this.editorDiv.addEventListener("blur",pt(this,h)),this.editorDiv.addEventListener("input",pt(this,b)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",pt(this,ut)),this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",pt(this,_)),this.editorDiv.removeEventListener("focus",pt(this,g)),this.editorDiv.removeEventListener("blur",pt(this,h)),this.editorDiv.removeEventListener("input",pt(this,b)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(lt){super.focusin(lt),lt.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing"),super.remove()}commit(){this.isInEditMode()&&(super.commit(),pt(this,rt)||(an(this,rt,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),an(this,ot,Xt(this,$,zr).call(this).trimEnd()),Xt(this,At,_r).call(this))}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(lt){this.enableEditMode(),this.editorDiv.focus()}keydown(lt){lt.target===this.div&&lt.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(lt){j._keyboardManager.exec(this,lt)}editorDivFocus(lt){this.isEditing=!0}editorDivBlur(lt){this.isEditing=!1}editorDivInput(lt){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let lt,vt;this.width&&(lt=this.x,vt=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",pt(this,ut)),this.enableEditing(),j._l10nPromise.get("editor_free_text2_aria_label").then(bt=>{var It;return(It=this.editorDiv)==null?void 0:It.setAttribute("aria-label",bt)}),j._l10nPromise.get("free_text2_default_content").then(bt=>{var It;return(It=this.editorDiv)==null?void 0:It.setAttribute("default-content",bt)}),this.editorDiv.contentEditable=!0;const{style:xt}=this.editorDiv;if(xt.fontSize=`calc(${pt(this,it)}px * var(--scale-factor))`,xt.color=pt(this,_e),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,a.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[bt,It]=this.parentDimensions;this.setAt(lt*bt,vt*It,this.width*bt,this.height*It);for(const Kt of pt(this,ot).split(`
`)){const Zt=document.createElement("div");Zt.append(Kt?document.createTextNode(Kt):document.createElement("br")),this.editorDiv.append(Zt)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(lt,vt,xt){const bt=super.deserialize(lt,vt,xt);return an(bt,it,lt.fontSize),an(bt,_e,o.Util.makeHexColor(...lt.color)),an(bt,ot,lt.value),bt}serialize(){if(this.isEmpty())return null;const lt=j._internalPadding*this.parentScale,vt=this.getRect(lt,lt),xt=c.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:pt(this,_e));return{annotationType:o.AnnotationEditorType.FREETEXT,color:xt,fontSize:pt(this,it),value:pt(this,ot),pageIndex:this.pageIndex,rect:vt,rotation:this.rotation}}};let d=j;h=new WeakMap,g=new WeakMap,b=new WeakMap,_=new WeakMap,_e=new WeakMap,ot=new WeakMap,ut=new WeakMap,rt=new WeakMap,it=new WeakMap,dt=new WeakSet,Ur=function(lt){const vt=bt=>{this.editorDiv.style.fontSize=`calc(${bt}px * var(--scale-factor))`,this.translate(0,-(bt-pt(this,it))*this.parentScale),an(this,it,bt),Xt(this,At,_r).call(this)},xt=pt(this,it);this.addCommands({cmd:()=>{vt(lt)},undo:()=>{vt(xt)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},st=new WeakSet,Br=function(lt){const vt=pt(this,_e);this.addCommands({cmd:()=>{an(this,_e,this.editorDiv.style.color=lt)},undo:()=>{an(this,_e,this.editorDiv.style.color=vt)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},$=new WeakSet,zr=function(){const lt=this.editorDiv.getElementsByTagName("div");if(lt.length===0)return this.editorDiv.innerText;const vt=[];for(const xt of lt)vt.push(xt.innerText.replace(/\r\n?|\n/,""));return vt.join(`
`)},At=new WeakSet,_r=function(){const[lt,vt]=this.parentDimensions;let xt;if(this.isAttachedToDOM)xt=this.div.getBoundingClientRect();else{const{currentLayer:bt,div:It}=this,Kt=It.style.display;It.style.display="hidden",bt.div.append(this.div),xt=It.getBoundingClientRect(),It.remove(),It.style.display=Kt}this.width=xt.width/lt,this.height=xt.height/vt},Mn(d,"_freeTextDefaultContent",""),Mn(d,"_l10nPromise"),Mn(d,"_internalPadding",0),Mn(d,"_defaultColor",null),Mn(d,"_defaultFontSize",10),Mn(d,"_keyboardManager",new a.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],j.prototype.commitOrRemove]])),Mn(d,"_type","freetext"),i.FreeTextEditor=d},(e,i,s)=>{var g,b,_,_e,ot,ut,rt,it,dt,tt,st,nt,$,_t,At,ft,j,Hr,yt,Wr,vt,Vr,bt,Gr,Kt,br,jt,Kr,Qt,Sr,on,qr,Ct,Xr,gt,Yr,Rt,Qr,Nt,Jr,kt,Un,et,Er,mt,rr,St,ir,Gt,Vn,qt,Ar,sn,sr,rn,Zr,pn,_i,_n,es,cn,ts,Ht,wr,Ot,or,en,Gn,vn,kr;Object.defineProperty(i,"__esModule",{value:!0}),i.InkEditor=void 0;var o=s(1),a=s(4),c=s(5);const d=16,bn=class extends a.AnnotationEditor{constructor(Bt){super({...Bt,name:"inkEditor"});Wt(this,j);Wt(this,yt);Wt(this,vt);Wt(this,bt);Wt(this,Kt);Wt(this,jt);Wt(this,Qt);Wt(this,on);Wt(this,Ct);Wt(this,gt);Wt(this,Rt);Wt(this,Nt);Wt(this,kt);Wt(this,et);Wt(this,mt);Wt(this,St);Wt(this,Gt);Wt(this,qt);Wt(this,sn);Wt(this,pn);Wt(this,_n);Wt(this,cn);Wt(this,Ht);Wt(this,Ot);Wt(this,en);Wt(this,vn);Wt(this,g,0);Wt(this,b,0);Wt(this,_,0);Wt(this,_e,this.canvasContextMenu.bind(this));Wt(this,ot,this.canvasPointermove.bind(this));Wt(this,ut,this.canvasPointerleave.bind(this));Wt(this,rt,this.canvasPointerup.bind(this));Wt(this,it,this.canvasPointerdown.bind(this));Wt(this,dt,new Path2D);Wt(this,tt,!1);Wt(this,st,!1);Wt(this,nt,!1);Wt(this,$,null);Wt(this,_t,0);Wt(this,At,0);Wt(this,ft,null);this.color=Bt.color||null,this.thickness=Bt.thickness||null,this.opacity=Bt.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(Bt){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink2_aria_label"].map(nn=>[nn,Bt.get(nn)]))}static updateDefaultParams(Bt,nn){switch(Bt){case o.AnnotationEditorParamsType.INK_THICKNESS:bn._defaultThickness=nn;break;case o.AnnotationEditorParamsType.INK_COLOR:bn._defaultColor=nn;break;case o.AnnotationEditorParamsType.INK_OPACITY:bn._defaultOpacity=nn/100;break}}updateParams(Bt,nn){switch(Bt){case o.AnnotationEditorParamsType.INK_THICKNESS:Xt(this,j,Hr).call(this,nn);break;case o.AnnotationEditorParamsType.INK_COLOR:Xt(this,yt,Wr).call(this,nn);break;case o.AnnotationEditorParamsType.INK_OPACITY:Xt(this,vt,Vr).call(this,nn);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,bn._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,bn._defaultColor||a.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(bn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||bn._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,this.color||bn._defaultColor||a.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??bn._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(Xt(this,mt,rr).call(this),Xt(this,St,ir).call(this)),this.isAttachedToDOM||(this.parent.add(this),Xt(this,Gt,Vn).call(this)),Xt(this,en,Gn).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,pt(this,$).disconnect(),an(this,$,null),super.remove())}setParent(Bt){!this.parent&&Bt?this._uiManager.removeShouldRescale(this):this.parent&&Bt===null&&this._uiManager.addShouldRescale(this),super.setParent(Bt)}onScaleChanging(){const[Bt,nn]=this.parentDimensions,dn=this.width*Bt,hn=this.height*nn;this.setDimensions(dn,hn)}enableEditMode(){pt(this,tt)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",pt(this,it)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",pt(this,it)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){pt(this,tt)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),an(this,tt,!0),this.div.classList.add("disabled"),Xt(this,en,Gn).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus({preventScroll:!0}))}focusin(Bt){super.focusin(Bt),this.enableEditMode()}canvasPointerdown(Bt){Bt.button!==0||!this.isInEditMode()||pt(this,tt)||(this.setInForeground(),Bt.preventDefault(),Bt.type!=="mouse"&&this.div.focus(),Xt(this,jt,Kr).call(this,Bt.offsetX,Bt.offsetY))}canvasContextMenu(Bt){Bt.preventDefault()}canvasPointermove(Bt){Bt.preventDefault(),Xt(this,Qt,Sr).call(this,Bt.offsetX,Bt.offsetY)}canvasPointerup(Bt){Bt.preventDefault(),Xt(this,et,Er).call(this,Bt)}canvasPointerleave(Bt){Xt(this,et,Er).call(this,Bt)}render(){if(this.div)return this.div;let Bt,nn;this.width&&(Bt=this.x,nn=this.y),super.render(),bn._l10nPromise.get("editor_ink2_aria_label").then(Sn=>{var En;return(En=this.div)==null?void 0:En.setAttribute("aria-label",Sn)});const[dn,hn,gn,An]=Xt(this,bt,Gr).call(this);if(this.setAt(dn,hn,0,0),this.setDims(gn,An),Xt(this,mt,rr).call(this),this.width){const[Sn,En]=this.parentDimensions;this.setAt(Bt*Sn,nn*En,this.width*Sn,this.height*En),an(this,nt,!0),Xt(this,Gt,Vn).call(this),this.setDims(this.width*Sn,this.height*En),Xt(this,kt,Un).call(this),Xt(this,vn,kr).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Xt(this,St,ir).call(this),this.div}setDimensions(Bt,nn){const dn=Math.round(Bt),hn=Math.round(nn);if(pt(this,_t)===dn&&pt(this,At)===hn)return;an(this,_t,dn),an(this,At,hn),this.canvas.style.visibility="hidden",pt(this,g)&&Math.abs(pt(this,g)-Bt/nn)>.01&&(nn=Math.ceil(Bt/pt(this,g)),this.setDims(Bt,nn));const[gn,An]=this.parentDimensions;this.width=Bt/gn,this.height=nn/An,pt(this,tt)&&Xt(this,qt,Ar).call(this,Bt,nn),Xt(this,Gt,Vn).call(this),Xt(this,kt,Un).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Bt,nn,dn){var Pn,wn;const hn=super.deserialize(Bt,nn,dn);hn.thickness=Bt.thickness,hn.color=o.Util.makeHexColor(...Bt.color),hn.opacity=Bt.opacity;const[gn,An]=hn.pageDimensions,Sn=hn.width*gn,En=hn.height*An,xn=hn.parentScale,kn=Bt.thickness/2;an(hn,g,Sn/En),an(hn,tt,!0),an(hn,_t,Math.round(Sn)),an(hn,At,Math.round(En));for(const{bezier:Rn}of Bt.paths){const Dn=[];hn.paths.push(Dn);let On=xn*(Rn[0]-kn),Ln=xn*(En-Rn[1]-kn);for(let In=2,Xn=Rn.length;In<Xn;In+=6){const Yn=xn*(Rn[In]-kn),Qn=xn*(En-Rn[In+1]-kn),Jn=xn*(Rn[In+2]-kn),Zn=xn*(En-Rn[In+3]-kn),Cr=xn*(Rn[In+4]-kn),Pr=xn*(En-Rn[In+5]-kn);Dn.push([[On,Ln],[Yn,Qn],[Jn,Zn],[Cr,Pr]]),On=Cr,Ln=Pr}const Nn=Xt(this,rn,Zr).call(this,Dn);hn.bezierPath2D.push(Nn)}const Tn=Xt(Pn=hn,Ht,wr).call(Pn);return an(hn,_,Math.max(d,Tn[2]-Tn[0])),an(hn,b,Math.max(d,Tn[3]-Tn[1])),Xt(wn=hn,qt,Ar).call(wn,Sn,En),hn}serialize(){if(this.isEmpty())return null;const Bt=this.getRect(0,0),nn=this.rotation%180===0?Bt[3]-Bt[1]:Bt[2]-Bt[0],dn=a.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:o.AnnotationEditorType.INK,color:dn,thickness:this.thickness,opacity:this.opacity,paths:Xt(this,pn,_i).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,nn),pageIndex:this.pageIndex,rect:Bt,rotation:this.rotation}}};let h=bn;g=new WeakMap,b=new WeakMap,_=new WeakMap,_e=new WeakMap,ot=new WeakMap,ut=new WeakMap,rt=new WeakMap,it=new WeakMap,dt=new WeakMap,tt=new WeakMap,st=new WeakMap,nt=new WeakMap,$=new WeakMap,_t=new WeakMap,At=new WeakMap,ft=new WeakMap,j=new WeakSet,Hr=function(Bt){const nn=this.thickness;this.addCommands({cmd:()=>{this.thickness=Bt,Xt(this,en,Gn).call(this)},undo:()=>{this.thickness=nn,Xt(this,en,Gn).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},yt=new WeakSet,Wr=function(Bt){const nn=this.color;this.addCommands({cmd:()=>{this.color=Bt,Xt(this,kt,Un).call(this)},undo:()=>{this.color=nn,Xt(this,kt,Un).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},vt=new WeakSet,Vr=function(Bt){Bt/=100;const nn=this.opacity;this.addCommands({cmd:()=>{this.opacity=Bt,Xt(this,kt,Un).call(this)},undo:()=>{this.opacity=nn,Xt(this,kt,Un).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},bt=new WeakSet,Gr=function(){const{parentRotation:Bt,parentDimensions:[nn,dn]}=this;switch(Bt){case 90:return[0,dn,dn,nn];case 180:return[nn,dn,nn,dn];case 270:return[nn,0,dn,nn];default:return[0,0,nn,dn]}},Kt=new WeakSet,br=function(){const{ctx:Bt,color:nn,opacity:dn,thickness:hn,parentScale:gn,scaleFactor:An}=this;Bt.lineWidth=hn*gn/An,Bt.lineCap="round",Bt.lineJoin="round",Bt.miterLimit=10,Bt.strokeStyle=`${nn}${(0,c.opacityToHex)(dn)}`},jt=new WeakSet,Kr=function(Bt,nn){this.canvas.addEventListener("contextmenu",pt(this,_e)),this.canvas.addEventListener("pointerleave",pt(this,ut)),this.canvas.addEventListener("pointermove",pt(this,ot)),this.canvas.addEventListener("pointerup",pt(this,rt)),this.canvas.removeEventListener("pointerdown",pt(this,it)),this.isEditing=!0,pt(this,nt)||(an(this,nt,!0),Xt(this,Gt,Vn).call(this),this.thickness||(this.thickness=bn._defaultThickness),this.color||(this.color=bn._defaultColor||a.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=bn._defaultOpacity)),this.currentPath.push([Bt,nn]),an(this,st,!1),Xt(this,Kt,br).call(this),an(this,ft,()=>{Xt(this,gt,Yr).call(this),pt(this,ft)&&window.requestAnimationFrame(pt(this,ft))}),window.requestAnimationFrame(pt(this,ft))},Qt=new WeakSet,Sr=function(Bt,nn){const[dn,hn]=this.currentPath.at(-1);if(this.currentPath.length>1&&Bt===dn&&nn===hn)return;const gn=this.currentPath;let An=pt(this,dt);if(gn.push([Bt,nn]),an(this,st,!0),gn.length<=2){An.moveTo(...gn[0]),An.lineTo(Bt,nn);return}gn.length===3&&(an(this,dt,An=new Path2D),An.moveTo(...gn[0])),Xt(this,Rt,Qr).call(this,An,...gn.at(-3),...gn.at(-2),Bt,nn)},on=new WeakSet,qr=function(){if(this.currentPath.length===0)return;const Bt=this.currentPath.at(-1);pt(this,dt).lineTo(...Bt)},Ct=new WeakSet,Xr=function(Bt,nn){an(this,ft,null),Bt=Math.min(Math.max(Bt,0),this.canvas.width),nn=Math.min(Math.max(nn,0),this.canvas.height),Xt(this,Qt,Sr).call(this,Bt,nn),Xt(this,on,qr).call(this);let dn;if(this.currentPath.length!==1)dn=Xt(this,Nt,Jr).call(this);else{const En=[Bt,nn];dn=[[En,En.slice(),En.slice(),En]]}const hn=pt(this,dt),gn=this.currentPath;this.currentPath=[],an(this,dt,new Path2D);const An=()=>{this.allRawPaths.push(gn),this.paths.push(dn),this.bezierPath2D.push(hn),this.rebuild()},Sn=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Xt(this,mt,rr).call(this),Xt(this,St,ir).call(this)),Xt(this,en,Gn).call(this))};this.addCommands({cmd:An,undo:Sn,mustExec:!0})},gt=new WeakSet,Yr=function(){if(!pt(this,st))return;an(this,st,!1);const Bt=Math.ceil(this.thickness*this.parentScale),nn=this.currentPath.slice(-3),dn=nn.map(An=>An[0]),hn=nn.map(An=>An[1]);Math.min(...dn)-Bt,Math.max(...dn)+Bt,Math.min(...hn)-Bt,Math.max(...hn)+Bt;const{ctx:gn}=this;gn.save(),gn.clearRect(0,0,this.canvas.width,this.canvas.height);for(const An of this.bezierPath2D)gn.stroke(An);gn.stroke(pt(this,dt)),gn.restore()},Rt=new WeakSet,Qr=function(Bt,nn,dn,hn,gn,An,Sn){const En=(nn+hn)/2,xn=(dn+gn)/2,kn=(hn+An)/2,Tn=(gn+Sn)/2;Bt.bezierCurveTo(En+2*(hn-En)/3,xn+2*(gn-xn)/3,kn+2*(hn-kn)/3,Tn+2*(gn-Tn)/3,kn,Tn)},Nt=new WeakSet,Jr=function(){const Bt=this.currentPath;if(Bt.length<=2)return[[Bt[0],Bt[0],Bt.at(-1),Bt.at(-1)]];const nn=[];let dn,[hn,gn]=Bt[0];for(dn=1;dn<Bt.length-2;dn++){const[Pn,wn]=Bt[dn],[Rn,Dn]=Bt[dn+1],On=(Pn+Rn)/2,Ln=(wn+Dn)/2,Nn=[hn+2*(Pn-hn)/3,gn+2*(wn-gn)/3],In=[On+2*(Pn-On)/3,Ln+2*(wn-Ln)/3];nn.push([[hn,gn],Nn,In,[On,Ln]]),[hn,gn]=[On,Ln]}const[An,Sn]=Bt[dn],[En,xn]=Bt[dn+1],kn=[hn+2*(An-hn)/3,gn+2*(Sn-gn)/3],Tn=[En+2*(An-En)/3,xn+2*(Sn-xn)/3];return nn.push([[hn,gn],kn,Tn,[En,xn]]),nn},kt=new WeakSet,Un=function(){if(this.isEmpty()){Xt(this,sn,sr).call(this);return}Xt(this,Kt,br).call(this);const{canvas:Bt,ctx:nn}=this;nn.setTransform(1,0,0,1,0,0),nn.clearRect(0,0,Bt.width,Bt.height),Xt(this,sn,sr).call(this);for(const dn of this.bezierPath2D)nn.stroke(dn)},et=new WeakSet,Er=function(Bt){this.canvas.removeEventListener("pointerleave",pt(this,ut)),this.canvas.removeEventListener("pointermove",pt(this,ot)),this.canvas.removeEventListener("pointerup",pt(this,rt)),this.canvas.addEventListener("pointerdown",pt(this,it)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",pt(this,_e))},10),Xt(this,Ct,Xr).call(this,Bt.offsetX,Bt.offsetY),this.addToAnnotationStorage(),this.setInBackground()},mt=new WeakSet,rr=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",bn._l10nPromise.get("editor_ink_canvas_aria_label").then(Bt=>{var nn;return(nn=this.canvas)==null?void 0:nn.setAttribute("aria-label",Bt)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},St=new WeakSet,ir=function(){an(this,$,new ResizeObserver(Bt=>{const nn=Bt[0].contentRect;nn.width&&nn.height&&this.setDimensions(nn.width,nn.height)})),pt(this,$).observe(this.div)},Gt=new WeakSet,Vn=function(){if(!pt(this,nt))return;const[Bt,nn]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Bt),this.canvas.height=Math.ceil(this.height*nn),Xt(this,sn,sr).call(this)},qt=new WeakSet,Ar=function(Bt,nn){const dn=Xt(this,Ot,or).call(this),hn=(Bt-dn)/pt(this,_),gn=(nn-dn)/pt(this,b);this.scaleFactor=Math.min(hn,gn)},sn=new WeakSet,sr=function(){const Bt=Xt(this,Ot,or).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Bt,this.translationY*this.scaleFactor+Bt)},rn=new WeakSet,Zr=function(Bt){const nn=new Path2D;for(let dn=0,hn=Bt.length;dn<hn;dn++){const[gn,An,Sn,En]=Bt[dn];dn===0&&nn.moveTo(...gn),nn.bezierCurveTo(An[0],An[1],Sn[0],Sn[1],En[0],En[1])}return nn},pn=new WeakSet,_i=function(Bt,nn,dn,hn){const An=[],Sn=this.thickness/2;let En,xn;for(const kn of this.paths){En=[],xn=[];for(let Tn=0,Pn=kn.length;Tn<Pn;Tn++){const[wn,Rn,Dn,On]=kn[Tn],Ln=Bt*(wn[0]+nn)+Sn,Nn=hn-Bt*(wn[1]+dn)-Sn,In=Bt*(Rn[0]+nn)+Sn,Xn=hn-Bt*(Rn[1]+dn)-Sn,Yn=Bt*(Dn[0]+nn)+Sn,Qn=hn-Bt*(Dn[1]+dn)-Sn,Jn=Bt*(On[0]+nn)+Sn,Zn=hn-Bt*(On[1]+dn)-Sn;Tn===0&&(En.push(Ln,Nn),xn.push(Ln,Nn)),En.push(In,Xn,Yn,Qn,Jn,Zn),Xt(this,_n,es).call(this,Ln,Nn,In,Xn,Yn,Qn,Jn,Zn,4,xn)}An.push({bezier:En,points:xn})}return An},_n=new WeakSet,es=function(Bt,nn,dn,hn,gn,An,Sn,En,xn,kn){if(Xt(this,cn,ts).call(this,Bt,nn,dn,hn,gn,An,Sn,En)){kn.push(Sn,En);return}for(let Tn=1;Tn<xn-1;Tn++){const Pn=Tn/xn,wn=1-Pn;let Rn=Pn*Bt+wn*dn,Dn=Pn*nn+wn*hn,On=Pn*dn+wn*gn,Ln=Pn*hn+wn*An;const Nn=Pn*gn+wn*Sn,In=Pn*An+wn*En;Rn=Pn*Rn+wn*On,Dn=Pn*Dn+wn*Ln,On=Pn*On+wn*Nn,Ln=Pn*Ln+wn*In,Rn=Pn*Rn+wn*On,Dn=Pn*Dn+wn*Ln,kn.push(Rn,Dn)}kn.push(Sn,En)},cn=new WeakSet,ts=function(Bt,nn,dn,hn,gn,An,Sn,En){const kn=(3*dn-2*Bt-Sn)**2,Tn=(3*hn-2*nn-En)**2,Pn=(3*gn-Bt-2*Sn)**2,wn=(3*An-nn-2*En)**2;return Math.max(kn,Pn)+Math.max(Tn,wn)<=10},Ht=new WeakSet,wr=function(){let Bt=1/0,nn=-1/0,dn=1/0,hn=-1/0;for(const gn of this.paths)for(const[An,Sn,En,xn]of gn){const kn=o.Util.bezierBoundingBox(...An,...Sn,...En,...xn);Bt=Math.min(Bt,kn[0]),dn=Math.min(dn,kn[1]),nn=Math.max(nn,kn[2]),hn=Math.max(hn,kn[3])}return[Bt,dn,nn,hn]},Ot=new WeakSet,or=function(){return pt(this,tt)?Math.ceil(this.thickness*this.parentScale):0},en=new WeakSet,Gn=function(Bt=!1){if(this.isEmpty())return;if(!pt(this,tt)){Xt(this,kt,Un).call(this);return}const nn=Xt(this,Ht,wr).call(this),dn=Xt(this,Ot,or).call(this);an(this,_,Math.max(d,nn[2]-nn[0])),an(this,b,Math.max(d,nn[3]-nn[1]));const hn=Math.ceil(dn+pt(this,_)*this.scaleFactor),gn=Math.ceil(dn+pt(this,b)*this.scaleFactor),[An,Sn]=this.parentDimensions;this.width=hn/An,this.height=gn/Sn,an(this,g,hn/gn),Xt(this,vn,kr).call(this);const En=this.translationX,xn=this.translationY;this.translationX=-nn[0],this.translationY=-nn[1],Xt(this,Gt,Vn).call(this),Xt(this,kt,Un).call(this),an(this,_t,hn),an(this,At,gn),this.setDims(hn,gn);const kn=Bt?dn/this.scaleFactor/2:0;this.translate(En-this.translationX-kn,xn-this.translationY-kn)},vn=new WeakSet,kr=function(){const{style:Bt}=this.div;pt(this,g)>=1?(Bt.minHeight=`${d}px`,Bt.minWidth=`${Math.round(pt(this,g)*d)}px`):(Bt.minWidth=`${d}px`,Bt.minHeight=`${Math.round(d/pt(this,g))}px`)},Wt(h,rn),Mn(h,"_defaultColor",null),Mn(h,"_defaultOpacity",1),Mn(h,"_defaultThickness",1),Mn(h,"_l10nPromise"),Mn(h,"_type","ink"),i.InkEditor=h},(e,i,s)=>{var un,zn,ht,ns,Rt,Tr,Nt,xr;Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationLayer=void 0;var o=s(1),a=s(6),c=s(3),d=s(31),h=s(32);const g=1e3,b=9,_=new WeakSet;function _e(Tt){return{width:Tt[2]-Tt[0],height:Tt[3]-Tt[1]}}class ot{static create(et){switch(et.data.annotationType){case o.AnnotationType.LINK:return new rt(et);case o.AnnotationType.TEXT:return new it(et);case o.AnnotationType.WIDGET:switch(et.data.fieldType){case"Tx":return new tt(et);case"Btn":return et.data.radioButton?new nt(et):et.data.checkBox?new st(et):new $(et);case"Ch":return new _t(et)}return new dt(et);case o.AnnotationType.POPUP:return new At(et);case o.AnnotationType.FREETEXT:return new j(et);case o.AnnotationType.LINE:return new at(et);case o.AnnotationType.SQUARE:return new yt(et);case o.AnnotationType.CIRCLE:return new lt(et);case o.AnnotationType.POLYLINE:return new vt(et);case o.AnnotationType.CARET:return new bt(et);case o.AnnotationType.INK:return new It(et);case o.AnnotationType.POLYGON:return new xt(et);case o.AnnotationType.HIGHLIGHT:return new Kt(et);case o.AnnotationType.UNDERLINE:return new Zt(et);case o.AnnotationType.SQUIGGLY:return new jt(et);case o.AnnotationType.STRIKEOUT:return new $t(et);case o.AnnotationType.STAMP:return new Qt(et);case o.AnnotationType.FILEATTACHMENT:return new Jt(et);default:return new ut(et)}}}class ut{constructor(et,{isRenderable:ct=!1,ignoreBorder:mt=!1,createQuadrilaterals:Et=!1}={}){this.isRenderable=ct,this.data=et.data,this.layer=et.layer,this.page=et.page,this.viewport=et.viewport,this.linkService=et.linkService,this.downloadManager=et.downloadManager,this.imageResourcesPath=et.imageResourcesPath,this.renderForms=et.renderForms,this.svgFactory=et.svgFactory,this.annotationStorage=et.annotationStorage,this.enableScripting=et.enableScripting,this.hasJSActions=et.hasJSActions,this._fieldObjects=et.fieldObjects,ct&&(this.container=this._createContainer(mt)),Et&&(this.quadrilaterals=this._createQuadrilaterals(mt))}_createContainer(et=!1){const{data:ct,page:mt,viewport:Et}=this,St=document.createElement("section");St.setAttribute("data-annotation-id",ct.id),ct.noRotate&&St.classList.add("norotate");const{pageWidth:Lt,pageHeight:Gt,pageX:Vt,pageY:qt}=Et.rawDims,{width:Yt,height:sn}=_e(ct.rect),tn=o.Util.normalizeRect([ct.rect[0],mt.view[3]-ct.rect[1]+mt.view[1],ct.rect[2],mt.view[3]-ct.rect[3]+mt.view[1]]);if(!et&&ct.borderStyle.width>0){St.style.borderWidth=`${ct.borderStyle.width}px`;const ln=ct.borderStyle.horizontalCornerRadius,pn=ct.borderStyle.verticalCornerRadius;if(ln>0||pn>0){const _n=`calc(${ln}px * var(--scale-factor)) / calc(${pn}px * var(--scale-factor))`;St.style.borderRadius=_n}else if(this instanceof nt){const _n=`calc(${Yt}px * var(--scale-factor)) / calc(${sn}px * var(--scale-factor))`;St.style.borderRadius=_n}switch(ct.borderStyle.style){case o.AnnotationBorderStyleType.SOLID:St.style.borderStyle="solid";break;case o.AnnotationBorderStyleType.DASHED:St.style.borderStyle="dashed";break;case o.AnnotationBorderStyleType.BEVELED:(0,o.warn)("Unimplemented border style: beveled");break;case o.AnnotationBorderStyleType.INSET:(0,o.warn)("Unimplemented border style: inset");break;case o.AnnotationBorderStyleType.UNDERLINE:St.style.borderBottomStyle="solid";break}const yn=ct.borderColor||null;yn?St.style.borderColor=o.Util.makeHexColor(yn[0]|0,yn[1]|0,yn[2]|0):St.style.borderWidth=0}St.style.left=`${100*(tn[0]-Vt)/Lt}%`,St.style.top=`${100*(tn[1]-qt)/Gt}%`;const{rotation:rn}=ct;return ct.hasOwnCanvas||rn===0?(St.style.width=`${100*Yt/Lt}%`,St.style.height=`${100*sn/Gt}%`):this.setRotation(rn,St),St}setRotation(et,ct=this.container){const{pageWidth:mt,pageHeight:Et}=this.viewport.rawDims,{width:St,height:Lt}=_e(this.data.rect);let Gt,Vt;et%180===0?(Gt=100*St/mt,Vt=100*Lt/Et):(Gt=100*Lt/mt,Vt=100*St/Et),ct.style.width=`${Gt}%`,ct.style.height=`${Vt}%`,ct.setAttribute("data-main-rotation",(360-et)%360)}get _commonActions(){const et=(ct,mt,Et)=>{const St=Et.detail[ct];Et.target.style[mt]=d.ColorConverters[`${St[0]}_HTML`](St.slice(1))};return(0,o.shadow)(this,"_commonActions",{display:ct=>{const mt=ct.detail.display%2===1;this.container.style.visibility=mt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:mt,print:ct.detail.display===0||ct.detail.display===3})},print:ct=>{this.annotationStorage.setValue(this.data.id,{print:ct.detail.print})},hidden:ct=>{this.container.style.visibility=ct.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:ct.detail.hidden})},focus:ct=>{setTimeout(()=>ct.target.focus({preventScroll:!1}),0)},userName:ct=>{ct.target.title=ct.detail.userName},readonly:ct=>{ct.detail.readonly?ct.target.setAttribute("readonly",""):ct.target.removeAttribute("readonly")},required:ct=>{this._setRequired(ct.target,ct.detail.required)},bgColor:ct=>{et("bgColor","backgroundColor",ct)},fillColor:ct=>{et("fillColor","backgroundColor",ct)},fgColor:ct=>{et("fgColor","color",ct)},textColor:ct=>{et("textColor","color",ct)},borderColor:ct=>{et("borderColor","borderColor",ct)},strokeColor:ct=>{et("strokeColor","borderColor",ct)},rotation:ct=>{const mt=ct.detail.rotation;this.setRotation(mt),this.annotationStorage.setValue(this.data.id,{rotation:mt})}})}_dispatchEventFromSandbox(et,ct){const mt=this._commonActions;for(const Et of Object.keys(ct.detail)){const St=et[Et]||mt[Et];St==null||St(ct)}}_setDefaultPropertiesFromJS(et){if(!this.enableScripting)return;const ct=this.annotationStorage.getRawValue(this.data.id);if(!ct)return;const mt=this._commonActions;for(const[Et,St]of Object.entries(ct)){const Lt=mt[Et];if(Lt){const Gt={detail:{[Et]:St},target:et};Lt(Gt),delete ct[Et]}}}_createQuadrilaterals(et=!1){if(!this.data.quadPoints)return null;const ct=[],mt=this.data.rect;for(const Et of this.data.quadPoints)this.data.rect=[Et[2].x,Et[2].y,Et[1].x,Et[1].y],ct.push(this._createContainer(et));return this.data.rect=mt,ct}_createPopup(et,ct){let mt=this.container;this.quadrilaterals&&(et||(et=this.quadrilaterals),mt=this.quadrilaterals[0]),et||(et=document.createElement("div"),et.classList.add("popupTriggerArea"),mt.append(et));const St=new ft({container:mt,trigger:et,color:ct.color,titleObj:ct.titleObj,modificationDate:ct.modificationDate,contentsObj:ct.contentsObj,richText:ct.richText,hideWrapper:!0}).render();St.style.left="100%",mt.append(St)}_renderQuadrilaterals(et){for(const ct of this.quadrilaterals)ct.classList.add(et);return this.quadrilaterals}render(){(0,o.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(et,ct=null){const mt=[];if(this._fieldObjects){const Et=this._fieldObjects[et];if(Et)for(const{page:St,id:Lt,exportValues:Gt}of Et){if(St===-1||Lt===ct)continue;const Vt=typeof Gt=="string"?Gt:null,qt=document.querySelector(`[data-element-id="${Lt}"]`);if(qt&&!_.has(qt)){(0,o.warn)(`_getElementsByName - element not allowed: ${Lt}`);continue}mt.push({id:Lt,exportValue:Vt,domElement:qt})}return mt}for(const Et of document.getElementsByName(et)){const{exportValue:St}=Et,Lt=Et.getAttribute("data-element-id");Lt!==ct&&_.has(Et)&&mt.push({id:Lt,exportValue:St,domElement:Et})}return mt}}class rt extends ut{constructor(ct,mt=null){super(ct,{isRenderable:!0,ignoreBorder:!!(mt!=null&&mt.ignoreBorder),createQuadrilaterals:!0});Wt(this,un);Wt(this,ht);this.isTooltipOnly=ct.data.isTooltipOnly}render(){const{data:ct,linkService:mt}=this,Et=document.createElement("a");Et.setAttribute("data-element-id",ct.id);let St=!1;return ct.url?(mt.addLinkAttributes(Et,ct.url,ct.newWindow),St=!0):ct.action?(this._bindNamedAction(Et,ct.action),St=!0):ct.attachment?(this._bindAttachment(Et,ct.attachment),St=!0):ct.setOCGState?(Xt(this,ht,ns).call(this,Et,ct.setOCGState),St=!0):ct.dest?(this._bindLink(Et,ct.dest),St=!0):(ct.actions&&(ct.actions.Action||ct.actions["Mouse Up"]||ct.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Et,ct),St=!0),ct.resetForm?(this._bindResetFormAction(Et,ct.resetForm),St=!0):this.isTooltipOnly&&!St&&(this._bindLink(Et,""),St=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((Lt,Gt)=>{const Vt=Gt===0?Et:Et.cloneNode();return Lt.append(Vt),Lt}):(this.container.classList.add("linkAnnotation"),St&&this.container.append(Et),this.container)}_bindLink(ct,mt){ct.href=this.linkService.getDestinationHash(mt),ct.onclick=()=>(mt&&this.linkService.goToDestination(mt),!1),(mt||mt==="")&&Xt(this,un,zn).call(this)}_bindNamedAction(ct,mt){ct.href=this.linkService.getAnchorUrl(""),ct.onclick=()=>(this.linkService.executeNamedAction(mt),!1),Xt(this,un,zn).call(this)}_bindAttachment(ct,mt){ct.href=this.linkService.getAnchorUrl(""),ct.onclick=()=>{var Et;return(Et=this.downloadManager)==null||Et.openOrDownloadData(this.container,mt.content,mt.filename),!1},Xt(this,un,zn).call(this)}_bindJSAction(ct,mt){ct.href=this.linkService.getAnchorUrl("");const Et=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const St of Object.keys(mt.actions)){const Lt=Et.get(St);Lt&&(ct[Lt]=()=>{var Gt;return(Gt=this.linkService.eventBus)==null||Gt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:mt.id,name:St}}),!1})}ct.onclick||(ct.onclick=()=>!1),Xt(this,un,zn).call(this)}_bindResetFormAction(ct,mt){const Et=ct.onclick;if(Et||(ct.href=this.linkService.getAnchorUrl("")),Xt(this,un,zn).call(this),!this._fieldObjects){(0,o.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Et||(ct.onclick=()=>!1);return}ct.onclick=()=>{var sn;Et==null||Et();const{fields:St,refs:Lt,include:Gt}=mt,Vt=[];if(St.length!==0||Lt.length!==0){const tn=new Set(Lt);for(const rn of St){const ln=this._fieldObjects[rn]||[];for(const{id:pn}of ln)tn.add(pn)}for(const rn of Object.values(this._fieldObjects))for(const ln of rn)tn.has(ln.id)===Gt&&Vt.push(ln)}else for(const tn of Object.values(this._fieldObjects))Vt.push(...tn);const qt=this.annotationStorage,Yt=[];for(const tn of Vt){const{id:rn}=tn;switch(Yt.push(rn),tn.type){case"text":{const pn=tn.defaultValue||"";qt.setValue(rn,{value:pn});break}case"checkbox":case"radiobutton":{const pn=tn.defaultValue===tn.exportValues;qt.setValue(rn,{value:pn});break}case"combobox":case"listbox":{const pn=tn.defaultValue||"";qt.setValue(rn,{value:pn});break}default:continue}const ln=document.querySelector(`[data-element-id="${rn}"]`);if(ln){if(!_.has(ln)){(0,o.warn)(`_bindResetFormAction - element not allowed: ${rn}`);continue}}else continue;ln.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((sn=this.linkService.eventBus)==null||sn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Yt,name:"ResetForm"}})),!1}}}un=new WeakSet,zn=function(){this.container.setAttribute("data-internal-link","")},ht=new WeakSet,ns=function(ct,mt){ct.href=this.linkService.getAnchorUrl(""),ct.onclick=()=>(this.linkService.executeSetOCGState(mt),!1),Xt(this,un,zn).call(this)};class it extends ut{constructor(et){var mt,Et,St;const ct=!!(et.data.hasPopup||(mt=et.data.titleObj)!=null&&mt.str||(Et=et.data.contentsObj)!=null&&Et.str||(St=et.data.richText)!=null&&St.str);super(et,{isRenderable:ct})}render(){this.container.classList.add("textAnnotation");const et=document.createElement("img");return et.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",et.alt="[{{type}} Annotation]",et.dataset.l10nId="text_annotation_type",et.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(et,this.data),this.container.append(et),this.container}}class dt extends ut{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(et){var ct;this.data.hasOwnCanvas&&(((ct=et.previousSibling)==null?void 0:ct.nodeName)==="CANVAS"&&(et.previousSibling.hidden=!0),et.hidden=!1)}_getKeyModifier(et){const{isWin:ct,isMac:mt}=o.FeatureTest.platform;return ct&&et.ctrlKey||mt&&et.metaKey}_setEventListener(et,ct,mt,Et){ct.includes("mouse")?et.addEventListener(ct,St=>{var Lt;(Lt=this.linkService.eventBus)==null||Lt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:mt,value:Et(St),shift:St.shiftKey,modifier:this._getKeyModifier(St)}})}):et.addEventListener(ct,St=>{var Lt;(Lt=this.linkService.eventBus)==null||Lt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:mt,value:Et(St)}})})}_setEventListeners(et,ct,mt){var Et;for(const[St,Lt]of ct)(Lt==="Action"||(Et=this.data.actions)!=null&&Et[Lt])&&this._setEventListener(et,St,Lt,mt)}_setBackgroundColor(et){const ct=this.data.backgroundColor||null;et.style.backgroundColor=ct===null?"transparent":o.Util.makeHexColor(ct[0],ct[1],ct[2])}_setTextStyle(et){const ct=["left","center","right"],{fontColor:mt}=this.data.defaultAppearanceData,Et=this.data.defaultAppearanceData.fontSize||b,St=et.style;let Lt;const Gt=2,Vt=qt=>Math.round(10*qt)/10;if(this.data.multiLine){const qt=Math.abs(this.data.rect[3]-this.data.rect[1]-Gt),Yt=Math.round(qt/(o.LINE_FACTOR*Et))||1,sn=qt/Yt;Lt=Math.min(Et,Vt(sn/o.LINE_FACTOR))}else{const qt=Math.abs(this.data.rect[3]-this.data.rect[1]-Gt);Lt=Math.min(Et,Vt(qt/o.LINE_FACTOR))}St.fontSize=`calc(${Lt}px * var(--scale-factor))`,St.color=o.Util.makeHexColor(mt[0],mt[1],mt[2]),this.data.textAlignment!==null&&(St.textAlign=ct[this.data.textAlignment])}_setRequired(et,ct){ct?et.setAttribute("required",!0):et.removeAttribute("required"),et.setAttribute("aria-required",ct)}}class tt extends dt{constructor(et){const ct=et.renderForms||!et.data.hasAppearance&&!!et.data.fieldValue;super(et,{isRenderable:ct})}setPropertyOnSiblings(et,ct,mt,Et){const St=this.annotationStorage;for(const Lt of this._getElementsByName(et.name,et.id))Lt.domElement&&(Lt.domElement[ct]=mt),St.setValue(Lt.id,{[Et]:mt})}render(){var Et,St;const et=this.annotationStorage,ct=this.data.id;this.container.classList.add("textWidgetAnnotation");let mt=null;if(this.renderForms){const Lt=et.getValue(ct,{value:this.data.fieldValue});let Gt=Lt.value||"";const Vt=et.getValue(ct,{charLimit:this.data.maxLen}).charLimit;Vt&&Gt.length>Vt&&(Gt=Gt.slice(0,Vt));let qt=Lt.formattedValue||((Et=this.data.textContent)==null?void 0:Et.join(`
`))||null;qt&&this.data.comb&&(qt=qt.replaceAll(/\s+/g,""));const Yt={userValue:Gt,formattedValue:qt,lastCommittedValue:null,commitKey:1};this.data.multiLine?(mt=document.createElement("textarea"),mt.textContent=qt??Gt,this.data.doNotScroll&&(mt.style.overflowY="hidden")):(mt=document.createElement("input"),mt.type="text",mt.setAttribute("value",qt??Gt),this.data.doNotScroll&&(mt.style.overflowX="hidden")),this.data.hasOwnCanvas&&(mt.hidden=!0),_.add(mt),mt.setAttribute("data-element-id",ct),mt.disabled=this.data.readOnly,mt.name=this.data.fieldName,mt.tabIndex=g,this._setRequired(mt,this.data.required),Vt&&(mt.maxLength=Vt),mt.addEventListener("input",tn=>{et.setValue(ct,{value:tn.target.value}),this.setPropertyOnSiblings(mt,"value",tn.target.value,"value"),Yt.formattedValue=null}),mt.addEventListener("resetform",tn=>{const rn=this.data.defaultFieldValue??"";mt.value=Yt.userValue=rn,Yt.formattedValue=null});let sn=tn=>{const{formattedValue:rn}=Yt;rn!=null&&(tn.target.value=rn),tn.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){mt.addEventListener("focus",rn=>{const{target:ln}=rn;Yt.userValue&&(ln.value=Yt.userValue),Yt.lastCommittedValue=ln.value,Yt.commitKey=1}),mt.addEventListener("updatefromsandbox",rn=>{this.showElementAndHideCanvas(rn.target);const ln={value(pn){Yt.userValue=pn.detail.value??"",et.setValue(ct,{value:Yt.userValue.toString()}),pn.target.value=Yt.userValue},formattedValue(pn){const{formattedValue:yn}=pn.detail;Yt.formattedValue=yn,yn!=null&&pn.target!==document.activeElement&&(pn.target.value=yn),et.setValue(ct,{formattedValue:yn})},selRange(pn){pn.target.setSelectionRange(...pn.detail.selRange)},charLimit:pn=>{var cn;const{charLimit:yn}=pn.detail,{target:_n}=pn;if(yn===0){_n.removeAttribute("maxLength");return}_n.setAttribute("maxLength",yn);let Ut=Yt.userValue;!Ut||Ut.length<=yn||(Ut=Ut.slice(0,yn),_n.value=Yt.userValue=Ut,et.setValue(ct,{value:Ut}),(cn=this.linkService.eventBus)==null||cn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ct,name:"Keystroke",value:Ut,willCommit:!0,commitKey:1,selStart:_n.selectionStart,selEnd:_n.selectionEnd}}))}};this._dispatchEventFromSandbox(ln,rn)}),mt.addEventListener("keydown",rn=>{var yn;Yt.commitKey=1;let ln=-1;if(rn.key==="Escape"?ln=0:rn.key==="Enter"&&!this.data.multiLine?ln=2:rn.key==="Tab"&&(Yt.commitKey=3),ln===-1)return;const{value:pn}=rn.target;Yt.lastCommittedValue!==pn&&(Yt.lastCommittedValue=pn,Yt.userValue=pn,(yn=this.linkService.eventBus)==null||yn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ct,name:"Keystroke",value:pn,willCommit:!0,commitKey:ln,selStart:rn.target.selectionStart,selEnd:rn.target.selectionEnd}}))});const tn=sn;sn=null,mt.addEventListener("blur",rn=>{var pn;if(!rn.relatedTarget)return;const{value:ln}=rn.target;Yt.userValue=ln,Yt.lastCommittedValue!==ln&&((pn=this.linkService.eventBus)==null||pn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ct,name:"Keystroke",value:ln,willCommit:!0,commitKey:Yt.commitKey,selStart:rn.target.selectionStart,selEnd:rn.target.selectionEnd}})),tn(rn)}),(St=this.data.actions)!=null&&St.Keystroke&&mt.addEventListener("beforeinput",rn=>{var Ht;Yt.lastCommittedValue=null;const{data:ln,target:pn}=rn,{value:yn,selectionStart:_n,selectionEnd:Ut}=pn;let cn=_n,zt=Ut;switch(rn.inputType){case"deleteWordBackward":{const Ft=yn.substring(0,_n).match(/\w*[^\w]*$/);Ft&&(cn-=Ft[0].length);break}case"deleteWordForward":{const Ft=yn.substring(_n).match(/^[^\w]*\w*/);Ft&&(zt+=Ft[0].length);break}case"deleteContentBackward":_n===Ut&&(cn-=1);break;case"deleteContentForward":_n===Ut&&(zt+=1);break}rn.preventDefault(),(Ht=this.linkService.eventBus)==null||Ht.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ct,name:"Keystroke",value:yn,change:ln||"",willCommit:!1,selStart:cn,selEnd:zt}})}),this._setEventListeners(mt,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],rn=>rn.target.value)}if(sn&&mt.addEventListener("blur",sn),this.data.comb){const rn=(this.data.rect[2]-this.data.rect[0])/Vt;mt.classList.add("comb"),mt.style.letterSpacing=`calc(${rn}px * var(--scale-factor) - 1ch)`}}else mt=document.createElement("div"),mt.textContent=this.data.fieldValue,mt.style.verticalAlign="middle",mt.style.display="table-cell";return this._setTextStyle(mt),this._setBackgroundColor(mt),this._setDefaultPropertiesFromJS(mt),this.container.append(mt),this.container}}class st extends dt{constructor(et){super(et,{isRenderable:et.renderForms})}render(){const et=this.annotationStorage,ct=this.data,mt=ct.id;let Et=et.getValue(mt,{value:ct.exportValue===ct.fieldValue}).value;typeof Et=="string"&&(Et=Et!=="Off",et.setValue(mt,{value:Et})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const St=document.createElement("input");return _.add(St),St.setAttribute("data-element-id",mt),St.disabled=ct.readOnly,this._setRequired(St,this.data.required),St.type="checkbox",St.name=ct.fieldName,Et&&St.setAttribute("checked",!0),St.setAttribute("exportValue",ct.exportValue),St.tabIndex=g,St.addEventListener("change",Lt=>{const{name:Gt,checked:Vt}=Lt.target;for(const qt of this._getElementsByName(Gt,mt)){const Yt=Vt&&qt.exportValue===ct.exportValue;qt.domElement&&(qt.domElement.checked=Yt),et.setValue(qt.id,{value:Yt})}et.setValue(mt,{value:Vt})}),St.addEventListener("resetform",Lt=>{const Gt=ct.defaultFieldValue||"Off";Lt.target.checked=Gt===ct.exportValue}),this.enableScripting&&this.hasJSActions&&(St.addEventListener("updatefromsandbox",Lt=>{const Gt={value(Vt){Vt.target.checked=Vt.detail.value!=="Off",et.setValue(mt,{value:Vt.target.checked})}};this._dispatchEventFromSandbox(Gt,Lt)}),this._setEventListeners(St,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Lt=>Lt.target.checked)),this._setBackgroundColor(St),this._setDefaultPropertiesFromJS(St),this.container.append(St),this.container}}class nt extends dt{constructor(et){super(et,{isRenderable:et.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const et=this.annotationStorage,ct=this.data,mt=ct.id;let Et=et.getValue(mt,{value:ct.fieldValue===ct.buttonValue}).value;typeof Et=="string"&&(Et=Et!==ct.buttonValue,et.setValue(mt,{value:Et}));const St=document.createElement("input");if(_.add(St),St.setAttribute("data-element-id",mt),St.disabled=ct.readOnly,this._setRequired(St,this.data.required),St.type="radio",St.name=ct.fieldName,Et&&St.setAttribute("checked",!0),St.tabIndex=g,St.addEventListener("change",Lt=>{const{name:Gt,checked:Vt}=Lt.target;for(const qt of this._getElementsByName(Gt,mt))et.setValue(qt.id,{value:!1});et.setValue(mt,{value:Vt})}),St.addEventListener("resetform",Lt=>{const Gt=ct.defaultFieldValue;Lt.target.checked=Gt!=null&&Gt===ct.buttonValue}),this.enableScripting&&this.hasJSActions){const Lt=ct.buttonValue;St.addEventListener("updatefromsandbox",Gt=>{const Vt={value:qt=>{const Yt=Lt===qt.detail.value;for(const sn of this._getElementsByName(qt.target.name)){const tn=Yt&&sn.id===mt;sn.domElement&&(sn.domElement.checked=tn),et.setValue(sn.id,{value:tn})}}};this._dispatchEventFromSandbox(Vt,Gt)}),this._setEventListeners(St,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Gt=>Gt.target.checked)}return this._setBackgroundColor(St),this._setDefaultPropertiesFromJS(St),this.container.append(St),this.container}}class $ extends rt{constructor(et){super(et,{ignoreBorder:et.data.hasAppearance})}render(){const et=super.render();et.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(et.title=this.data.alternativeText);const ct=et.lastChild;return this.enableScripting&&this.hasJSActions&&ct&&(this._setDefaultPropertiesFromJS(ct),ct.addEventListener("updatefromsandbox",mt=>{this._dispatchEventFromSandbox({},mt)})),et}}class _t extends dt{constructor(et){super(et,{isRenderable:et.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const et=this.annotationStorage,ct=this.data.id,mt=et.getValue(ct,{value:this.data.fieldValue}),Et=document.createElement("select");_.add(Et),Et.setAttribute("data-element-id",ct),Et.disabled=this.data.readOnly,this._setRequired(Et,this.data.required),Et.name=this.data.fieldName,Et.tabIndex=g;let St=this.data.combo&&this.data.options.length>0;this.data.combo||(Et.size=this.data.options.length,this.data.multiSelect&&(Et.multiple=!0)),Et.addEventListener("resetform",Yt=>{const sn=this.data.defaultFieldValue;for(const tn of Et.options)tn.selected=tn.value===sn});for(const Yt of this.data.options){const sn=document.createElement("option");sn.textContent=Yt.displayValue,sn.value=Yt.exportValue,mt.value.includes(Yt.exportValue)&&(sn.setAttribute("selected",!0),St=!1),Et.append(sn)}let Lt=null;if(St){const Yt=document.createElement("option");Yt.value=" ",Yt.setAttribute("hidden",!0),Yt.setAttribute("selected",!0),Et.prepend(Yt),Lt=()=>{Yt.remove(),Et.removeEventListener("input",Lt),Lt=null},Et.addEventListener("input",Lt)}const Gt=Yt=>{const sn=Yt?"value":"textContent",{options:tn,multiple:rn}=Et;return rn?Array.prototype.filter.call(tn,ln=>ln.selected).map(ln=>ln[sn]):tn.selectedIndex===-1?null:tn[tn.selectedIndex][sn]};let Vt=Gt(!1);const qt=Yt=>{const sn=Yt.target.options;return Array.prototype.map.call(sn,tn=>({displayValue:tn.textContent,exportValue:tn.value}))};return this.enableScripting&&this.hasJSActions?(Et.addEventListener("updatefromsandbox",Yt=>{const sn={value(tn){Lt==null||Lt();const rn=tn.detail.value,ln=new Set(Array.isArray(rn)?rn:[rn]);for(const pn of Et.options)pn.selected=ln.has(pn.value);et.setValue(ct,{value:Gt(!0)}),Vt=Gt(!1)},multipleSelection(tn){Et.multiple=!0},remove(tn){const rn=Et.options,ln=tn.detail.remove;rn[ln].selected=!1,Et.remove(ln),rn.length>0&&Array.prototype.findIndex.call(rn,yn=>yn.selected)===-1&&(rn[0].selected=!0),et.setValue(ct,{value:Gt(!0),items:qt(tn)}),Vt=Gt(!1)},clear(tn){for(;Et.length!==0;)Et.remove(0);et.setValue(ct,{value:null,items:[]}),Vt=Gt(!1)},insert(tn){const{index:rn,displayValue:ln,exportValue:pn}=tn.detail.insert,yn=Et.children[rn],_n=document.createElement("option");_n.textContent=ln,_n.value=pn,yn?yn.before(_n):Et.append(_n),et.setValue(ct,{value:Gt(!0),items:qt(tn)}),Vt=Gt(!1)},items(tn){const{items:rn}=tn.detail;for(;Et.length!==0;)Et.remove(0);for(const ln of rn){const{displayValue:pn,exportValue:yn}=ln,_n=document.createElement("option");_n.textContent=pn,_n.value=yn,Et.append(_n)}Et.options.length>0&&(Et.options[0].selected=!0),et.setValue(ct,{value:Gt(!0),items:qt(tn)}),Vt=Gt(!1)},indices(tn){const rn=new Set(tn.detail.indices);for(const ln of tn.target.options)ln.selected=rn.has(ln.index);et.setValue(ct,{value:Gt(!0)}),Vt=Gt(!1)},editable(tn){tn.target.disabled=!tn.detail.editable}};this._dispatchEventFromSandbox(sn,Yt)}),Et.addEventListener("input",Yt=>{var tn;const sn=Gt(!0);et.setValue(ct,{value:sn}),Yt.preventDefault(),(tn=this.linkService.eventBus)==null||tn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ct,name:"Keystroke",value:Vt,changeEx:sn,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Et,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Yt=>Yt.target.value)):Et.addEventListener("input",function(Yt){et.setValue(ct,{value:Gt(!0)})}),this.data.combo&&this._setTextStyle(Et),this._setBackgroundColor(Et),this._setDefaultPropertiesFromJS(Et),this.container.append(Et),this.container}}const wt=class extends ut{constructor(et){var Et,St,Lt;const{data:ct}=et,mt=!wt.IGNORE_TYPES.has(ct.parentType)&&!!((Et=ct.titleObj)!=null&&Et.str||(St=ct.contentsObj)!=null&&St.str||(Lt=ct.richText)!=null&&Lt.str);super(et,{isRenderable:mt})}render(){this.container.classList.add("popupAnnotation");const et=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(et.length===0)return this.container;const ct=new ft({container:this.container,trigger:Array.from(et),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),mt=this.page,Et=o.Util.normalizeRect([this.data.parentRect[0],mt.view[3]-this.data.parentRect[1]+mt.view[1],this.data.parentRect[2],mt.view[3]-this.data.parentRect[3]+mt.view[1]]),St=Et[0]+this.data.parentRect[2]-this.data.parentRect[0],Lt=Et[1],{pageWidth:Gt,pageHeight:Vt,pageX:qt,pageY:Yt}=this.viewport.rawDims;return this.container.style.left=`${100*(St-qt)/Gt}%`,this.container.style.top=`${100*(Lt-Yt)/Vt}%`,this.container.append(ct.render()),this.container}};let At=wt;Mn(At,"IGNORE_TYPES",new Set(["Line","Square","Circle","PolyLine","Polygon","Ink"]));class ft{constructor(et){this.container=et.container,this.trigger=et.trigger,this.color=et.color,this.titleObj=et.titleObj,this.modificationDate=et.modificationDate,this.contentsObj=et.contentsObj,this.richText=et.richText,this.hideWrapper=et.hideWrapper||!1,this.pinned=!1}render(){var Gt,Vt;const ct=document.createElement("div");ct.classList.add("popupWrapper"),this.hideElement=this.hideWrapper?ct:this.container,this.hideElement.hidden=!0;const mt=document.createElement("div");mt.classList.add("popup");const Et=this.color;if(Et){const qt=.7*(255-Et[0])+Et[0],Yt=.7*(255-Et[1])+Et[1],sn=.7*(255-Et[2])+Et[2];mt.style.backgroundColor=o.Util.makeHexColor(qt|0,Yt|0,sn|0)}const St=document.createElement("h1");St.dir=this.titleObj.dir,St.textContent=this.titleObj.str,mt.append(St);const Lt=a.PDFDateString.toDateObject(this.modificationDate);if(Lt){const qt=document.createElement("span");qt.classList.add("popupDate"),qt.textContent="{{date}}, {{time}}",qt.dataset.l10nId="annotation_date_string",qt.dataset.l10nArgs=JSON.stringify({date:Lt.toLocaleDateString(),time:Lt.toLocaleTimeString()}),mt.append(qt)}if((Gt=this.richText)!=null&&Gt.str&&(!((Vt=this.contentsObj)!=null&&Vt.str)||this.contentsObj.str===this.richText.str))h.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:mt}),mt.lastChild.classList.add("richText","popupContent");else{const qt=this._formatContents(this.contentsObj);mt.append(qt)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const qt of this.trigger)qt.addEventListener("click",this._toggle.bind(this)),qt.addEventListener("mouseover",this._show.bind(this,!1)),qt.addEventListener("mouseout",this._hide.bind(this,!1));return mt.addEventListener("click",this._hide.bind(this,!0)),ct.append(mt),ct}_formatContents({str:et,dir:ct}){const mt=document.createElement("p");mt.classList.add("popupContent"),mt.dir=ct;const Et=et.split(/(?:\r\n?|\n)/);for(let St=0,Lt=Et.length;St<Lt;++St){const Gt=Et[St];mt.append(document.createTextNode(Gt)),St<Lt-1&&mt.append(document.createElement("br"))}return mt}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(et=!1){et&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(et=!0){et&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class j extends ut{constructor(et){var mt,Et,St;const ct=!!(et.data.hasPopup||(mt=et.data.titleObj)!=null&&mt.str||(Et=et.data.contentsObj)!=null&&Et.str||(St=et.data.richText)!=null&&St.str);super(et,{isRenderable:ct,ignoreBorder:!0}),this.textContent=et.data.textContent}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const et=document.createElement("div");et.classList.add("annotationTextContent"),et.setAttribute("role","comment");for(const ct of this.textContent){const mt=document.createElement("span");mt.textContent=ct,et.append(mt)}this.container.append(et)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class at extends ut{constructor(et){var mt,Et,St;const ct=!!(et.data.hasPopup||(mt=et.data.titleObj)!=null&&mt.str||(Et=et.data.contentsObj)!=null&&Et.str||(St=et.data.richText)!=null&&St.str);super(et,{isRenderable:ct,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const et=this.data,{width:ct,height:mt}=_e(et.rect),Et=this.svgFactory.create(ct,mt,!0),St=this.svgFactory.createElement("svg:line");return St.setAttribute("x1",et.rect[2]-et.lineCoordinates[0]),St.setAttribute("y1",et.rect[3]-et.lineCoordinates[1]),St.setAttribute("x2",et.rect[2]-et.lineCoordinates[2]),St.setAttribute("y2",et.rect[3]-et.lineCoordinates[3]),St.setAttribute("stroke-width",et.borderStyle.width||1),St.setAttribute("stroke","transparent"),St.setAttribute("fill","transparent"),Et.append(St),this.container.append(Et),this._createPopup(St,et),this.container}}class yt extends ut{constructor(et){var mt,Et,St;const ct=!!(et.data.hasPopup||(mt=et.data.titleObj)!=null&&mt.str||(Et=et.data.contentsObj)!=null&&Et.str||(St=et.data.richText)!=null&&St.str);super(et,{isRenderable:ct,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const et=this.data,{width:ct,height:mt}=_e(et.rect),Et=this.svgFactory.create(ct,mt,!0),St=et.borderStyle.width,Lt=this.svgFactory.createElement("svg:rect");return Lt.setAttribute("x",St/2),Lt.setAttribute("y",St/2),Lt.setAttribute("width",ct-St),Lt.setAttribute("height",mt-St),Lt.setAttribute("stroke-width",St||1),Lt.setAttribute("stroke","transparent"),Lt.setAttribute("fill","transparent"),Et.append(Lt),this.container.append(Et),this._createPopup(Lt,et),this.container}}class lt extends ut{constructor(et){var mt,Et,St;const ct=!!(et.data.hasPopup||(mt=et.data.titleObj)!=null&&mt.str||(Et=et.data.contentsObj)!=null&&Et.str||(St=et.data.richText)!=null&&St.str);super(et,{isRenderable:ct,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const et=this.data,{width:ct,height:mt}=_e(et.rect),Et=this.svgFactory.create(ct,mt,!0),St=et.borderStyle.width,Lt=this.svgFactory.createElement("svg:ellipse");return Lt.setAttribute("cx",ct/2),Lt.setAttribute("cy",mt/2),Lt.setAttribute("rx",ct/2-St/2),Lt.setAttribute("ry",mt/2-St/2),Lt.setAttribute("stroke-width",St||1),Lt.setAttribute("stroke","transparent"),Lt.setAttribute("fill","transparent"),Et.append(Lt),this.container.append(Et),this._createPopup(Lt,et),this.container}}class vt extends ut{constructor(et){var mt,Et,St;const ct=!!(et.data.hasPopup||(mt=et.data.titleObj)!=null&&mt.str||(Et=et.data.contentsObj)!=null&&Et.str||(St=et.data.richText)!=null&&St.str);super(et,{isRenderable:ct,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const et=this.data,{width:ct,height:mt}=_e(et.rect),Et=this.svgFactory.create(ct,mt,!0);let St=[];for(const Gt of et.vertices){const Vt=Gt.x-et.rect[0],qt=et.rect[3]-Gt.y;St.push(Vt+","+qt)}St=St.join(" ");const Lt=this.svgFactory.createElement(this.svgElementName);return Lt.setAttribute("points",St),Lt.setAttribute("stroke-width",et.borderStyle.width||1),Lt.setAttribute("stroke","transparent"),Lt.setAttribute("fill","transparent"),Et.append(Lt),this.container.append(Et),this._createPopup(Lt,et),this.container}}class xt extends vt{constructor(et){super(et),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class bt extends ut{constructor(et){var mt,Et,St;const ct=!!(et.data.hasPopup||(mt=et.data.titleObj)!=null&&mt.str||(Et=et.data.contentsObj)!=null&&Et.str||(St=et.data.richText)!=null&&St.str);super(et,{isRenderable:ct,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),this.data.hasPopup||this._createPopup(null,this.data),this.container}}class It extends ut{constructor(et){var mt,Et,St;const ct=!!(et.data.hasPopup||(mt=et.data.titleObj)!=null&&mt.str||(Et=et.data.contentsObj)!=null&&Et.str||(St=et.data.richText)!=null&&St.str);super(et,{isRenderable:ct,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const et=this.data,{width:ct,height:mt}=_e(et.rect),Et=this.svgFactory.create(ct,mt,!0);for(const St of et.inkLists){let Lt=[];for(const Vt of St){const qt=Vt.x-et.rect[0],Yt=et.rect[3]-Vt.y;Lt.push(`${qt},${Yt}`)}Lt=Lt.join(" ");const Gt=this.svgFactory.createElement(this.svgElementName);Gt.setAttribute("points",Lt),Gt.setAttribute("stroke-width",et.borderStyle.width||1),Gt.setAttribute("stroke","transparent"),Gt.setAttribute("fill","transparent"),this._createPopup(Gt,et),Et.append(Gt)}return this.container.append(Et),this.container}}class Kt extends ut{constructor(et){var mt,Et,St;const ct=!!(et.data.hasPopup||(mt=et.data.titleObj)!=null&&mt.str||(Et=et.data.contentsObj)!=null&&Et.str||(St=et.data.richText)!=null&&St.str);super(et,{isRenderable:ct,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.classList.add("highlightAnnotation"),this.container)}}class Zt extends ut{constructor(et){var mt,Et,St;const ct=!!(et.data.hasPopup||(mt=et.data.titleObj)!=null&&mt.str||(Et=et.data.contentsObj)!=null&&Et.str||(St=et.data.richText)!=null&&St.str);super(et,{isRenderable:ct,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.classList.add("underlineAnnotation"),this.container)}}class jt extends ut{constructor(et){var mt,Et,St;const ct=!!(et.data.hasPopup||(mt=et.data.titleObj)!=null&&mt.str||(Et=et.data.contentsObj)!=null&&Et.str||(St=et.data.richText)!=null&&St.str);super(et,{isRenderable:ct,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.classList.add("squigglyAnnotation"),this.container)}}class $t extends ut{constructor(et){var mt,Et,St;const ct=!!(et.data.hasPopup||(mt=et.data.titleObj)!=null&&mt.str||(Et=et.data.contentsObj)!=null&&Et.str||(St=et.data.richText)!=null&&St.str);super(et,{isRenderable:ct,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.classList.add("strikeoutAnnotation"),this.container)}}class Qt extends ut{constructor(et){var mt,Et,St;const ct=!!(et.data.hasPopup||(mt=et.data.titleObj)!=null&&mt.str||(Et=et.data.contentsObj)!=null&&Et.str||(St=et.data.richText)!=null&&St.str);super(et,{isRenderable:ct,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Jt extends ut{constructor(et){var Et;super(et,{isRenderable:!0});const{filename:ct,content:mt}=this.data.file;this.filename=(0,a.getFilenameFromUrl)(ct,!0),this.content=mt,(Et=this.linkService.eventBus)==null||Et.dispatch("fileattachmentannotation",{source:this,filename:ct,content:mt})}render(){var ct,mt;this.container.classList.add("fileAttachmentAnnotation");let et;return this.data.hasAppearance?et=document.createElement("div"):(et=document.createElement("img"),et.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(this.data.name)?"paperclip":"pushpin"}.svg`),et.classList.add("popupTriggerArea"),et.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((ct=this.data.titleObj)!=null&&ct.str||(mt=this.data.contentsObj)!=null&&mt.str||this.data.richText)&&this._createPopup(et,this.data),this.container.append(et),this.container}_download(){var et;(et=this.downloadManager)==null||et.openOrDownloadData(this.container,this.content,this.filename)}}const kt=class{static render(et){var Vt,qt;const{annotations:ct,div:mt,viewport:Et,accessibilityManager:St}=et;(0,a.setLayerDimensions)(mt,Et);const Lt={data:null,layer:mt,page:et.page,viewport:Et,linkService:et.linkService,downloadManager:et.downloadManager,imageResourcesPath:et.imageResourcesPath||"",renderForms:et.renderForms!==!1,svgFactory:new a.DOMSVGFactory,annotationStorage:et.annotationStorage||new c.AnnotationStorage,enableScripting:et.enableScripting===!0,hasJSActions:et.hasJSActions,fieldObjects:et.fieldObjects};let Gt=0;for(const Yt of ct){if(Yt.noHTML)continue;if(Yt.annotationType!==o.AnnotationType.POPUP){const{width:rn,height:ln}=_e(Yt.rect);if(rn<=0||ln<=0)continue}Lt.data=Yt;const sn=ot.create(Lt);if(!sn.isRenderable)continue;const tn=sn.render();if(Yt.hidden&&(tn.style.visibility="hidden"),Array.isArray(tn))for(const rn of tn)rn.style.zIndex=Gt++,Xt(Vt=kt,Rt,Tr).call(Vt,rn,Yt.id,mt,St);else tn.style.zIndex=Gt++,sn instanceof At?mt.prepend(tn):Xt(qt=kt,Rt,Tr).call(qt,tn,Yt.id,mt,St)}Xt(this,Nt,xr).call(this,mt,et.annotationCanvasMap)}static update(et){const{annotationCanvasMap:ct,div:mt,viewport:Et}=et;(0,a.setLayerDimensions)(mt,{rotation:Et.rotation}),Xt(this,Nt,xr).call(this,mt,ct),mt.hidden=!1}};let on=kt;Rt=new WeakSet,Tr=function(et,ct,mt,Et){const St=et.firstChild||et;St.id=`${a.AnnotationPrefix}${ct}`,mt.append(et),Et==null||Et.moveElementInDOM(mt,et,St,!1)},Nt=new WeakSet,xr=function(et,ct){if(ct){for(const[mt,Et]of ct){const St=et.querySelector(`[data-annotation-id="${mt}"]`);if(!St)continue;const{firstChild:Lt}=St;Lt?Lt.nodeName==="CANVAS"?Lt.replaceWith(Et):Lt.before(Et):St.append(Et)}ct.clear()}},Wt(on,Rt),Wt(on,Nt),i.AnnotationLayer=on},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ColorConverters=void 0;function s(a){return Math.floor(Math.max(0,Math.min(1,a))*255).toString(16).padStart(2,"0")}class o{static CMYK_G([c,d,h,g]){return["G",1-Math.min(1,.3*c+.59*h+.11*d+g)]}static G_CMYK([c]){return["CMYK",0,0,0,1-c]}static G_RGB([c]){return["RGB",c,c,c]}static G_HTML([c]){const d=s(c);return`#${d}${d}${d}`}static RGB_G([c,d,h]){return["G",.3*c+.59*d+.11*h]}static RGB_HTML([c,d,h]){const g=s(c),b=s(d),_=s(h);return`#${g}${b}${_}`}static T_HTML(){return"#00000000"}static CMYK_RGB([c,d,h,g]){return["RGB",1-Math.min(1,c+g),1-Math.min(1,h+g),1-Math.min(1,d+g)]}static CMYK_HTML(c){const d=this.CMYK_RGB(c).slice(1);return this.RGB_HTML(d)}static RGB_CMYK([c,d,h]){const g=1-c,b=1-d,_=1-h,_e=Math.min(g,b,_);return["CMYK",g,b,_,_e]}}i.ColorConverters=o},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaLayer=void 0;var o=s(19);class a{static setupStorage(d,h,g,b,_){const _e=b.getValue(h,{value:null});switch(g.name){case"textarea":if(_e.value!==null&&(d.textContent=_e.value),_==="print")break;d.addEventListener("input",ot=>{b.setValue(h,{value:ot.target.value})});break;case"input":if(g.attributes.type==="radio"||g.attributes.type==="checkbox"){if(_e.value===g.attributes.xfaOn?d.setAttribute("checked",!0):_e.value===g.attributes.xfaOff&&d.removeAttribute("checked"),_==="print")break;d.addEventListener("change",ot=>{b.setValue(h,{value:ot.target.checked?ot.target.getAttribute("xfaOn"):ot.target.getAttribute("xfaOff")})})}else{if(_e.value!==null&&d.setAttribute("value",_e.value),_==="print")break;d.addEventListener("input",ot=>{b.setValue(h,{value:ot.target.value})})}break;case"select":if(_e.value!==null)for(const ot of g.children)ot.attributes.value===_e.value&&(ot.attributes.selected=!0);d.addEventListener("input",ot=>{const ut=ot.target.options,rt=ut.selectedIndex===-1?"":ut[ut.selectedIndex].value;b.setValue(h,{value:rt})});break}}static setAttributes({html:d,element:h,storage:g=null,intent:b,linkService:_}){const{attributes:_e}=h,ot=d instanceof HTMLAnchorElement;_e.type==="radio"&&(_e.name=`${_e.name}-${b}`);for(const[ut,rt]of Object.entries(_e))if(rt!=null)switch(ut){case"class":rt.length&&d.setAttribute(ut,rt.join(" "));break;case"dataId":break;case"id":d.setAttribute("data-element-id",rt);break;case"style":Object.assign(d.style,rt);break;case"textContent":d.textContent=rt;break;default:(!ot||ut!=="href"&&ut!=="newWindow")&&d.setAttribute(ut,rt)}ot&&_.addLinkAttributes(d,_e.href,_e.newWindow),g&&_e.dataId&&this.setupStorage(d,_e.dataId,h,g)}static render(d){var it;const h=d.annotationStorage,g=d.linkService,b=d.xfaHtml,_=d.intent||"display",_e=document.createElement(b.name);b.attributes&&this.setAttributes({html:_e,element:b,intent:_,linkService:g});const ot=[[b,-1,_e]],ut=d.div;if(ut.append(_e),d.viewport){const dt=`matrix(${d.viewport.transform.join(",")})`;ut.style.transform=dt}_!=="richText"&&ut.setAttribute("class","xfaLayer xfaFont");const rt=[];for(;ot.length>0;){const[dt,tt,st]=ot.at(-1);if(tt+1===dt.children.length){ot.pop();continue}const nt=dt.children[++ot.at(-1)[1]];if(nt===null)continue;const{name:$}=nt;if($==="#text"){const At=document.createTextNode(nt.value);rt.push(At),st.append(At);continue}let _t;if((it=nt==null?void 0:nt.attributes)!=null&&it.xmlns?_t=document.createElementNS(nt.attributes.xmlns,$):_t=document.createElement($),st.append(_t),nt.attributes&&this.setAttributes({html:_t,element:nt,storage:h,intent:_,linkService:g}),nt.children&&nt.children.length>0)ot.push([nt,-1,_t]);else if(nt.value){const At=document.createTextNode(nt.value);o.XfaText.shouldBuildText($)&&rt.push(At),_t.append(At)}}for(const dt of ut.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))dt.setAttribute("readOnly",!0);return{textDivs:rt}}static update(d){const h=`matrix(${d.viewport.transform.join(",")})`;d.div.style.transform=h,d.div.hidden=!1}}i.XfaLayer=a},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SVGGraphics=void 0;var o=s(6),a=s(1),c=s(10);let d=class{constructor(){(0,a.unreachable)("Not implemented: SVGGraphics")}};i.SVGGraphics=d;{let st=function(j){let at=[];const yt=[];for(const lt of j){if(lt.fn==="save"){at.push({fnId:92,fn:"group",items:[]}),yt.push(at),at=at.at(-1).items;continue}lt.fn==="restore"?at=yt.pop():at.push(lt)}return at},nt=function(j){if(Number.isInteger(j))return j.toString();const at=j.toFixed(10);let yt=at.length-1;if(at[yt]!=="0")return at;do yt--;while(at[yt]==="0");return at.substring(0,at[yt]==="."?yt:yt+1)},$=function(j){if(j[4]===0&&j[5]===0){if(j[1]===0&&j[2]===0)return j[0]===1&&j[3]===1?"":`scale(${nt(j[0])} ${nt(j[3])})`;if(j[0]===j[3]&&j[1]===-j[2]){const at=Math.acos(j[0])*180/Math.PI;return`rotate(${nt(at)})`}}else if(j[0]===1&&j[1]===0&&j[2]===0&&j[3]===1)return`translate(${nt(j[4])} ${nt(j[5])})`;return`matrix(${nt(j[0])} ${nt(j[1])} ${nt(j[2])} ${nt(j[3])} ${nt(j[4])} ${nt(j[5])})`};var h=st,g=nt,b=$;const _={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},_e="http://www.w3.org/XML/1998/namespace",ot="http://www.w3.org/1999/xlink",ut=["butt","round","square"],rt=["miter","round","bevel"],it=function(j,at="",yt=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!yt)return URL.createObjectURL(new Blob([j],{type:at}));const lt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let vt=`data:${at};base64,`;for(let xt=0,bt=j.length;xt<bt;xt+=3){const It=j[xt]&255,Kt=j[xt+1]&255,Zt=j[xt+2]&255,jt=It>>2,$t=(It&3)<<4|Kt>>4,Qt=xt+1<bt?(Kt&15)<<2|Zt>>6:64,Jt=xt+2<bt?Zt&63:64;vt+=lt[jt]+lt[$t]+lt[Qt]+lt[Jt]}return vt},dt=function(){const j=new Uint8Array([137,80,78,71,13,10,26,10]),at=12,yt=new Int32Array(256);for(let Zt=0;Zt<256;Zt++){let jt=Zt;for(let $t=0;$t<8;$t++)jt&1?jt=3988292384^jt>>1&2147483647:jt=jt>>1&2147483647;yt[Zt]=jt}function lt(Zt,jt,$t){let Qt=-1;for(let Jt=jt;Jt<$t;Jt++){const on=(Qt^Zt[Jt])&255,un=yt[on];Qt=Qt>>>8^un}return Qt^-1}function vt(Zt,jt,$t,Qt){let Jt=Qt;const on=jt.length;$t[Jt]=on>>24&255,$t[Jt+1]=on>>16&255,$t[Jt+2]=on>>8&255,$t[Jt+3]=on&255,Jt+=4,$t[Jt]=Zt.charCodeAt(0)&255,$t[Jt+1]=Zt.charCodeAt(1)&255,$t[Jt+2]=Zt.charCodeAt(2)&255,$t[Jt+3]=Zt.charCodeAt(3)&255,Jt+=4,$t.set(jt,Jt),Jt+=jt.length;const un=lt($t,Qt+4,Jt);$t[Jt]=un>>24&255,$t[Jt+1]=un>>16&255,$t[Jt+2]=un>>8&255,$t[Jt+3]=un&255}function xt(Zt,jt,$t){let Qt=1,Jt=0;for(let on=jt;on<$t;++on)Qt=(Qt+(Zt[on]&255))%65521,Jt=(Jt+Qt)%65521;return Jt<<16|Qt}function bt(Zt){if(!c.isNodeJS)return It(Zt);try{let jt;parseInt(process.versions.node)>=8?jt=Zt:jt=Buffer.from(Zt);const $t=require$$5.deflateSync(jt,{level:9});return $t instanceof Uint8Array?$t:new Uint8Array($t)}catch(jt){(0,a.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+jt)}return It(Zt)}function It(Zt){let jt=Zt.length;const $t=65535,Qt=Math.ceil(jt/$t),Jt=new Uint8Array(2+jt+Qt*5+4);let on=0;Jt[on++]=120,Jt[on++]=156;let un=0;for(;jt>$t;)Jt[on++]=0,Jt[on++]=255,Jt[on++]=255,Jt[on++]=0,Jt[on++]=0,Jt.set(Zt.subarray(un,un+$t),on),on+=$t,un+=$t,jt-=$t;Jt[on++]=1,Jt[on++]=jt&255,Jt[on++]=jt>>8&255,Jt[on++]=~jt&65535&255,Jt[on++]=(~jt&65535)>>8&255,Jt.set(Zt.subarray(un),on),on+=Zt.length-un;const Ct=xt(Zt,0,Zt.length);return Jt[on++]=Ct>>24&255,Jt[on++]=Ct>>16&255,Jt[on++]=Ct>>8&255,Jt[on++]=Ct&255,Jt}function Kt(Zt,jt,$t,Qt){const Jt=Zt.width,on=Zt.height;let un,Ct,ht;const gt=Zt.data;switch(jt){case a.ImageKind.GRAYSCALE_1BPP:Ct=0,un=1,ht=Jt+7>>3;break;case a.ImageKind.RGB_24BPP:Ct=2,un=8,ht=Jt*3;break;case a.ImageKind.RGBA_32BPP:Ct=6,un=8,ht=Jt*4;break;default:throw new Error("invalid format")}const wt=new Uint8Array((1+ht)*on);let Rt=0,Mt=0;for(let ct=0;ct<on;++ct)wt[Rt++]=0,wt.set(gt.subarray(Mt,Mt+ht),Rt),Mt+=ht,Rt+=ht;if(jt===a.ImageKind.GRAYSCALE_1BPP&&Qt){Rt=0;for(let ct=0;ct<on;ct++){Rt++;for(let mt=0;mt<ht;mt++)wt[Rt++]^=255}}const Nt=new Uint8Array([Jt>>24&255,Jt>>16&255,Jt>>8&255,Jt&255,on>>24&255,on>>16&255,on>>8&255,on&255,un,Ct,0,0,0]),Pt=bt(wt),kt=j.length+at*3+Nt.length+Pt.length,Tt=new Uint8Array(kt);let et=0;return Tt.set(j,et),et+=j.length,vt("IHDR",Nt,Tt,et),et+=at+Nt.length,vt("IDATA",Pt,Tt,et),et+=at+Pt.length,vt("IEND",new Uint8Array(0),Tt,et),it(Tt,"image/png",$t)}return function(jt,$t,Qt){const Jt=jt.kind===void 0?a.ImageKind.GRAYSCALE_1BPP:jt.kind;return Kt(jt,Jt,$t,Qt)}}();class tt{constructor(){this.fontSizeScale=1,this.fontWeight=_.fontWeight,this.fontSize=0,this.textMatrix=a.IDENTITY_MATRIX,this.fontMatrix=a.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=a.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=_.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(at,yt){this.x=at,this.y=yt}}let _t=0,At=0,ft=0;i.SVGGraphics=d=class{constructor(j,at,yt=!1){(0,o.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new o.DOMSVGFactory,this.current=new tt,this.transformMatrix=a.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=j,this.objs=at,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!yt,this._operatorIdMapping=[];for(const lt in a.OPS)this._operatorIdMapping[a.OPS[lt]]=lt}getObject(j,at=null){return typeof j=="string"?j.startsWith("g_")?this.commonObjs.get(j):this.objs.get(j):at}save(){this.transformStack.push(this.transformMatrix);const j=this.current;this.extraStack.push(j),this.current=j.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(j){this.save(),this.executeOpTree(j),this.restore()}loadDependencies(j){const at=j.fnArray,yt=j.argsArray;for(let lt=0,vt=at.length;lt<vt;lt++)if(at[lt]===a.OPS.dependency)for(const xt of yt[lt]){const bt=xt.startsWith("g_")?this.commonObjs:this.objs,It=new Promise(Kt=>{bt.get(xt,Kt)});this.current.dependencies.push(It)}return Promise.all(this.current.dependencies)}transform(j,at,yt,lt,vt,xt){const bt=[j,at,yt,lt,vt,xt];this.transformMatrix=a.Util.transform(this.transformMatrix,bt),this.tgrp=null}getSVG(j,at){this.viewport=at;const yt=this._initialize(at);return this.loadDependencies(j).then(()=>(this.transformMatrix=a.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(j)),yt))}convertOpList(j){const at=this._operatorIdMapping,yt=j.argsArray,lt=j.fnArray,vt=[];for(let xt=0,bt=lt.length;xt<bt;xt++){const It=lt[xt];vt.push({fnId:It,fn:at[It],args:yt[xt]})}return st(vt)}executeOpTree(j){for(const at of j){const yt=at.fn,lt=at.fnId,vt=at.args;switch(lt|0){case a.OPS.beginText:this.beginText();break;case a.OPS.dependency:break;case a.OPS.setLeading:this.setLeading(vt);break;case a.OPS.setLeadingMoveText:this.setLeadingMoveText(vt[0],vt[1]);break;case a.OPS.setFont:this.setFont(vt);break;case a.OPS.showText:this.showText(vt[0]);break;case a.OPS.showSpacedText:this.showText(vt[0]);break;case a.OPS.endText:this.endText();break;case a.OPS.moveText:this.moveText(vt[0],vt[1]);break;case a.OPS.setCharSpacing:this.setCharSpacing(vt[0]);break;case a.OPS.setWordSpacing:this.setWordSpacing(vt[0]);break;case a.OPS.setHScale:this.setHScale(vt[0]);break;case a.OPS.setTextMatrix:this.setTextMatrix(vt[0],vt[1],vt[2],vt[3],vt[4],vt[5]);break;case a.OPS.setTextRise:this.setTextRise(vt[0]);break;case a.OPS.setTextRenderingMode:this.setTextRenderingMode(vt[0]);break;case a.OPS.setLineWidth:this.setLineWidth(vt[0]);break;case a.OPS.setLineJoin:this.setLineJoin(vt[0]);break;case a.OPS.setLineCap:this.setLineCap(vt[0]);break;case a.OPS.setMiterLimit:this.setMiterLimit(vt[0]);break;case a.OPS.setFillRGBColor:this.setFillRGBColor(vt[0],vt[1],vt[2]);break;case a.OPS.setStrokeRGBColor:this.setStrokeRGBColor(vt[0],vt[1],vt[2]);break;case a.OPS.setStrokeColorN:this.setStrokeColorN(vt);break;case a.OPS.setFillColorN:this.setFillColorN(vt);break;case a.OPS.shadingFill:this.shadingFill(vt[0]);break;case a.OPS.setDash:this.setDash(vt[0],vt[1]);break;case a.OPS.setRenderingIntent:this.setRenderingIntent(vt[0]);break;case a.OPS.setFlatness:this.setFlatness(vt[0]);break;case a.OPS.setGState:this.setGState(vt[0]);break;case a.OPS.fill:this.fill();break;case a.OPS.eoFill:this.eoFill();break;case a.OPS.stroke:this.stroke();break;case a.OPS.fillStroke:this.fillStroke();break;case a.OPS.eoFillStroke:this.eoFillStroke();break;case a.OPS.clip:this.clip("nonzero");break;case a.OPS.eoClip:this.clip("evenodd");break;case a.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case a.OPS.paintImageXObject:this.paintImageXObject(vt[0]);break;case a.OPS.paintInlineImageXObject:this.paintInlineImageXObject(vt[0]);break;case a.OPS.paintImageMaskXObject:this.paintImageMaskXObject(vt[0]);break;case a.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(vt[0],vt[1]);break;case a.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case a.OPS.closePath:this.closePath();break;case a.OPS.closeStroke:this.closeStroke();break;case a.OPS.closeFillStroke:this.closeFillStroke();break;case a.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case a.OPS.nextLine:this.nextLine();break;case a.OPS.transform:this.transform(vt[0],vt[1],vt[2],vt[3],vt[4],vt[5]);break;case a.OPS.constructPath:this.constructPath(vt[0],vt[1]);break;case a.OPS.endPath:this.endPath();break;case 92:this.group(at.items);break;default:(0,a.warn)(`Unimplemented operator ${yt}`);break}}}setWordSpacing(j){this.current.wordSpacing=j}setCharSpacing(j){this.current.charSpacing=j}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(j,at,yt,lt,vt,xt){const bt=this.current;bt.textMatrix=bt.lineMatrix=[j,at,yt,lt,vt,xt],bt.textMatrixScale=Math.hypot(j,at),bt.x=bt.lineX=0,bt.y=bt.lineY=0,bt.xcoords=[],bt.ycoords=[],bt.tspan=this.svgFactory.createElement("svg:tspan"),bt.tspan.setAttributeNS(null,"font-family",bt.fontFamily),bt.tspan.setAttributeNS(null,"font-size",`${nt(bt.fontSize)}px`),bt.tspan.setAttributeNS(null,"y",nt(-bt.y)),bt.txtElement=this.svgFactory.createElement("svg:text"),bt.txtElement.append(bt.tspan)}beginText(){const j=this.current;j.x=j.lineX=0,j.y=j.lineY=0,j.textMatrix=a.IDENTITY_MATRIX,j.lineMatrix=a.IDENTITY_MATRIX,j.textMatrixScale=1,j.tspan=this.svgFactory.createElement("svg:tspan"),j.txtElement=this.svgFactory.createElement("svg:text"),j.txtgrp=this.svgFactory.createElement("svg:g"),j.xcoords=[],j.ycoords=[]}moveText(j,at){const yt=this.current;yt.x=yt.lineX+=j,yt.y=yt.lineY+=at,yt.xcoords=[],yt.ycoords=[],yt.tspan=this.svgFactory.createElement("svg:tspan"),yt.tspan.setAttributeNS(null,"font-family",yt.fontFamily),yt.tspan.setAttributeNS(null,"font-size",`${nt(yt.fontSize)}px`),yt.tspan.setAttributeNS(null,"y",nt(-yt.y))}showText(j){const at=this.current,yt=at.font,lt=at.fontSize;if(lt===0)return;const vt=at.fontSizeScale,xt=at.charSpacing,bt=at.wordSpacing,It=at.fontDirection,Kt=at.textHScale*It,Zt=yt.vertical,jt=Zt?1:-1,$t=yt.defaultVMetrics,Qt=lt*at.fontMatrix[0];let Jt=0;for(const Ct of j){if(Ct===null){Jt+=It*bt;continue}else if(typeof Ct=="number"){Jt+=jt*Ct*lt/1e3;continue}const ht=(Ct.isSpace?bt:0)+xt,gt=Ct.fontChar;let wt,Rt,Mt=Ct.width;if(Zt){let Pt;const kt=Ct.vmetric||$t;Pt=Ct.vmetric?kt[1]:Mt*.5,Pt=-Pt*Qt;const Tt=kt[2]*Qt;Mt=kt?-kt[0]:Mt,wt=Pt/vt,Rt=(Jt+Tt)/vt}else wt=Jt/vt,Rt=0;(Ct.isInFont||yt.missingFile)&&(at.xcoords.push(at.x+wt),Zt&&at.ycoords.push(-at.y+Rt),at.tspan.textContent+=gt);let Nt;Zt?Nt=Mt*Qt-ht*It:Nt=Mt*Qt+ht*It,Jt+=Nt}at.tspan.setAttributeNS(null,"x",at.xcoords.map(nt).join(" ")),Zt?at.tspan.setAttributeNS(null,"y",at.ycoords.map(nt).join(" ")):at.tspan.setAttributeNS(null,"y",nt(-at.y)),Zt?at.y-=Jt:at.x+=Jt*Kt,at.tspan.setAttributeNS(null,"font-family",at.fontFamily),at.tspan.setAttributeNS(null,"font-size",`${nt(at.fontSize)}px`),at.fontStyle!==_.fontStyle&&at.tspan.setAttributeNS(null,"font-style",at.fontStyle),at.fontWeight!==_.fontWeight&&at.tspan.setAttributeNS(null,"font-weight",at.fontWeight);const on=at.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK;if(on===a.TextRenderingMode.FILL||on===a.TextRenderingMode.FILL_STROKE?(at.fillColor!==_.fillColor&&at.tspan.setAttributeNS(null,"fill",at.fillColor),at.fillAlpha<1&&at.tspan.setAttributeNS(null,"fill-opacity",at.fillAlpha)):at.textRenderingMode===a.TextRenderingMode.ADD_TO_PATH?at.tspan.setAttributeNS(null,"fill","transparent"):at.tspan.setAttributeNS(null,"fill","none"),on===a.TextRenderingMode.STROKE||on===a.TextRenderingMode.FILL_STROKE){const Ct=1/(at.textMatrixScale||1);this._setStrokeAttributes(at.tspan,Ct)}let un=at.textMatrix;at.textRise!==0&&(un=un.slice(),un[5]+=at.textRise),at.txtElement.setAttributeNS(null,"transform",`${$(un)} scale(${nt(Kt)}, -1)`),at.txtElement.setAttributeNS(_e,"xml:space","preserve"),at.txtElement.append(at.tspan),at.txtgrp.append(at.txtElement),this._ensureTransformGroup().append(at.txtElement)}setLeadingMoveText(j,at){this.setLeading(-at),this.moveText(j,at)}addFontStyle(j){if(!j.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const at=it(j.data,j.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${j.loadedName}"; src: url(${at}); }
`}setFont(j){const at=this.current,yt=this.commonObjs.get(j[0]);let lt=j[1];at.font=yt,this.embedFonts&&!yt.missingFile&&!this.embeddedFonts[yt.loadedName]&&(this.addFontStyle(yt),this.embeddedFonts[yt.loadedName]=yt),at.fontMatrix=yt.fontMatrix||a.FONT_IDENTITY_MATRIX;let vt="normal";yt.black?vt="900":yt.bold&&(vt="bold");const xt=yt.italic?"italic":"normal";lt<0?(lt=-lt,at.fontDirection=-1):at.fontDirection=1,at.fontSize=lt,at.fontFamily=yt.loadedName,at.fontWeight=vt,at.fontStyle=xt,at.tspan=this.svgFactory.createElement("svg:tspan"),at.tspan.setAttributeNS(null,"y",nt(-at.y)),at.xcoords=[],at.ycoords=[]}endText(){var at;const j=this.current;j.textRenderingMode&a.TextRenderingMode.ADD_TO_PATH_FLAG&&((at=j.txtElement)!=null&&at.hasChildNodes())&&(j.element=j.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(j){j>0&&(this.current.lineWidth=j)}setLineCap(j){this.current.lineCap=ut[j]}setLineJoin(j){this.current.lineJoin=rt[j]}setMiterLimit(j){this.current.miterLimit=j}setStrokeAlpha(j){this.current.strokeAlpha=j}setStrokeRGBColor(j,at,yt){this.current.strokeColor=a.Util.makeHexColor(j,at,yt)}setFillAlpha(j){this.current.fillAlpha=j}setFillRGBColor(j,at,yt){this.current.fillColor=a.Util.makeHexColor(j,at,yt),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(j){this.current.strokeColor=this._makeColorN_Pattern(j)}setFillColorN(j){this.current.fillColor=this._makeColorN_Pattern(j)}shadingFill(j){const at=this.viewport.width,yt=this.viewport.height,lt=a.Util.inverseTransform(this.transformMatrix),vt=a.Util.applyTransform([0,0],lt),xt=a.Util.applyTransform([0,yt],lt),bt=a.Util.applyTransform([at,0],lt),It=a.Util.applyTransform([at,yt],lt),Kt=Math.min(vt[0],xt[0],bt[0],It[0]),Zt=Math.min(vt[1],xt[1],bt[1],It[1]),jt=Math.max(vt[0],xt[0],bt[0],It[0]),$t=Math.max(vt[1],xt[1],bt[1],It[1]),Qt=this.svgFactory.createElement("svg:rect");Qt.setAttributeNS(null,"x",Kt),Qt.setAttributeNS(null,"y",Zt),Qt.setAttributeNS(null,"width",jt-Kt),Qt.setAttributeNS(null,"height",$t-Zt),Qt.setAttributeNS(null,"fill",this._makeShadingPattern(j)),this.current.fillAlpha<1&&Qt.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Qt)}_makeColorN_Pattern(j){return j[0]==="TilingPattern"?this._makeTilingPattern(j):this._makeShadingPattern(j)}_makeTilingPattern(j){const at=j[1],yt=j[2],lt=j[3]||a.IDENTITY_MATRIX,[vt,xt,bt,It]=j[4],Kt=j[5],Zt=j[6],jt=j[7],$t=`shading${ft++}`,[Qt,Jt,on,un]=a.Util.normalizeRect([...a.Util.applyTransform([vt,xt],lt),...a.Util.applyTransform([bt,It],lt)]),[Ct,ht]=a.Util.singularValueDecompose2dScale(lt),gt=Kt*Ct,wt=Zt*ht,Rt=this.svgFactory.createElement("svg:pattern");Rt.setAttributeNS(null,"id",$t),Rt.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Rt.setAttributeNS(null,"width",gt),Rt.setAttributeNS(null,"height",wt),Rt.setAttributeNS(null,"x",`${Qt}`),Rt.setAttributeNS(null,"y",`${Jt}`);const Mt=this.svg,Nt=this.transformMatrix,Pt=this.current.fillColor,kt=this.current.strokeColor,Tt=this.svgFactory.create(on-Qt,un-Jt);if(this.svg=Tt,this.transformMatrix=lt,jt===2){const et=a.Util.makeHexColor(...at);this.current.fillColor=et,this.current.strokeColor=et}return this.executeOpTree(this.convertOpList(yt)),this.svg=Mt,this.transformMatrix=Nt,this.current.fillColor=Pt,this.current.strokeColor=kt,Rt.append(Tt.childNodes[0]),this.defs.append(Rt),`url(#${$t})`}_makeShadingPattern(j){switch(typeof j=="string"&&(j=this.objs.get(j)),j[0]){case"RadialAxial":const at=`shading${ft++}`,yt=j[3];let lt;switch(j[1]){case"axial":const vt=j[4],xt=j[5];lt=this.svgFactory.createElement("svg:linearGradient"),lt.setAttributeNS(null,"id",at),lt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),lt.setAttributeNS(null,"x1",vt[0]),lt.setAttributeNS(null,"y1",vt[1]),lt.setAttributeNS(null,"x2",xt[0]),lt.setAttributeNS(null,"y2",xt[1]);break;case"radial":const bt=j[4],It=j[5],Kt=j[6],Zt=j[7];lt=this.svgFactory.createElement("svg:radialGradient"),lt.setAttributeNS(null,"id",at),lt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),lt.setAttributeNS(null,"cx",It[0]),lt.setAttributeNS(null,"cy",It[1]),lt.setAttributeNS(null,"r",Zt),lt.setAttributeNS(null,"fx",bt[0]),lt.setAttributeNS(null,"fy",bt[1]),lt.setAttributeNS(null,"fr",Kt);break;default:throw new Error(`Unknown RadialAxial type: ${j[1]}`)}for(const vt of yt){const xt=this.svgFactory.createElement("svg:stop");xt.setAttributeNS(null,"offset",vt[0]),xt.setAttributeNS(null,"stop-color",vt[1]),lt.append(xt)}return this.defs.append(lt),`url(#${at})`;case"Mesh":return(0,a.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${j[0]}`)}}setDash(j,at){this.current.dashArray=j,this.current.dashPhase=at}constructPath(j,at){const yt=this.current;let lt=yt.x,vt=yt.y,xt=[],bt=0;for(const It of j)switch(It|0){case a.OPS.rectangle:lt=at[bt++],vt=at[bt++];const Kt=at[bt++],Zt=at[bt++],jt=lt+Kt,$t=vt+Zt;xt.push("M",nt(lt),nt(vt),"L",nt(jt),nt(vt),"L",nt(jt),nt($t),"L",nt(lt),nt($t),"Z");break;case a.OPS.moveTo:lt=at[bt++],vt=at[bt++],xt.push("M",nt(lt),nt(vt));break;case a.OPS.lineTo:lt=at[bt++],vt=at[bt++],xt.push("L",nt(lt),nt(vt));break;case a.OPS.curveTo:lt=at[bt+4],vt=at[bt+5],xt.push("C",nt(at[bt]),nt(at[bt+1]),nt(at[bt+2]),nt(at[bt+3]),nt(lt),nt(vt)),bt+=6;break;case a.OPS.curveTo2:xt.push("C",nt(lt),nt(vt),nt(at[bt]),nt(at[bt+1]),nt(at[bt+2]),nt(at[bt+3])),lt=at[bt+2],vt=at[bt+3],bt+=4;break;case a.OPS.curveTo3:lt=at[bt+2],vt=at[bt+3],xt.push("C",nt(at[bt]),nt(at[bt+1]),nt(lt),nt(vt),nt(lt),nt(vt)),bt+=4;break;case a.OPS.closePath:xt.push("Z");break}xt=xt.join(" "),yt.path&&j.length>0&&j[0]!==a.OPS.rectangle&&j[0]!==a.OPS.moveTo?xt=yt.path.getAttributeNS(null,"d")+xt:(yt.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(yt.path)),yt.path.setAttributeNS(null,"d",xt),yt.path.setAttributeNS(null,"fill","none"),yt.element=yt.path,yt.setCurrentPoint(lt,vt)}endPath(){const j=this.current;if(j.path=null,!this.pendingClip)return;if(!j.element){this.pendingClip=null;return}const at=`clippath${_t++}`,yt=this.svgFactory.createElement("svg:clipPath");yt.setAttributeNS(null,"id",at),yt.setAttributeNS(null,"transform",$(this.transformMatrix));const lt=j.element.cloneNode(!0);if(this.pendingClip==="evenodd"?lt.setAttributeNS(null,"clip-rule","evenodd"):lt.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,yt.append(lt),this.defs.append(yt),j.activeClipUrl){j.clipGroup=null;for(const vt of this.extraStack)vt.clipGroup=null;yt.setAttributeNS(null,"clip-path",j.activeClipUrl)}j.activeClipUrl=`url(#${at})`,this.tgrp=null}clip(j){this.pendingClip=j}closePath(){const j=this.current;if(j.path){const at=`${j.path.getAttributeNS(null,"d")}Z`;j.path.setAttributeNS(null,"d",at)}}setLeading(j){this.current.leading=-j}setTextRise(j){this.current.textRise=j}setTextRenderingMode(j){this.current.textRenderingMode=j}setHScale(j){this.current.textHScale=j/100}setRenderingIntent(j){}setFlatness(j){}setGState(j){for(const[at,yt]of j)switch(at){case"LW":this.setLineWidth(yt);break;case"LC":this.setLineCap(yt);break;case"LJ":this.setLineJoin(yt);break;case"ML":this.setMiterLimit(yt);break;case"D":this.setDash(yt[0],yt[1]);break;case"RI":this.setRenderingIntent(yt);break;case"FL":this.setFlatness(yt);break;case"Font":this.setFont(yt);break;case"CA":this.setStrokeAlpha(yt);break;case"ca":this.setFillAlpha(yt);break;default:(0,a.warn)(`Unimplemented graphic state operator ${at}`);break}}fill(){const j=this.current;j.element&&(j.element.setAttributeNS(null,"fill",j.fillColor),j.element.setAttributeNS(null,"fill-opacity",j.fillAlpha),this.endPath())}stroke(){const j=this.current;j.element&&(this._setStrokeAttributes(j.element),j.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(j,at=1){const yt=this.current;let lt=yt.dashArray;at!==1&&lt.length>0&&(lt=lt.map(function(vt){return at*vt})),j.setAttributeNS(null,"stroke",yt.strokeColor),j.setAttributeNS(null,"stroke-opacity",yt.strokeAlpha),j.setAttributeNS(null,"stroke-miterlimit",nt(yt.miterLimit)),j.setAttributeNS(null,"stroke-linecap",yt.lineCap),j.setAttributeNS(null,"stroke-linejoin",yt.lineJoin),j.setAttributeNS(null,"stroke-width",nt(at*yt.lineWidth)+"px"),j.setAttributeNS(null,"stroke-dasharray",lt.map(nt).join(" ")),j.setAttributeNS(null,"stroke-dashoffset",nt(at*yt.dashPhase)+"px")}eoFill(){var j;(j=this.current.element)==null||j.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var j;(j=this.current.element)==null||j.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const j=this.svgFactory.createElement("svg:rect");j.setAttributeNS(null,"x","0"),j.setAttributeNS(null,"y","0"),j.setAttributeNS(null,"width","1px"),j.setAttributeNS(null,"height","1px"),j.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(j)}paintImageXObject(j){const at=this.getObject(j);if(!at){(0,a.warn)(`Dependent image with object ID ${j} is not ready yet`);return}this.paintInlineImageXObject(at)}paintInlineImageXObject(j,at){const yt=j.width,lt=j.height,vt=dt(j,this.forceDataSchema,!!at),xt=this.svgFactory.createElement("svg:rect");xt.setAttributeNS(null,"x","0"),xt.setAttributeNS(null,"y","0"),xt.setAttributeNS(null,"width",nt(yt)),xt.setAttributeNS(null,"height",nt(lt)),this.current.element=xt,this.clip("nonzero");const bt=this.svgFactory.createElement("svg:image");bt.setAttributeNS(ot,"xlink:href",vt),bt.setAttributeNS(null,"x","0"),bt.setAttributeNS(null,"y",nt(-lt)),bt.setAttributeNS(null,"width",nt(yt)+"px"),bt.setAttributeNS(null,"height",nt(lt)+"px"),bt.setAttributeNS(null,"transform",`scale(${nt(1/yt)} ${nt(-1/lt)})`),at?at.append(bt):this._ensureTransformGroup().append(bt)}paintImageMaskXObject(j){const at=this.getObject(j.data,j);if(at.bitmap){(0,a.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const yt=this.current,lt=at.width,vt=at.height,xt=yt.fillColor;yt.maskId=`mask${At++}`;const bt=this.svgFactory.createElement("svg:mask");bt.setAttributeNS(null,"id",yt.maskId);const It=this.svgFactory.createElement("svg:rect");It.setAttributeNS(null,"x","0"),It.setAttributeNS(null,"y","0"),It.setAttributeNS(null,"width",nt(lt)),It.setAttributeNS(null,"height",nt(vt)),It.setAttributeNS(null,"fill",xt),It.setAttributeNS(null,"mask",`url(#${yt.maskId})`),this.defs.append(bt),this._ensureTransformGroup().append(It),this.paintInlineImageXObject(at,bt)}paintFormXObjectBegin(j,at){if(Array.isArray(j)&&j.length===6&&this.transform(j[0],j[1],j[2],j[3],j[4],j[5]),at){const yt=at[2]-at[0],lt=at[3]-at[1],vt=this.svgFactory.createElement("svg:rect");vt.setAttributeNS(null,"x",at[0]),vt.setAttributeNS(null,"y",at[1]),vt.setAttributeNS(null,"width",nt(yt)),vt.setAttributeNS(null,"height",nt(lt)),this.current.element=vt,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(j){const at=this.svgFactory.create(j.width,j.height),yt=this.svgFactory.createElement("svg:defs");at.append(yt),this.defs=yt;const lt=this.svgFactory.createElement("svg:g");return lt.setAttributeNS(null,"transform",$(j.transform)),at.append(lt),this.svg=lt,at}_ensureClipGroup(){if(!this.current.clipGroup){const j=this.svgFactory.createElement("svg:g");j.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(j),this.current.clipGroup=j}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",$(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var i=__webpack_module_cache__[e];if(i!==void 0)return i.exports;var s=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](s,s.exports,__w_pdfjs_require__),s.exports}var __webpack_exports__={};return(()=>{var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AbortException",{enumerable:!0,get:function(){return i.AbortException}}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return c.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return i.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return i.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return d.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return h.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return i.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return i.CMapCompressionType}}),Object.defineProperty(e,"FeatureTest",{enumerable:!0,get:function(){return i.FeatureTest}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return g.GlobalWorkerOptions}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return i.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return i.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return i.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return s.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return o.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return s.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return i.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return i.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return o.PixelsPerInch}}),Object.defineProperty(e,"PromiseCapability",{enumerable:!0,get:function(){return i.PromiseCapability}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return o.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return b.SVGGraphics}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return i.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return i.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return i.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return _.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return s.build}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return i.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return s.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return o.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return o.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return o.getXfaPageViewport}}),Object.defineProperty(e,"isDataScheme",{enumerable:!0,get:function(){return o.isDataScheme}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return o.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return o.loadScript}}),Object.defineProperty(e,"normalizeUnicode",{enumerable:!0,get:function(){return i.normalizeUnicode}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return a.renderTextLayer}}),Object.defineProperty(e,"setLayerDimensions",{enumerable:!0,get:function(){return o.setLayerDimensions}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return i.shadow}}),Object.defineProperty(e,"updateTextLayer",{enumerable:!0,get:function(){return a.updateTextLayer}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return s.version}});var i=__w_pdfjs_require__(1),s=__w_pdfjs_require__(2),o=__w_pdfjs_require__(6),a=__w_pdfjs_require__(26),c=__w_pdfjs_require__(27),d=__w_pdfjs_require__(5),h=__w_pdfjs_require__(30),g=__w_pdfjs_require__(14),b=__w_pdfjs_require__(33),_=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;const File$1="";function useMediaQueryOld(e,i,s,o,a){const[c,d]=reactExports.useState(()=>a&&s?s(e).matches:o?o(e).matches:i);return useEnhancedEffect$1(()=>{let h=!0;if(!s)return;const g=s(e),b=()=>{h&&d(g.matches)};return b(),g.addListener(b),()=>{h=!1,g.removeListener(b)}},[e,s]),c}const maybeReactUseSyncExternalStore=React$1["useSyncExternalStore"];function useMediaQueryNew(e,i,s,o,a){const c=reactExports.useCallback(()=>i,[i]),d=reactExports.useMemo(()=>{if(a&&s)return()=>s(e).matches;if(o!==null){const{matches:_}=o(e);return()=>_}return c},[c,e,o,a,s]),[h,g]=reactExports.useMemo(()=>{if(s===null)return[c,()=>()=>{}];const _=s(e);return[()=>_.matches,_e=>(_.addListener(_e),()=>{_.removeListener(_e)})]},[c,s,e]);return maybeReactUseSyncExternalStore(g,h,d)}function useMediaQuery(e,i={}){const s=useTheme$1(),o=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:a=!1,matchMedia:c=o?window.matchMedia:null,ssrMatchMedia:d=null,noSsr:h=!1}=getThemeProps({name:"MuiUseMediaQuery",props:i,theme:s});let g=typeof e=="function"?e(s):e;return g=g.replace(/^@media( ?)/m,""),(maybeReactUseSyncExternalStore!==void 0?useMediaQueryNew:useMediaQueryOld)(g,a,c,d,h)}const Folder="";pdfExports.GlobalWorkerOptions.workerSrc="pdfjs-dist/build/pdf.worker.js";const FileManager="",Header="",Sidebar=()=>useMediaQuery(i=>i.breakpoints.down("sm"))?jsxRuntimeExports.jsxs("div",{style:{flex:1,flexDirection:"column"},children:[jsxRuntimeExports.jsx("div",{style:{marginBottom:"60px"}}),jsxRuntimeExports.jsx("div",{style:{width:"100vw",height:"60px",borderTop:"2px solid grey",position:"fixed",bottom:0,display:"flex",justifyContent:"space-between"}})]}):jsxRuntimeExports.jsxs("div",{style:{flex:1,flexDirection:"row"},children:[jsxRuntimeExports.jsx("div",{style:{height:"100vh",width:"4vw",borderRight:"2px solid grey",position:"fixed",display:"flex",flexDirection:"column",justifyContent:"space-between"}}),jsxRuntimeExports.jsx("div",{style:{marginLeft:"4vw",marginTop:"3vh"}})]});function App(){const[e,i]=reactExports.useState(null);reactExports.useEffect(()=>{supabase.auth.getSession().then(({data:{session:o}})=>{i(o)}),supabase.auth.onAuthStateChange((o,a)=>{i(a)}),console.log(e)},[]);const s=createTheme();return jsxRuntimeExports.jsx(ThemeProvider,{theme:s,children:jsxRuntimeExports.jsx(RouterProvider,{router:createBrowserRouter([{path:"/",element:e?jsxRuntimeExports.jsx(Sidebar,{}):jsxRuntimeExports.jsx(Auth,{})}])})})}const index="";client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
